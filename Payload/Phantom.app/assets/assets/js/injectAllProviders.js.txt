"use strict";(()=>{var wT=Object.create;var Sc=Object.defineProperty;var bT=Object.getOwnPropertyDescriptor;var ST=Object.getOwnPropertyNames;var vT=Object.getPrototypeOf,ET=Object.prototype.hasOwnProperty;var A0=r=>{throw TypeError(r)};var _T=(r,e,t)=>e in r?Sc(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var RT=(r,e)=>()=>(r&&(e=r(r=0)),e);var Ee=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),F=(r,e)=>{for(var t in e)Sc(r,t,{get:e[t],enumerable:!0})},kT=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of ST(e))!ET.call(r,o)&&o!==t&&Sc(r,o,{get:()=>e[o],enumerable:!(n=bT(e,o))||n.enumerable});return r};var je=(r,e,t)=>(t=r!=null?wT(vT(r)):{},kT(e||!r||!r.__esModule?Sc(t,"default",{value:r,enumerable:!0}):t,r));var _e=(r,e,t)=>_T(r,typeof e!="symbol"?e+"":e,t),sd=(r,e,t)=>e.has(r)||A0("Cannot "+t);var q=(r,e,t)=>(sd(r,e,"read from private field"),t?t.call(r):e.get(r)),se=(r,e,t)=>e.has(r)?A0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),Me=(r,e,t,n)=>(sd(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),Kt=(r,e,t)=>(sd(r,e,"access private method"),t);var ad=Ee(vc=>{"use strict";l();vc.byteLength=IT;vc.toByteArray=TT;vc.fromByteArray=MT;var an=[],Mr=[],AT=typeof Uint8Array<"u"?Uint8Array:Array,id="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(is=0,I0=id.length;is<I0;++is)an[is]=id[is],Mr[id.charCodeAt(is)]=is;var is,I0;Mr[45]=62;Mr[95]=63;function B0(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function IT(r){var e=B0(r),t=e[0],n=e[1];return(t+n)*3/4-n}function BT(r,e,t){return(e+t)*3/4-t}function TT(r){var e,t=B0(r),n=t[0],o=t[1],s=new AT(BT(r,n,o)),a=0,u=o>0?n-4:n,f;for(f=0;f<u;f+=4)e=Mr[r.charCodeAt(f)]<<18|Mr[r.charCodeAt(f+1)]<<12|Mr[r.charCodeAt(f+2)]<<6|Mr[r.charCodeAt(f+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return o===2&&(e=Mr[r.charCodeAt(f)]<<2|Mr[r.charCodeAt(f+1)]>>4,s[a++]=e&255),o===1&&(e=Mr[r.charCodeAt(f)]<<10|Mr[r.charCodeAt(f+1)]<<4|Mr[r.charCodeAt(f+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function PT(r){return an[r>>18&63]+an[r>>12&63]+an[r>>6&63]+an[r&63]}function zT(r,e,t){for(var n,o=[],s=e;s<t;s+=3)n=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(r[s+2]&255),o.push(PT(n));return o.join("")}function MT(r){for(var e,t=r.length,n=t%3,o=[],s=16383,a=0,u=t-n;a<u;a+=s)o.push(zT(r,a,a+s>u?u:a+s));return n===1?(e=r[t-1],o.push(an[e>>2]+an[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],o.push(an[e>>10]+an[e>>4&63]+an[e<<2&63]+"=")),o.join("")}});var ud=Ee(cd=>{l();cd.read=function(r,e,t,n,o){var s,a,u=o*8-n-1,f=(1<<u)-1,g=f>>1,b=-7,S=t?o-1:0,O=t?-1:1,C=r[e+S];for(S+=O,s=C&(1<<-b)-1,C>>=-b,b+=u;b>0;s=s*256+r[e+S],S+=O,b-=8);for(a=s&(1<<-b)-1,s>>=-b,b+=n;b>0;a=a*256+r[e+S],S+=O,b-=8);if(s===0)s=1-g;else{if(s===f)return a?NaN:(C?-1:1)*(1/0);a=a+Math.pow(2,n),s=s-g}return(C?-1:1)*a*Math.pow(2,s-n)};cd.write=function(r,e,t,n,o,s){var a,u,f,g=s*8-o-1,b=(1<<g)-1,S=b>>1,O=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,C=n?0:s-1,V=n?1:-1,J=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,a=b):(a=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-a))<1&&(a--,f*=2),a+S>=1?e+=O/f:e+=O*Math.pow(2,1-S),e*f>=2&&(a++,f/=2),a+S>=b?(u=0,a=b):a+S>=1?(u=(e*f-1)*Math.pow(2,o),a=a+S):(u=e*Math.pow(2,S-1)*Math.pow(2,o),a=0));o>=8;r[t+C]=u&255,C+=V,u/=256,o-=8);for(a=a<<o|u,g+=o;g>0;r[t+C]=a&255,C+=V,a/=256,g-=8);r[t+C-V]|=J*128}});var Js=Ee($s=>{"use strict";l();var pd=ad(),Zs=ud(),T0=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;$s.Buffer=Z;$s.SlowBuffer=UT;$s.INSPECT_MAX_BYTES=50;var Ec=2147483647;$s.kMaxLength=Ec;Z.TYPED_ARRAY_SUPPORT=LT();!Z.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function LT(){try{let r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(Z.prototype,"parent",{enumerable:!0,get:function(){if(Z.isBuffer(this))return this.buffer}});Object.defineProperty(Z.prototype,"offset",{enumerable:!0,get:function(){if(Z.isBuffer(this))return this.byteOffset}});function In(r){if(r>Ec)throw new RangeError('The value "'+r+'" is invalid for option "size"');let e=new Uint8Array(r);return Object.setPrototypeOf(e,Z.prototype),e}function Z(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return hd(r)}return L0(r,e,t)}Z.poolSize=8192;function L0(r,e,t){if(typeof r=="string")return CT(r,e);if(ArrayBuffer.isView(r))return OT(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(cn(r,ArrayBuffer)||r&&cn(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(cn(r,SharedArrayBuffer)||r&&cn(r.buffer,SharedArrayBuffer)))return ld(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=r.valueOf&&r.valueOf();if(n!=null&&n!==r)return Z.from(n,e,t);let o=qT(r);if(o)return o;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return Z.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}Z.from=function(r,e,t){return L0(r,e,t)};Object.setPrototypeOf(Z.prototype,Uint8Array.prototype);Object.setPrototypeOf(Z,Uint8Array);function N0(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function NT(r,e,t){return N0(r),r<=0?In(r):e!==void 0?typeof t=="string"?In(r).fill(e,t):In(r).fill(e):In(r)}Z.alloc=function(r,e,t){return NT(r,e,t)};function hd(r){return N0(r),In(r<0?0:yd(r)|0)}Z.allocUnsafe=function(r){return hd(r)};Z.allocUnsafeSlow=function(r){return hd(r)};function CT(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Z.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=C0(r,e)|0,n=In(t),o=n.write(r,e);return o!==t&&(n=n.slice(0,o)),n}function fd(r){let e=r.length<0?0:yd(r.length)|0,t=In(e);for(let n=0;n<e;n+=1)t[n]=r[n]&255;return t}function OT(r){if(cn(r,Uint8Array)){let e=new Uint8Array(r);return ld(e.buffer,e.byteOffset,e.byteLength)}return fd(r)}function ld(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&t===void 0?n=new Uint8Array(r):t===void 0?n=new Uint8Array(r,e):n=new Uint8Array(r,e,t),Object.setPrototypeOf(n,Z.prototype),n}function qT(r){if(Z.isBuffer(r)){let e=yd(r.length)|0,t=In(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||gd(r.length)?In(0):fd(r);if(r.type==="Buffer"&&Array.isArray(r.data))return fd(r.data)}function yd(r){if(r>=Ec)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ec.toString(16)+" bytes");return r|0}function UT(r){return+r!=r&&(r=0),Z.alloc(+r)}Z.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==Z.prototype};Z.compare=function(e,t){if(cn(e,Uint8Array)&&(e=Z.from(e,e.offset,e.byteLength)),cn(t,Uint8Array)&&(t=Z.from(t,t.offset,t.byteLength)),!Z.isBuffer(e)||!Z.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,o=t.length;for(let s=0,a=Math.min(n,o);s<a;++s)if(e[s]!==t[s]){n=e[s],o=t[s];break}return n<o?-1:o<n?1:0};Z.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Z.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return Z.alloc(0);let n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;let o=Z.allocUnsafe(t),s=0;for(n=0;n<e.length;++n){let a=e[n];if(cn(a,Uint8Array))s+a.length>o.length?(Z.isBuffer(a)||(a=Z.from(a)),a.copy(o,s)):Uint8Array.prototype.set.call(o,a,s);else if(Z.isBuffer(a))a.copy(o,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=a.length}return o};function C0(r,e){if(Z.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||cn(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);let t=r.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&t===0)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return dd(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return W0(r).length;default:if(o)return n?-1:dd(r).length;e=(""+e).toLowerCase(),o=!0}}Z.byteLength=C0;function DT(r,e,t){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return $T(this,e,t);case"utf8":case"utf-8":return q0(this,e,t);case"ascii":return ZT(this,e,t);case"latin1":case"binary":return YT(this,e,t);case"base64":return VT(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return JT(this,e,t);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}Z.prototype._isBuffer=!0;function as(r,e,t){let n=r[e];r[e]=r[t],r[t]=n}Z.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)as(this,t,t+1);return this};Z.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)as(this,t,t+3),as(this,t+1,t+2);return this};Z.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)as(this,t,t+7),as(this,t+1,t+6),as(this,t+2,t+5),as(this,t+3,t+4);return this};Z.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?q0(this,0,e):DT.apply(this,arguments)};Z.prototype.toLocaleString=Z.prototype.toString;Z.prototype.equals=function(e){if(!Z.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:Z.compare(this,e)===0};Z.prototype.inspect=function(){let e="",t=$s.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};T0&&(Z.prototype[T0]=Z.prototype.inspect);Z.prototype.compare=function(e,t,n,o,s){if(cn(e,Uint8Array)&&(e=Z.from(e,e.offset,e.byteLength)),!Z.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),o===void 0&&(o=0),s===void 0&&(s=this.length),t<0||n>e.length||o<0||s>this.length)throw new RangeError("out of range index");if(o>=s&&t>=n)return 0;if(o>=s)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,o>>>=0,s>>>=0,this===e)return 0;let a=s-o,u=n-t,f=Math.min(a,u),g=this.slice(o,s),b=e.slice(t,n);for(let S=0;S<f;++S)if(g[S]!==b[S]){a=g[S],u=b[S];break}return a<u?-1:u<a?1:0};function O0(r,e,t,n,o){if(r.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,gd(t)&&(t=o?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(o)return-1;t=r.length-1}else if(t<0)if(o)t=0;else return-1;if(typeof e=="string"&&(e=Z.from(e,n)),Z.isBuffer(e))return e.length===0?-1:P0(r,e,t,n,o);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?o?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):P0(r,[e],t,n,o);throw new TypeError("val must be string, number or Buffer")}function P0(r,e,t,n,o){let s=1,a=r.length,u=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,a/=2,u/=2,t/=2}function f(b,S){return s===1?b[S]:b.readUInt16BE(S*s)}let g;if(o){let b=-1;for(g=t;g<a;g++)if(f(r,g)===f(e,b===-1?0:g-b)){if(b===-1&&(b=g),g-b+1===u)return b*s}else b!==-1&&(g-=g-b),b=-1}else for(t+u>a&&(t=a-u),g=t;g>=0;g--){let b=!0;for(let S=0;S<u;S++)if(f(r,g+S)!==f(e,S)){b=!1;break}if(b)return g}return-1}Z.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1};Z.prototype.indexOf=function(e,t,n){return O0(this,e,t,n,!0)};Z.prototype.lastIndexOf=function(e,t,n){return O0(this,e,t,n,!1)};function FT(r,e,t,n){t=Number(t)||0;let o=r.length-t;n?(n=Number(n),n>o&&(n=o)):n=o;let s=e.length;n>s/2&&(n=s/2);let a;for(a=0;a<n;++a){let u=parseInt(e.substr(a*2,2),16);if(gd(u))return a;r[t+a]=u}return a}function jT(r,e,t,n){return _c(dd(e,r.length-t),r,t,n)}function HT(r,e,t,n){return _c(tP(e),r,t,n)}function KT(r,e,t,n){return _c(W0(e),r,t,n)}function WT(r,e,t,n){return _c(rP(e,r.length-t),r,t,n)}Z.prototype.write=function(e,t,n,o){if(t===void 0)o="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")o=t,n=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(n)?(n=n>>>0,o===void 0&&(o="utf8")):(o=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-t;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");let a=!1;for(;;)switch(o){case"hex":return FT(this,e,t,n);case"utf8":case"utf-8":return jT(this,e,t,n);case"ascii":case"latin1":case"binary":return HT(this,e,t,n);case"base64":return KT(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return WT(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),a=!0}};Z.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function VT(r,e,t){return e===0&&t===r.length?pd.fromByteArray(r):pd.fromByteArray(r.slice(e,t))}function q0(r,e,t){t=Math.min(r.length,t);let n=[],o=e;for(;o<t;){let s=r[o],a=null,u=s>239?4:s>223?3:s>191?2:1;if(o+u<=t){let f,g,b,S;switch(u){case 1:s<128&&(a=s);break;case 2:f=r[o+1],(f&192)===128&&(S=(s&31)<<6|f&63,S>127&&(a=S));break;case 3:f=r[o+1],g=r[o+2],(f&192)===128&&(g&192)===128&&(S=(s&15)<<12|(f&63)<<6|g&63,S>2047&&(S<55296||S>57343)&&(a=S));break;case 4:f=r[o+1],g=r[o+2],b=r[o+3],(f&192)===128&&(g&192)===128&&(b&192)===128&&(S=(s&15)<<18|(f&63)<<12|(g&63)<<6|b&63,S>65535&&S<1114112&&(a=S))}}a===null?(a=65533,u=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),o+=u}return GT(n)}var z0=4096;function GT(r){let e=r.length;if(e<=z0)return String.fromCharCode.apply(String,r);let t="",n=0;for(;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=z0));return t}function ZT(r,e,t){let n="";t=Math.min(r.length,t);for(let o=e;o<t;++o)n+=String.fromCharCode(r[o]&127);return n}function YT(r,e,t){let n="";t=Math.min(r.length,t);for(let o=e;o<t;++o)n+=String.fromCharCode(r[o]);return n}function $T(r,e,t){let n=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>n)&&(t=n);let o="";for(let s=e;s<t;++s)o+=nP[r[s]];return o}function JT(r,e,t){let n=r.slice(e,t),o="";for(let s=0;s<n.length-1;s+=2)o+=String.fromCharCode(n[s]+n[s+1]*256);return o}Z.prototype.slice=function(e,t){let n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);let o=this.subarray(e,t);return Object.setPrototypeOf(o,Z.prototype),o};function Gt(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}Z.prototype.readUintLE=Z.prototype.readUIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||Gt(e,t,this.length);let o=this[e],s=1,a=0;for(;++a<t&&(s*=256);)o+=this[e+a]*s;return o};Z.prototype.readUintBE=Z.prototype.readUIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||Gt(e,t,this.length);let o=this[e+--t],s=1;for(;t>0&&(s*=256);)o+=this[e+--t]*s;return o};Z.prototype.readUint8=Z.prototype.readUInt8=function(e,t){return e=e>>>0,t||Gt(e,1,this.length),this[e]};Z.prototype.readUint16LE=Z.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||Gt(e,2,this.length),this[e]|this[e+1]<<8};Z.prototype.readUint16BE=Z.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||Gt(e,2,this.length),this[e]<<8|this[e+1]};Z.prototype.readUint32LE=Z.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||Gt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};Z.prototype.readUint32BE=Z.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||Gt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};Z.prototype.readBigUInt64LE=no(function(e){e=e>>>0,Ys(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Qi(e,this.length-8);let o=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(o)+(BigInt(s)<<BigInt(32))});Z.prototype.readBigUInt64BE=no(function(e){e=e>>>0,Ys(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Qi(e,this.length-8);let o=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(o)<<BigInt(32))+BigInt(s)});Z.prototype.readIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||Gt(e,t,this.length);let o=this[e],s=1,a=0;for(;++a<t&&(s*=256);)o+=this[e+a]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};Z.prototype.readIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||Gt(e,t,this.length);let o=t,s=1,a=this[e+--o];for(;o>0&&(s*=256);)a+=this[e+--o]*s;return s*=128,a>=s&&(a-=Math.pow(2,8*t)),a};Z.prototype.readInt8=function(e,t){return e=e>>>0,t||Gt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};Z.prototype.readInt16LE=function(e,t){e=e>>>0,t||Gt(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};Z.prototype.readInt16BE=function(e,t){e=e>>>0,t||Gt(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};Z.prototype.readInt32LE=function(e,t){return e=e>>>0,t||Gt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};Z.prototype.readInt32BE=function(e,t){return e=e>>>0,t||Gt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};Z.prototype.readBigInt64LE=no(function(e){e=e>>>0,Ys(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Qi(e,this.length-8);let o=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(o)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});Z.prototype.readBigInt64BE=no(function(e){e=e>>>0,Ys(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Qi(e,this.length-8);let o=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(o)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});Z.prototype.readFloatLE=function(e,t){return e=e>>>0,t||Gt(e,4,this.length),Zs.read(this,e,!0,23,4)};Z.prototype.readFloatBE=function(e,t){return e=e>>>0,t||Gt(e,4,this.length),Zs.read(this,e,!1,23,4)};Z.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||Gt(e,8,this.length),Zs.read(this,e,!0,52,8)};Z.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||Gt(e,8,this.length),Zs.read(this,e,!1,52,8)};function wr(r,e,t,n,o,s){if(!Z.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<s)throw new RangeError('"value" argument is out of bounds');if(t+n>r.length)throw new RangeError("Index out of range")}Z.prototype.writeUintLE=Z.prototype.writeUIntLE=function(e,t,n,o){if(e=+e,t=t>>>0,n=n>>>0,!o){let u=Math.pow(2,8*n)-1;wr(this,e,t,n,u,0)}let s=1,a=0;for(this[t]=e&255;++a<n&&(s*=256);)this[t+a]=e/s&255;return t+n};Z.prototype.writeUintBE=Z.prototype.writeUIntBE=function(e,t,n,o){if(e=+e,t=t>>>0,n=n>>>0,!o){let u=Math.pow(2,8*n)-1;wr(this,e,t,n,u,0)}let s=n-1,a=1;for(this[t+s]=e&255;--s>=0&&(a*=256);)this[t+s]=e/a&255;return t+n};Z.prototype.writeUint8=Z.prototype.writeUInt8=function(e,t,n){return e=+e,t=t>>>0,n||wr(this,e,t,1,255,0),this[t]=e&255,t+1};Z.prototype.writeUint16LE=Z.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||wr(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};Z.prototype.writeUint16BE=Z.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||wr(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};Z.prototype.writeUint32LE=Z.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||wr(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};Z.prototype.writeUint32BE=Z.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||wr(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function U0(r,e,t,n,o){K0(e,n,o,r,t,7);let s=Number(e&BigInt(4294967295));r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s;let a=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=a,a=a>>8,r[t++]=a,a=a>>8,r[t++]=a,a=a>>8,r[t++]=a,t}function D0(r,e,t,n,o){K0(e,n,o,r,t,7);let s=Number(e&BigInt(4294967295));r[t+7]=s,s=s>>8,r[t+6]=s,s=s>>8,r[t+5]=s,s=s>>8,r[t+4]=s;let a=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=a,a=a>>8,r[t+2]=a,a=a>>8,r[t+1]=a,a=a>>8,r[t]=a,t+8}Z.prototype.writeBigUInt64LE=no(function(e,t=0){return U0(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});Z.prototype.writeBigUInt64BE=no(function(e,t=0){return D0(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});Z.prototype.writeIntLE=function(e,t,n,o){if(e=+e,t=t>>>0,!o){let f=Math.pow(2,8*n-1);wr(this,e,t,n,f-1,-f)}let s=0,a=1,u=0;for(this[t]=e&255;++s<n&&(a*=256);)e<0&&u===0&&this[t+s-1]!==0&&(u=1),this[t+s]=(e/a>>0)-u&255;return t+n};Z.prototype.writeIntBE=function(e,t,n,o){if(e=+e,t=t>>>0,!o){let f=Math.pow(2,8*n-1);wr(this,e,t,n,f-1,-f)}let s=n-1,a=1,u=0;for(this[t+s]=e&255;--s>=0&&(a*=256);)e<0&&u===0&&this[t+s+1]!==0&&(u=1),this[t+s]=(e/a>>0)-u&255;return t+n};Z.prototype.writeInt8=function(e,t,n){return e=+e,t=t>>>0,n||wr(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};Z.prototype.writeInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||wr(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};Z.prototype.writeInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||wr(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};Z.prototype.writeInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||wr(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};Z.prototype.writeInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||wr(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};Z.prototype.writeBigInt64LE=no(function(e,t=0){return U0(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});Z.prototype.writeBigInt64BE=no(function(e,t=0){return D0(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function F0(r,e,t,n,o,s){if(t+n>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function j0(r,e,t,n,o){return e=+e,t=t>>>0,o||F0(r,e,t,4,34028234663852886e22,-34028234663852886e22),Zs.write(r,e,t,n,23,4),t+4}Z.prototype.writeFloatLE=function(e,t,n){return j0(this,e,t,!0,n)};Z.prototype.writeFloatBE=function(e,t,n){return j0(this,e,t,!1,n)};function H0(r,e,t,n,o){return e=+e,t=t>>>0,o||F0(r,e,t,8,17976931348623157e292,-17976931348623157e292),Zs.write(r,e,t,n,52,8),t+8}Z.prototype.writeDoubleLE=function(e,t,n){return H0(this,e,t,!0,n)};Z.prototype.writeDoubleBE=function(e,t,n){return H0(this,e,t,!1,n)};Z.prototype.copy=function(e,t,n,o){if(!Z.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!o&&o!==0&&(o=this.length),t>=e.length&&(t=e.length),t||(t=0),o>0&&o<n&&(o=n),o===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-t<o-n&&(o=e.length-t+n);let s=o-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,n,o):Uint8Array.prototype.set.call(e,this.subarray(n,o),t),s};Z.prototype.fill=function(e,t,n,o){if(typeof e=="string"){if(typeof t=="string"?(o=t,t=0,n=this.length):typeof n=="string"&&(o=n,n=this.length),o!==void 0&&typeof o!="string")throw new TypeError("encoding must be a string");if(typeof o=="string"&&!Z.isEncoding(o))throw new TypeError("Unknown encoding: "+o);if(e.length===1){let a=e.charCodeAt(0);(o==="utf8"&&a<128||o==="latin1")&&(e=a)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let s;if(typeof e=="number")for(s=t;s<n;++s)this[s]=e;else{let a=Z.isBuffer(e)?e:Z.from(e,o),u=a.length;if(u===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-t;++s)this[s+t]=a[s%u]}return this};var Gs={};function md(r,e,t){Gs[r]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(o){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:o,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}md("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);md("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError);md("ERR_OUT_OF_RANGE",function(r,e,t){let n=`The value of "${r}" is out of range.`,o=t;return Number.isInteger(t)&&Math.abs(t)>2**32?o=M0(String(t)):typeof t=="bigint"&&(o=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(o=M0(o)),o+="n"),n+=` It must be ${e}. Received ${o}`,n},RangeError);function M0(r){let e="",t=r.length,n=r[0]==="-"?1:0;for(;t>=n+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function XT(r,e,t){Ys(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&Qi(e,r.length-(t+1))}function K0(r,e,t,n,o,s){if(r>t||r<e){let a=typeof e=="bigint"?"n":"",u;throw s>3?e===0||e===BigInt(0)?u=`>= 0${a} and < 2${a} ** ${(s+1)*8}${a}`:u=`>= -(2${a} ** ${(s+1)*8-1}${a}) and < 2 ** ${(s+1)*8-1}${a}`:u=`>= ${e}${a} and <= ${t}${a}`,new Gs.ERR_OUT_OF_RANGE("value",u,r)}XT(n,o,s)}function Ys(r,e){if(typeof r!="number")throw new Gs.ERR_INVALID_ARG_TYPE(e,"number",r)}function Qi(r,e,t){throw Math.floor(r)!==r?(Ys(r,t),new Gs.ERR_OUT_OF_RANGE(t||"offset","an integer",r)):e<0?new Gs.ERR_BUFFER_OUT_OF_BOUNDS:new Gs.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,r)}var QT=/[^+/0-9A-Za-z-_]/g;function eP(r){if(r=r.split("=")[0],r=r.trim().replace(QT,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function dd(r,e){e=e||1/0;let t,n=r.length,o=null,s=[];for(let a=0;a<n;++a){if(t=r.charCodeAt(a),t>55295&&t<57344){if(!o){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(a+1===n){(e-=3)>-1&&s.push(239,191,189);continue}o=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),o=t;continue}t=(o-55296<<10|t-56320)+65536}else o&&(e-=3)>-1&&s.push(239,191,189);if(o=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function tP(r){let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function rP(r,e){let t,n,o,s=[];for(let a=0;a<r.length&&!((e-=2)<0);++a)t=r.charCodeAt(a),n=t>>8,o=t%256,s.push(o),s.push(n);return s}function W0(r){return pd.toByteArray(eP(r))}function _c(r,e,t,n){let o;for(o=0;o<n&&!(o+t>=e.length||o>=r.length);++o)e[o+t]=r[o];return o}function cn(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function gd(r){return r!==r}var nP=function(){let r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let n=t*16;for(let o=0;o<16;++o)e[n+o]=r[t]+r[o]}return e}();function no(r){return typeof BigInt>"u"?oP:r}function oP(){throw new Error("BigInt not supported")}});var $0=Ee((JU,Y0)=>{l();var Ft=Y0.exports={},un,pn;function xd(){throw new Error("setTimeout has not been defined")}function wd(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?un=setTimeout:un=xd}catch{un=xd}try{typeof clearTimeout=="function"?pn=clearTimeout:pn=wd}catch{pn=wd}})();function V0(r){if(un===setTimeout)return setTimeout(r,0);if((un===xd||!un)&&setTimeout)return un=setTimeout,setTimeout(r,0);try{return un(r,0)}catch{try{return un.call(null,r,0)}catch{return un.call(this,r,0)}}}function sP(r){if(pn===clearTimeout)return clearTimeout(r);if((pn===wd||!pn)&&clearTimeout)return pn=clearTimeout,clearTimeout(r);try{return pn(r)}catch{try{return pn.call(null,r)}catch{return pn.call(this,r)}}}var Bn=[],Xs=!1,cs,Rc=-1;function iP(){!Xs||!cs||(Xs=!1,cs.length?Bn=cs.concat(Bn):Rc=-1,Bn.length&&G0())}function G0(){if(!Xs){var r=V0(iP);Xs=!0;for(var e=Bn.length;e;){for(cs=Bn,Bn=[];++Rc<e;)cs&&cs[Rc].run();Rc=-1,e=Bn.length}cs=null,Xs=!1,sP(r)}}Ft.nextTick=function(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];Bn.push(new Z0(r,e)),Bn.length===1&&!Xs&&V0(G0)};function Z0(r,e){this.fun=r,this.array=e}Z0.prototype.run=function(){this.fun.apply(null,this.array)};Ft.title="browser";Ft.browser=!0;Ft.env={};Ft.argv=[];Ft.version="";Ft.versions={};function Tn(){}Ft.on=Tn;Ft.addListener=Tn;Ft.once=Tn;Ft.off=Tn;Ft.removeListener=Tn;Ft.removeAllListeners=Tn;Ft.emit=Tn;Ft.prependListener=Tn;Ft.prependOnceListener=Tn;Ft.listeners=function(r){return[]};Ft.binding=function(r){throw new Error("process.binding is not supported")};Ft.cwd=function(){return"/"};Ft.chdir=function(r){throw new Error("process.chdir is not supported")};Ft.umask=function(){return 0}});var J0,X0,A,R,l=RT(()=>{"use strict";J0=je(Js()),X0=je($0()),A=X0.default,R=J0.Buffer});var Bg=Ee(()=>{l()});var Nc=Ee((Tg,Ld)=>{l();(function(r,e){"use strict";function t(m,c){if(!m)throw new Error(c||"Assertion failed")}function n(m,c){m.super_=c;var p=function(){};p.prototype=c.prototype,m.prototype=new p,m.prototype.constructor=m}function o(m,c,p){if(o.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&((c==="le"||c==="be")&&(p=c,c=10),this._init(m||0,c||10,p||"be"))}typeof r=="object"?r.exports=o:e.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=Bg().Buffer}catch{}o.isBN=function(c){return c instanceof o?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===o.wordSize&&Array.isArray(c.words)},o.max=function(c,p){return c.cmp(p)>0?c:p},o.min=function(c,p){return c.cmp(p)<0?c:p},o.prototype._init=function(c,p,h){if(typeof c=="number")return this._initNumber(c,p,h);if(typeof c=="object")return this._initArray(c,p,h);p==="hex"&&(p=16),t(p===(p|0)&&p>=2&&p<=36),c=c.toString().replace(/\s+/g,"");var y=0;c[0]==="-"&&(y++,this.negative=1),y<c.length&&(p===16?this._parseHex(c,y,h):(this._parseBase(c,p,y),h==="le"&&this._initArray(this.toArray(),p,h)))},o.prototype._initNumber=function(c,p,h){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(t(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),p,h)},o.prototype._initArray=function(c,p,h){if(t(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var x,E,M=0;if(h==="be")for(y=c.length-1,x=0;y>=0;y-=3)E=c[y]|c[y-1]<<8|c[y-2]<<16,this.words[x]|=E<<M&67108863,this.words[x+1]=E>>>26-M&67108863,M+=24,M>=26&&(M-=26,x++);else if(h==="le")for(y=0,x=0;y<c.length;y+=3)E=c[y]|c[y+1]<<8|c[y+2]<<16,this.words[x]|=E<<M&67108863,this.words[x+1]=E>>>26-M&67108863,M+=24,M>=26&&(M-=26,x++);return this._strip()};function a(m,c){var p=m.charCodeAt(c);if(p>=48&&p<=57)return p-48;if(p>=65&&p<=70)return p-55;if(p>=97&&p<=102)return p-87;t(!1,"Invalid character in "+m)}function u(m,c,p){var h=a(m,p);return p-1>=c&&(h|=a(m,p-1)<<4),h}o.prototype._parseHex=function(c,p,h){this.length=Math.ceil((c.length-p)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var x=0,E=0,M;if(h==="be")for(y=c.length-1;y>=p;y-=2)M=u(c,p,y)<<x,this.words[E]|=M&67108863,x>=18?(x-=18,E+=1,this.words[E]|=M>>>26):x+=8;else{var v=c.length-p;for(y=v%2===0?p+1:p;y<c.length;y+=2)M=u(c,p,y)<<x,this.words[E]|=M&67108863,x>=18?(x-=18,E+=1,this.words[E]|=M>>>26):x+=8}this._strip()};function f(m,c,p,h){for(var y=0,x=0,E=Math.min(m.length,p),M=c;M<E;M++){var v=m.charCodeAt(M)-48;y*=h,v>=49?x=v-49+10:v>=17?x=v-17+10:x=v,t(v>=0&&x<h,"Invalid character"),y+=x}return y}o.prototype._parseBase=function(c,p,h){this.words=[0],this.length=1;for(var y=0,x=1;x<=67108863;x*=p)y++;y--,x=x/p|0;for(var E=c.length-h,M=E%y,v=Math.min(E,E-M)+h,d=0,T=h;T<v;T+=y)d=f(c,T,T+y,p),this.imuln(x),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(M!==0){var ne=1;for(d=f(c,T,c.length,p),T=0;T<M;T++)ne*=p;this.imuln(ne),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this._strip()},o.prototype.copy=function(c){c.words=new Array(this.length);for(var p=0;p<this.length;p++)c.words[p]=this.words[p];c.length=this.length,c.negative=this.negative,c.red=this.red};function g(m,c){m.words=c.words,m.length=c.length,m.negative=c.negative,m.red=c.red}if(o.prototype._move=function(c){g(c,this)},o.prototype.clone=function(){var c=new o(null);return this.copy(c),c},o.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=b}catch{o.prototype.inspect=b}else o.prototype.inspect=b;function b(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],O=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],C=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(c,p){c=c||10,p=p|0||1;var h;if(c===16||c==="hex"){h="";for(var y=0,x=0,E=0;E<this.length;E++){var M=this.words[E],v=((M<<y|x)&16777215).toString(16);x=M>>>24-y&16777215,y+=2,y>=26&&(y-=26,E--),x!==0||E!==this.length-1?h=S[6-v.length]+v+h:h=v+h}for(x!==0&&(h=x.toString(16)+h);h.length%p!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(c===(c|0)&&c>=2&&c<=36){var d=O[c],T=C[c];h="";var ne=this.clone();for(ne.negative=0;!ne.isZero();){var w=ne.modrn(T).toString(c);ne=ne.idivn(T),ne.isZero()?h=w+h:h=S[d-w.length]+w+h}for(this.isZero()&&(h="0"+h);h.length%p!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}t(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(c,p){return this.toArrayLike(s,c,p)}),o.prototype.toArray=function(c,p){return this.toArrayLike(Array,c,p)};var V=function(c,p){return c.allocUnsafe?c.allocUnsafe(p):new c(p)};o.prototype.toArrayLike=function(c,p,h){this._strip();var y=this.byteLength(),x=h||Math.max(1,y);t(y<=x,"byte array longer than desired length"),t(x>0,"Requested array length <= 0");var E=V(c,x),M=p==="le"?"LE":"BE";return this["_toArrayLike"+M](E,y),E},o.prototype._toArrayLikeLE=function(c,p){for(var h=0,y=0,x=0,E=0;x<this.length;x++){var M=this.words[x]<<E|y;c[h++]=M&255,h<c.length&&(c[h++]=M>>8&255),h<c.length&&(c[h++]=M>>16&255),E===6?(h<c.length&&(c[h++]=M>>24&255),y=0,E=0):(y=M>>>24,E+=2)}if(h<c.length)for(c[h++]=y;h<c.length;)c[h++]=0},o.prototype._toArrayLikeBE=function(c,p){for(var h=c.length-1,y=0,x=0,E=0;x<this.length;x++){var M=this.words[x]<<E|y;c[h--]=M&255,h>=0&&(c[h--]=M>>8&255),h>=0&&(c[h--]=M>>16&255),E===6?(h>=0&&(c[h--]=M>>24&255),y=0,E=0):(y=M>>>24,E+=2)}if(h>=0)for(c[h--]=y;h>=0;)c[h--]=0},Math.clz32?o.prototype._countBits=function(c){return 32-Math.clz32(c)}:o.prototype._countBits=function(c){var p=c,h=0;return p>=4096&&(h+=13,p>>>=13),p>=64&&(h+=7,p>>>=7),p>=8&&(h+=4,p>>>=4),p>=2&&(h+=2,p>>>=2),h+p},o.prototype._zeroBits=function(c){if(c===0)return 26;var p=c,h=0;return p&8191||(h+=13,p>>>=13),p&127||(h+=7,p>>>=7),p&15||(h+=4,p>>>=4),p&3||(h+=2,p>>>=2),p&1||h++,h},o.prototype.bitLength=function(){var c=this.words[this.length-1],p=this._countBits(c);return(this.length-1)*26+p};function J(m){for(var c=new Array(m.bitLength()),p=0;p<c.length;p++){var h=p/26|0,y=p%26;c[p]=m.words[h]>>>y&1}return c}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,p=0;p<this.length;p++){var h=this._zeroBits(this.words[p]);if(c+=h,h!==26)break}return c},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},o.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var p=0;p<c.length;p++)this.words[p]=this.words[p]|c.words[p];return this._strip()},o.prototype.ior=function(c){return t((this.negative|c.negative)===0),this.iuor(c)},o.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},o.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},o.prototype.iuand=function(c){var p;this.length>c.length?p=c:p=this;for(var h=0;h<p.length;h++)this.words[h]=this.words[h]&c.words[h];return this.length=p.length,this._strip()},o.prototype.iand=function(c){return t((this.negative|c.negative)===0),this.iuand(c)},o.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},o.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},o.prototype.iuxor=function(c){var p,h;this.length>c.length?(p=this,h=c):(p=c,h=this);for(var y=0;y<h.length;y++)this.words[y]=p.words[y]^h.words[y];if(this!==p)for(;y<p.length;y++)this.words[y]=p.words[y];return this.length=p.length,this._strip()},o.prototype.ixor=function(c){return t((this.negative|c.negative)===0),this.iuxor(c)},o.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},o.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},o.prototype.inotn=function(c){t(typeof c=="number"&&c>=0);var p=Math.ceil(c/26)|0,h=c%26;this._expand(p),h>0&&p--;for(var y=0;y<p;y++)this.words[y]=~this.words[y]&67108863;return h>0&&(this.words[y]=~this.words[y]&67108863>>26-h),this._strip()},o.prototype.notn=function(c){return this.clone().inotn(c)},o.prototype.setn=function(c,p){t(typeof c=="number"&&c>=0);var h=c/26|0,y=c%26;return this._expand(h+1),p?this.words[h]=this.words[h]|1<<y:this.words[h]=this.words[h]&~(1<<y),this._strip()},o.prototype.iadd=function(c){var p;if(this.negative!==0&&c.negative===0)return this.negative=0,p=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,p=this.isub(c),c.negative=1,p._normSign();var h,y;this.length>c.length?(h=this,y=c):(h=c,y=this);for(var x=0,E=0;E<y.length;E++)p=(h.words[E]|0)+(y.words[E]|0)+x,this.words[E]=p&67108863,x=p>>>26;for(;x!==0&&E<h.length;E++)p=(h.words[E]|0)+x,this.words[E]=p&67108863,x=p>>>26;if(this.length=h.length,x!==0)this.words[this.length]=x,this.length++;else if(h!==this)for(;E<h.length;E++)this.words[E]=h.words[E];return this},o.prototype.add=function(c){var p;return c.negative!==0&&this.negative===0?(c.negative=0,p=this.sub(c),c.negative^=1,p):c.negative===0&&this.negative!==0?(this.negative=0,p=c.sub(this),this.negative=1,p):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},o.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var p=this.iadd(c);return c.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var h=this.cmp(c);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,x;h>0?(y=this,x=c):(y=c,x=this);for(var E=0,M=0;M<x.length;M++)p=(y.words[M]|0)-(x.words[M]|0)+E,E=p>>26,this.words[M]=p&67108863;for(;E!==0&&M<y.length;M++)p=(y.words[M]|0)+E,E=p>>26,this.words[M]=p&67108863;if(E===0&&M<y.length&&y!==this)for(;M<y.length;M++)this.words[M]=y.words[M];return this.length=Math.max(this.length,M),y!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(c){return this.clone().isub(c)};function $(m,c,p){p.negative=c.negative^m.negative;var h=m.length+c.length|0;p.length=h,h=h-1|0;var y=m.words[0]|0,x=c.words[0]|0,E=y*x,M=E&67108863,v=E/67108864|0;p.words[0]=M;for(var d=1;d<h;d++){for(var T=v>>>26,ne=v&67108863,w=Math.min(d,c.length-1),U=Math.max(0,d-m.length+1);U<=w;U++){var j=d-U|0;y=m.words[j]|0,x=c.words[U]|0,E=y*x+ne,T+=E/67108864|0,ne=E&67108863}p.words[d]=ne|0,v=T|0}return v!==0?p.words[d]=v|0:p.length--,p._strip()}var pe=function(c,p,h){var y=c.words,x=p.words,E=h.words,M=0,v,d,T,ne=y[0]|0,w=ne&8191,U=ne>>>13,j=y[1]|0,X=j&8191,re=j>>>13,ge=y[2]|0,oe=ge&8191,ie=ge>>>13,De=y[3]|0,ae=De&8191,he=De>>>13,Ko=y[4]|0,rt=Ko&8191,nt=Ko>>>13,Wo=y[5]|0,ot=Wo&8191,st=Wo>>>13,Vo=y[6]|0,it=Vo&8191,at=Vo>>>13,Go=y[7]|0,ct=Go&8191,ut=Go>>>13,Zo=y[8]|0,pt=Zo&8191,ft=Zo>>>13,Yo=y[9]|0,lt=Yo&8191,dt=Yo>>>13,$o=x[0]|0,ht=$o&8191,yt=$o>>>13,Jo=x[1]|0,mt=Jo&8191,gt=Jo>>>13,Xo=x[2]|0,xt=Xo&8191,wt=Xo>>>13,Qo=x[3]|0,bt=Qo&8191,St=Qo>>>13,es=x[4]|0,vt=es&8191,Et=es>>>13,ts=x[5]|0,_t=ts&8191,Rt=ts>>>13,rs=x[6]|0,kt=rs&8191,At=rs>>>13,ns=x[7]|0,It=ns&8191,Bt=ns>>>13,os=x[8]|0,Tt=os&8191,Pt=os>>>13,ss=x[9]|0,zt=ss&8191,Mt=ss>>>13;h.negative=c.negative^p.negative,h.length=19,v=Math.imul(w,ht),d=Math.imul(w,yt),d=d+Math.imul(U,ht)|0,T=Math.imul(U,yt);var Xn=(M+v|0)+((d&8191)<<13)|0;M=(T+(d>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,v=Math.imul(X,ht),d=Math.imul(X,yt),d=d+Math.imul(re,ht)|0,T=Math.imul(re,yt),v=v+Math.imul(w,mt)|0,d=d+Math.imul(w,gt)|0,d=d+Math.imul(U,mt)|0,T=T+Math.imul(U,gt)|0;var Qn=(M+v|0)+((d&8191)<<13)|0;M=(T+(d>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,v=Math.imul(oe,ht),d=Math.imul(oe,yt),d=d+Math.imul(ie,ht)|0,T=Math.imul(ie,yt),v=v+Math.imul(X,mt)|0,d=d+Math.imul(X,gt)|0,d=d+Math.imul(re,mt)|0,T=T+Math.imul(re,gt)|0,v=v+Math.imul(w,xt)|0,d=d+Math.imul(w,wt)|0,d=d+Math.imul(U,xt)|0,T=T+Math.imul(U,wt)|0;var eo=(M+v|0)+((d&8191)<<13)|0;M=(T+(d>>>13)|0)+(eo>>>26)|0,eo&=67108863,v=Math.imul(ae,ht),d=Math.imul(ae,yt),d=d+Math.imul(he,ht)|0,T=Math.imul(he,yt),v=v+Math.imul(oe,mt)|0,d=d+Math.imul(oe,gt)|0,d=d+Math.imul(ie,mt)|0,T=T+Math.imul(ie,gt)|0,v=v+Math.imul(X,xt)|0,d=d+Math.imul(X,wt)|0,d=d+Math.imul(re,xt)|0,T=T+Math.imul(re,wt)|0,v=v+Math.imul(w,bt)|0,d=d+Math.imul(w,St)|0,d=d+Math.imul(U,bt)|0,T=T+Math.imul(U,St)|0;var to=(M+v|0)+((d&8191)<<13)|0;M=(T+(d>>>13)|0)+(to>>>26)|0,to&=67108863,v=Math.imul(rt,ht),d=Math.imul(rt,yt),d=d+Math.imul(nt,ht)|0,T=Math.imul(nt,yt),v=v+Math.imul(ae,mt)|0,d=d+Math.imul(ae,gt)|0,d=d+Math.imul(he,mt)|0,T=T+Math.imul(he,gt)|0,v=v+Math.imul(oe,xt)|0,d=d+Math.imul(oe,wt)|0,d=d+Math.imul(ie,xt)|0,T=T+Math.imul(ie,wt)|0,v=v+Math.imul(X,bt)|0,d=d+Math.imul(X,St)|0,d=d+Math.imul(re,bt)|0,T=T+Math.imul(re,St)|0,v=v+Math.imul(w,vt)|0,d=d+Math.imul(w,Et)|0,d=d+Math.imul(U,vt)|0,T=T+Math.imul(U,Et)|0;var ro=(M+v|0)+((d&8191)<<13)|0;M=(T+(d>>>13)|0)+(ro>>>26)|0,ro&=67108863,v=Math.imul(ot,ht),d=Math.imul(ot,yt),d=d+Math.imul(st,ht)|0,T=Math.imul(st,yt),v=v+Math.imul(rt,mt)|0,d=d+Math.imul(rt,gt)|0,d=d+Math.imul(nt,mt)|0,T=T+Math.imul(nt,gt)|0,v=v+Math.imul(ae,xt)|0,d=d+Math.imul(ae,wt)|0,d=d+Math.imul(he,xt)|0,T=T+Math.imul(he,wt)|0,v=v+Math.imul(oe,bt)|0,d=d+Math.imul(oe,St)|0,d=d+Math.imul(ie,bt)|0,T=T+Math.imul(ie,St)|0,v=v+Math.imul(X,vt)|0,d=d+Math.imul(X,Et)|0,d=d+Math.imul(re,vt)|0,T=T+Math.imul(re,Et)|0,v=v+Math.imul(w,_t)|0,d=d+Math.imul(w,Rt)|0,d=d+Math.imul(U,_t)|0,T=T+Math.imul(U,Rt)|0;var Wl=(M+v|0)+((d&8191)<<13)|0;M=(T+(d>>>13)|0)+(Wl>>>26)|0,Wl&=67108863,v=Math.imul(it,ht),d=Math.imul(it,yt),d=d+Math.imul(at,ht)|0,T=Math.imul(at,yt),v=v+Math.imul(ot,mt)|0,d=d+Math.imul(ot,gt)|0,d=d+Math.imul(st,mt)|0,T=T+Math.imul(st,gt)|0,v=v+Math.imul(rt,xt)|0,d=d+Math.imul(rt,wt)|0,d=d+Math.imul(nt,xt)|0,T=T+Math.imul(nt,wt)|0,v=v+Math.imul(ae,bt)|0,d=d+Math.imul(ae,St)|0,d=d+Math.imul(he,bt)|0,T=T+Math.imul(he,St)|0,v=v+Math.imul(oe,vt)|0,d=d+Math.imul(oe,Et)|0,d=d+Math.imul(ie,vt)|0,T=T+Math.imul(ie,Et)|0,v=v+Math.imul(X,_t)|0,d=d+Math.imul(X,Rt)|0,d=d+Math.imul(re,_t)|0,T=T+Math.imul(re,Rt)|0,v=v+Math.imul(w,kt)|0,d=d+Math.imul(w,At)|0,d=d+Math.imul(U,kt)|0,T=T+Math.imul(U,At)|0;var Vl=(M+v|0)+((d&8191)<<13)|0;M=(T+(d>>>13)|0)+(Vl>>>26)|0,Vl&=67108863,v=Math.imul(ct,ht),d=Math.imul(ct,yt),d=d+Math.imul(ut,ht)|0,T=Math.imul(ut,yt),v=v+Math.imul(it,mt)|0,d=d+Math.imul(it,gt)|0,d=d+Math.imul(at,mt)|0,T=T+Math.imul(at,gt)|0,v=v+Math.imul(ot,xt)|0,d=d+Math.imul(ot,wt)|0,d=d+Math.imul(st,xt)|0,T=T+Math.imul(st,wt)|0,v=v+Math.imul(rt,bt)|0,d=d+Math.imul(rt,St)|0,d=d+Math.imul(nt,bt)|0,T=T+Math.imul(nt,St)|0,v=v+Math.imul(ae,vt)|0,d=d+Math.imul(ae,Et)|0,d=d+Math.imul(he,vt)|0,T=T+Math.imul(he,Et)|0,v=v+Math.imul(oe,_t)|0,d=d+Math.imul(oe,Rt)|0,d=d+Math.imul(ie,_t)|0,T=T+Math.imul(ie,Rt)|0,v=v+Math.imul(X,kt)|0,d=d+Math.imul(X,At)|0,d=d+Math.imul(re,kt)|0,T=T+Math.imul(re,At)|0,v=v+Math.imul(w,It)|0,d=d+Math.imul(w,Bt)|0,d=d+Math.imul(U,It)|0,T=T+Math.imul(U,Bt)|0;var Gl=(M+v|0)+((d&8191)<<13)|0;M=(T+(d>>>13)|0)+(Gl>>>26)|0,Gl&=67108863,v=Math.imul(pt,ht),d=Math.imul(pt,yt),d=d+Math.imul(ft,ht)|0,T=Math.imul(ft,yt),v=v+Math.imul(ct,mt)|0,d=d+Math.imul(ct,gt)|0,d=d+Math.imul(ut,mt)|0,T=T+Math.imul(ut,gt)|0,v=v+Math.imul(it,xt)|0,d=d+Math.imul(it,wt)|0,d=d+Math.imul(at,xt)|0,T=T+Math.imul(at,wt)|0,v=v+Math.imul(ot,bt)|0,d=d+Math.imul(ot,St)|0,d=d+Math.imul(st,bt)|0,T=T+Math.imul(st,St)|0,v=v+Math.imul(rt,vt)|0,d=d+Math.imul(rt,Et)|0,d=d+Math.imul(nt,vt)|0,T=T+Math.imul(nt,Et)|0,v=v+Math.imul(ae,_t)|0,d=d+Math.imul(ae,Rt)|0,d=d+Math.imul(he,_t)|0,T=T+Math.imul(he,Rt)|0,v=v+Math.imul(oe,kt)|0,d=d+Math.imul(oe,At)|0,d=d+Math.imul(ie,kt)|0,T=T+Math.imul(ie,At)|0,v=v+Math.imul(X,It)|0,d=d+Math.imul(X,Bt)|0,d=d+Math.imul(re,It)|0,T=T+Math.imul(re,Bt)|0,v=v+Math.imul(w,Tt)|0,d=d+Math.imul(w,Pt)|0,d=d+Math.imul(U,Tt)|0,T=T+Math.imul(U,Pt)|0;var Zl=(M+v|0)+((d&8191)<<13)|0;M=(T+(d>>>13)|0)+(Zl>>>26)|0,Zl&=67108863,v=Math.imul(lt,ht),d=Math.imul(lt,yt),d=d+Math.imul(dt,ht)|0,T=Math.imul(dt,yt),v=v+Math.imul(pt,mt)|0,d=d+Math.imul(pt,gt)|0,d=d+Math.imul(ft,mt)|0,T=T+Math.imul(ft,gt)|0,v=v+Math.imul(ct,xt)|0,d=d+Math.imul(ct,wt)|0,d=d+Math.imul(ut,xt)|0,T=T+Math.imul(ut,wt)|0,v=v+Math.imul(it,bt)|0,d=d+Math.imul(it,St)|0,d=d+Math.imul(at,bt)|0,T=T+Math.imul(at,St)|0,v=v+Math.imul(ot,vt)|0,d=d+Math.imul(ot,Et)|0,d=d+Math.imul(st,vt)|0,T=T+Math.imul(st,Et)|0,v=v+Math.imul(rt,_t)|0,d=d+Math.imul(rt,Rt)|0,d=d+Math.imul(nt,_t)|0,T=T+Math.imul(nt,Rt)|0,v=v+Math.imul(ae,kt)|0,d=d+Math.imul(ae,At)|0,d=d+Math.imul(he,kt)|0,T=T+Math.imul(he,At)|0,v=v+Math.imul(oe,It)|0,d=d+Math.imul(oe,Bt)|0,d=d+Math.imul(ie,It)|0,T=T+Math.imul(ie,Bt)|0,v=v+Math.imul(X,Tt)|0,d=d+Math.imul(X,Pt)|0,d=d+Math.imul(re,Tt)|0,T=T+Math.imul(re,Pt)|0,v=v+Math.imul(w,zt)|0,d=d+Math.imul(w,Mt)|0,d=d+Math.imul(U,zt)|0,T=T+Math.imul(U,Mt)|0;var Yl=(M+v|0)+((d&8191)<<13)|0;M=(T+(d>>>13)|0)+(Yl>>>26)|0,Yl&=67108863,v=Math.imul(lt,mt),d=Math.imul(lt,gt),d=d+Math.imul(dt,mt)|0,T=Math.imul(dt,gt),v=v+Math.imul(pt,xt)|0,d=d+Math.imul(pt,wt)|0,d=d+Math.imul(ft,xt)|0,T=T+Math.imul(ft,wt)|0,v=v+Math.imul(ct,bt)|0,d=d+Math.imul(ct,St)|0,d=d+Math.imul(ut,bt)|0,T=T+Math.imul(ut,St)|0,v=v+Math.imul(it,vt)|0,d=d+Math.imul(it,Et)|0,d=d+Math.imul(at,vt)|0,T=T+Math.imul(at,Et)|0,v=v+Math.imul(ot,_t)|0,d=d+Math.imul(ot,Rt)|0,d=d+Math.imul(st,_t)|0,T=T+Math.imul(st,Rt)|0,v=v+Math.imul(rt,kt)|0,d=d+Math.imul(rt,At)|0,d=d+Math.imul(nt,kt)|0,T=T+Math.imul(nt,At)|0,v=v+Math.imul(ae,It)|0,d=d+Math.imul(ae,Bt)|0,d=d+Math.imul(he,It)|0,T=T+Math.imul(he,Bt)|0,v=v+Math.imul(oe,Tt)|0,d=d+Math.imul(oe,Pt)|0,d=d+Math.imul(ie,Tt)|0,T=T+Math.imul(ie,Pt)|0,v=v+Math.imul(X,zt)|0,d=d+Math.imul(X,Mt)|0,d=d+Math.imul(re,zt)|0,T=T+Math.imul(re,Mt)|0;var $l=(M+v|0)+((d&8191)<<13)|0;M=(T+(d>>>13)|0)+($l>>>26)|0,$l&=67108863,v=Math.imul(lt,xt),d=Math.imul(lt,wt),d=d+Math.imul(dt,xt)|0,T=Math.imul(dt,wt),v=v+Math.imul(pt,bt)|0,d=d+Math.imul(pt,St)|0,d=d+Math.imul(ft,bt)|0,T=T+Math.imul(ft,St)|0,v=v+Math.imul(ct,vt)|0,d=d+Math.imul(ct,Et)|0,d=d+Math.imul(ut,vt)|0,T=T+Math.imul(ut,Et)|0,v=v+Math.imul(it,_t)|0,d=d+Math.imul(it,Rt)|0,d=d+Math.imul(at,_t)|0,T=T+Math.imul(at,Rt)|0,v=v+Math.imul(ot,kt)|0,d=d+Math.imul(ot,At)|0,d=d+Math.imul(st,kt)|0,T=T+Math.imul(st,At)|0,v=v+Math.imul(rt,It)|0,d=d+Math.imul(rt,Bt)|0,d=d+Math.imul(nt,It)|0,T=T+Math.imul(nt,Bt)|0,v=v+Math.imul(ae,Tt)|0,d=d+Math.imul(ae,Pt)|0,d=d+Math.imul(he,Tt)|0,T=T+Math.imul(he,Pt)|0,v=v+Math.imul(oe,zt)|0,d=d+Math.imul(oe,Mt)|0,d=d+Math.imul(ie,zt)|0,T=T+Math.imul(ie,Mt)|0;var Jl=(M+v|0)+((d&8191)<<13)|0;M=(T+(d>>>13)|0)+(Jl>>>26)|0,Jl&=67108863,v=Math.imul(lt,bt),d=Math.imul(lt,St),d=d+Math.imul(dt,bt)|0,T=Math.imul(dt,St),v=v+Math.imul(pt,vt)|0,d=d+Math.imul(pt,Et)|0,d=d+Math.imul(ft,vt)|0,T=T+Math.imul(ft,Et)|0,v=v+Math.imul(ct,_t)|0,d=d+Math.imul(ct,Rt)|0,d=d+Math.imul(ut,_t)|0,T=T+Math.imul(ut,Rt)|0,v=v+Math.imul(it,kt)|0,d=d+Math.imul(it,At)|0,d=d+Math.imul(at,kt)|0,T=T+Math.imul(at,At)|0,v=v+Math.imul(ot,It)|0,d=d+Math.imul(ot,Bt)|0,d=d+Math.imul(st,It)|0,T=T+Math.imul(st,Bt)|0,v=v+Math.imul(rt,Tt)|0,d=d+Math.imul(rt,Pt)|0,d=d+Math.imul(nt,Tt)|0,T=T+Math.imul(nt,Pt)|0,v=v+Math.imul(ae,zt)|0,d=d+Math.imul(ae,Mt)|0,d=d+Math.imul(he,zt)|0,T=T+Math.imul(he,Mt)|0;var Xl=(M+v|0)+((d&8191)<<13)|0;M=(T+(d>>>13)|0)+(Xl>>>26)|0,Xl&=67108863,v=Math.imul(lt,vt),d=Math.imul(lt,Et),d=d+Math.imul(dt,vt)|0,T=Math.imul(dt,Et),v=v+Math.imul(pt,_t)|0,d=d+Math.imul(pt,Rt)|0,d=d+Math.imul(ft,_t)|0,T=T+Math.imul(ft,Rt)|0,v=v+Math.imul(ct,kt)|0,d=d+Math.imul(ct,At)|0,d=d+Math.imul(ut,kt)|0,T=T+Math.imul(ut,At)|0,v=v+Math.imul(it,It)|0,d=d+Math.imul(it,Bt)|0,d=d+Math.imul(at,It)|0,T=T+Math.imul(at,Bt)|0,v=v+Math.imul(ot,Tt)|0,d=d+Math.imul(ot,Pt)|0,d=d+Math.imul(st,Tt)|0,T=T+Math.imul(st,Pt)|0,v=v+Math.imul(rt,zt)|0,d=d+Math.imul(rt,Mt)|0,d=d+Math.imul(nt,zt)|0,T=T+Math.imul(nt,Mt)|0;var Ql=(M+v|0)+((d&8191)<<13)|0;M=(T+(d>>>13)|0)+(Ql>>>26)|0,Ql&=67108863,v=Math.imul(lt,_t),d=Math.imul(lt,Rt),d=d+Math.imul(dt,_t)|0,T=Math.imul(dt,Rt),v=v+Math.imul(pt,kt)|0,d=d+Math.imul(pt,At)|0,d=d+Math.imul(ft,kt)|0,T=T+Math.imul(ft,At)|0,v=v+Math.imul(ct,It)|0,d=d+Math.imul(ct,Bt)|0,d=d+Math.imul(ut,It)|0,T=T+Math.imul(ut,Bt)|0,v=v+Math.imul(it,Tt)|0,d=d+Math.imul(it,Pt)|0,d=d+Math.imul(at,Tt)|0,T=T+Math.imul(at,Pt)|0,v=v+Math.imul(ot,zt)|0,d=d+Math.imul(ot,Mt)|0,d=d+Math.imul(st,zt)|0,T=T+Math.imul(st,Mt)|0;var ed=(M+v|0)+((d&8191)<<13)|0;M=(T+(d>>>13)|0)+(ed>>>26)|0,ed&=67108863,v=Math.imul(lt,kt),d=Math.imul(lt,At),d=d+Math.imul(dt,kt)|0,T=Math.imul(dt,At),v=v+Math.imul(pt,It)|0,d=d+Math.imul(pt,Bt)|0,d=d+Math.imul(ft,It)|0,T=T+Math.imul(ft,Bt)|0,v=v+Math.imul(ct,Tt)|0,d=d+Math.imul(ct,Pt)|0,d=d+Math.imul(ut,Tt)|0,T=T+Math.imul(ut,Pt)|0,v=v+Math.imul(it,zt)|0,d=d+Math.imul(it,Mt)|0,d=d+Math.imul(at,zt)|0,T=T+Math.imul(at,Mt)|0;var td=(M+v|0)+((d&8191)<<13)|0;M=(T+(d>>>13)|0)+(td>>>26)|0,td&=67108863,v=Math.imul(lt,It),d=Math.imul(lt,Bt),d=d+Math.imul(dt,It)|0,T=Math.imul(dt,Bt),v=v+Math.imul(pt,Tt)|0,d=d+Math.imul(pt,Pt)|0,d=d+Math.imul(ft,Tt)|0,T=T+Math.imul(ft,Pt)|0,v=v+Math.imul(ct,zt)|0,d=d+Math.imul(ct,Mt)|0,d=d+Math.imul(ut,zt)|0,T=T+Math.imul(ut,Mt)|0;var rd=(M+v|0)+((d&8191)<<13)|0;M=(T+(d>>>13)|0)+(rd>>>26)|0,rd&=67108863,v=Math.imul(lt,Tt),d=Math.imul(lt,Pt),d=d+Math.imul(dt,Tt)|0,T=Math.imul(dt,Pt),v=v+Math.imul(pt,zt)|0,d=d+Math.imul(pt,Mt)|0,d=d+Math.imul(ft,zt)|0,T=T+Math.imul(ft,Mt)|0;var nd=(M+v|0)+((d&8191)<<13)|0;M=(T+(d>>>13)|0)+(nd>>>26)|0,nd&=67108863,v=Math.imul(lt,zt),d=Math.imul(lt,Mt),d=d+Math.imul(dt,zt)|0,T=Math.imul(dt,Mt);var od=(M+v|0)+((d&8191)<<13)|0;return M=(T+(d>>>13)|0)+(od>>>26)|0,od&=67108863,E[0]=Xn,E[1]=Qn,E[2]=eo,E[3]=to,E[4]=ro,E[5]=Wl,E[6]=Vl,E[7]=Gl,E[8]=Zl,E[9]=Yl,E[10]=$l,E[11]=Jl,E[12]=Xl,E[13]=Ql,E[14]=ed,E[15]=td,E[16]=rd,E[17]=nd,E[18]=od,M!==0&&(E[19]=M,h.length++),h};Math.imul||(pe=$);function W(m,c,p){p.negative=c.negative^m.negative,p.length=m.length+c.length;for(var h=0,y=0,x=0;x<p.length-1;x++){var E=y;y=0;for(var M=h&67108863,v=Math.min(x,c.length-1),d=Math.max(0,x-m.length+1);d<=v;d++){var T=x-d,ne=m.words[T]|0,w=c.words[d]|0,U=ne*w,j=U&67108863;E=E+(U/67108864|0)|0,j=j+M|0,M=j&67108863,E=E+(j>>>26)|0,y+=E>>>26,E&=67108863}p.words[x]=M,h=E,E=y}return h!==0?p.words[x]=h:p.length--,p._strip()}function we(m,c,p){return W(m,c,p)}o.prototype.mulTo=function(c,p){var h,y=this.length+c.length;return this.length===10&&c.length===10?h=pe(this,c,p):y<63?h=$(this,c,p):y<1024?h=W(this,c,p):h=we(this,c,p),h};function Pe(m,c){this.x=m,this.y=c}Pe.prototype.makeRBT=function(c){for(var p=new Array(c),h=o.prototype._countBits(c)-1,y=0;y<c;y++)p[y]=this.revBin(y,h,c);return p},Pe.prototype.revBin=function(c,p,h){if(c===0||c===h-1)return c;for(var y=0,x=0;x<p;x++)y|=(c&1)<<p-x-1,c>>=1;return y},Pe.prototype.permute=function(c,p,h,y,x,E){for(var M=0;M<E;M++)y[M]=p[c[M]],x[M]=h[c[M]]},Pe.prototype.transform=function(c,p,h,y,x,E){this.permute(E,c,p,h,y,x);for(var M=1;M<x;M<<=1)for(var v=M<<1,d=Math.cos(2*Math.PI/v),T=Math.sin(2*Math.PI/v),ne=0;ne<x;ne+=v)for(var w=d,U=T,j=0;j<M;j++){var X=h[ne+j],re=y[ne+j],ge=h[ne+j+M],oe=y[ne+j+M],ie=w*ge-U*oe;oe=w*oe+U*ge,ge=ie,h[ne+j]=X+ge,y[ne+j]=re+oe,h[ne+j+M]=X-ge,y[ne+j+M]=re-oe,j!==v&&(ie=d*w-T*U,U=d*U+T*w,w=ie)}},Pe.prototype.guessLen13b=function(c,p){var h=Math.max(p,c)|1,y=h&1,x=0;for(h=h/2|0;h;h=h>>>1)x++;return 1<<x+1+y},Pe.prototype.conjugate=function(c,p,h){if(!(h<=1))for(var y=0;y<h/2;y++){var x=c[y];c[y]=c[h-y-1],c[h-y-1]=x,x=p[y],p[y]=-p[h-y-1],p[h-y-1]=-x}},Pe.prototype.normalize13b=function(c,p){for(var h=0,y=0;y<p/2;y++){var x=Math.round(c[2*y+1]/p)*8192+Math.round(c[2*y]/p)+h;c[y]=x&67108863,x<67108864?h=0:h=x/67108864|0}return c},Pe.prototype.convert13b=function(c,p,h,y){for(var x=0,E=0;E<p;E++)x=x+(c[E]|0),h[2*E]=x&8191,x=x>>>13,h[2*E+1]=x&8191,x=x>>>13;for(E=2*p;E<y;++E)h[E]=0;t(x===0),t((x&-8192)===0)},Pe.prototype.stub=function(c){for(var p=new Array(c),h=0;h<c;h++)p[h]=0;return p},Pe.prototype.mulp=function(c,p,h){var y=2*this.guessLen13b(c.length,p.length),x=this.makeRBT(y),E=this.stub(y),M=new Array(y),v=new Array(y),d=new Array(y),T=new Array(y),ne=new Array(y),w=new Array(y),U=h.words;U.length=y,this.convert13b(c.words,c.length,M,y),this.convert13b(p.words,p.length,T,y),this.transform(M,E,v,d,y,x),this.transform(T,E,ne,w,y,x);for(var j=0;j<y;j++){var X=v[j]*ne[j]-d[j]*w[j];d[j]=v[j]*w[j]+d[j]*ne[j],v[j]=X}return this.conjugate(v,d,y),this.transform(v,d,U,E,y,x),this.conjugate(U,E,y),this.normalize13b(U,y),h.negative=c.negative^p.negative,h.length=c.length+p.length,h._strip()},o.prototype.mul=function(c){var p=new o(null);return p.words=new Array(this.length+c.length),this.mulTo(c,p)},o.prototype.mulf=function(c){var p=new o(null);return p.words=new Array(this.length+c.length),we(this,c,p)},o.prototype.imul=function(c){return this.clone().mulTo(c,this)},o.prototype.imuln=function(c){var p=c<0;p&&(c=-c),t(typeof c=="number"),t(c<67108864);for(var h=0,y=0;y<this.length;y++){var x=(this.words[y]|0)*c,E=(x&67108863)+(h&67108863);h>>=26,h+=x/67108864|0,h+=E>>>26,this.words[y]=E&67108863}return h!==0&&(this.words[y]=h,this.length++),p?this.ineg():this},o.prototype.muln=function(c){return this.clone().imuln(c)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(c){var p=J(c);if(p.length===0)return new o(1);for(var h=this,y=0;y<p.length&&p[y]===0;y++,h=h.sqr());if(++y<p.length)for(var x=h.sqr();y<p.length;y++,x=x.sqr())p[y]!==0&&(h=h.mul(x));return h},o.prototype.iushln=function(c){t(typeof c=="number"&&c>=0);var p=c%26,h=(c-p)/26,y=67108863>>>26-p<<26-p,x;if(p!==0){var E=0;for(x=0;x<this.length;x++){var M=this.words[x]&y,v=(this.words[x]|0)-M<<p;this.words[x]=v|E,E=M>>>26-p}E&&(this.words[x]=E,this.length++)}if(h!==0){for(x=this.length-1;x>=0;x--)this.words[x+h]=this.words[x];for(x=0;x<h;x++)this.words[x]=0;this.length+=h}return this._strip()},o.prototype.ishln=function(c){return t(this.negative===0),this.iushln(c)},o.prototype.iushrn=function(c,p,h){t(typeof c=="number"&&c>=0);var y;p?y=(p-p%26)/26:y=0;var x=c%26,E=Math.min((c-x)/26,this.length),M=67108863^67108863>>>x<<x,v=h;if(y-=E,y=Math.max(0,y),v){for(var d=0;d<E;d++)v.words[d]=this.words[d];v.length=E}if(E!==0)if(this.length>E)for(this.length-=E,d=0;d<this.length;d++)this.words[d]=this.words[d+E];else this.words[0]=0,this.length=1;var T=0;for(d=this.length-1;d>=0&&(T!==0||d>=y);d--){var ne=this.words[d]|0;this.words[d]=T<<26-x|ne>>>x,T=ne&M}return v&&T!==0&&(v.words[v.length++]=T),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(c,p,h){return t(this.negative===0),this.iushrn(c,p,h)},o.prototype.shln=function(c){return this.clone().ishln(c)},o.prototype.ushln=function(c){return this.clone().iushln(c)},o.prototype.shrn=function(c){return this.clone().ishrn(c)},o.prototype.ushrn=function(c){return this.clone().iushrn(c)},o.prototype.testn=function(c){t(typeof c=="number"&&c>=0);var p=c%26,h=(c-p)/26,y=1<<p;if(this.length<=h)return!1;var x=this.words[h];return!!(x&y)},o.prototype.imaskn=function(c){t(typeof c=="number"&&c>=0);var p=c%26,h=(c-p)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(p!==0&&h++,this.length=Math.min(h,this.length),p!==0){var y=67108863^67108863>>>p<<p;this.words[this.length-1]&=y}return this._strip()},o.prototype.maskn=function(c){return this.clone().imaskn(c)},o.prototype.iaddn=function(c){return t(typeof c=="number"),t(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<=c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},o.prototype._iaddn=function(c){this.words[0]+=c;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},o.prototype.isubn=function(c){if(t(typeof c=="number"),t(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},o.prototype.addn=function(c){return this.clone().iaddn(c)},o.prototype.subn=function(c){return this.clone().isubn(c)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(c,p,h){var y=c.length+h,x;this._expand(y);var E,M=0;for(x=0;x<c.length;x++){E=(this.words[x+h]|0)+M;var v=(c.words[x]|0)*p;E-=v&67108863,M=(E>>26)-(v/67108864|0),this.words[x+h]=E&67108863}for(;x<this.length-h;x++)E=(this.words[x+h]|0)+M,M=E>>26,this.words[x+h]=E&67108863;if(M===0)return this._strip();for(t(M===-1),M=0,x=0;x<this.length;x++)E=-(this.words[x]|0)+M,M=E>>26,this.words[x]=E&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(c,p){var h=this.length-c.length,y=this.clone(),x=c,E=x.words[x.length-1]|0,M=this._countBits(E);h=26-M,h!==0&&(x=x.ushln(h),y.iushln(h),E=x.words[x.length-1]|0);var v=y.length-x.length,d;if(p!=="mod"){d=new o(null),d.length=v+1,d.words=new Array(d.length);for(var T=0;T<d.length;T++)d.words[T]=0}var ne=y.clone()._ishlnsubmul(x,1,v);ne.negative===0&&(y=ne,d&&(d.words[v]=1));for(var w=v-1;w>=0;w--){var U=(y.words[x.length+w]|0)*67108864+(y.words[x.length+w-1]|0);for(U=Math.min(U/E|0,67108863),y._ishlnsubmul(x,U,w);y.negative!==0;)U--,y.negative=0,y._ishlnsubmul(x,1,w),y.isZero()||(y.negative^=1);d&&(d.words[w]=U)}return d&&d._strip(),y._strip(),p!=="div"&&h!==0&&y.iushrn(h),{div:d||null,mod:y}},o.prototype.divmod=function(c,p,h){if(t(!c.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var y,x,E;return this.negative!==0&&c.negative===0?(E=this.neg().divmod(c,p),p!=="mod"&&(y=E.div.neg()),p!=="div"&&(x=E.mod.neg(),h&&x.negative!==0&&x.iadd(c)),{div:y,mod:x}):this.negative===0&&c.negative!==0?(E=this.divmod(c.neg(),p),p!=="mod"&&(y=E.div.neg()),{div:y,mod:E.mod}):this.negative&c.negative?(E=this.neg().divmod(c.neg(),p),p!=="div"&&(x=E.mod.neg(),h&&x.negative!==0&&x.isub(c)),{div:E.div,mod:x}):c.length>this.length||this.cmp(c)<0?{div:new o(0),mod:this}:c.length===1?p==="div"?{div:this.divn(c.words[0]),mod:null}:p==="mod"?{div:null,mod:new o(this.modrn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new o(this.modrn(c.words[0]))}:this._wordDiv(c,p)},o.prototype.div=function(c){return this.divmod(c,"div",!1).div},o.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},o.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},o.prototype.divRound=function(c){var p=this.divmod(c);if(p.mod.isZero())return p.div;var h=p.div.negative!==0?p.mod.isub(c):p.mod,y=c.ushrn(1),x=c.andln(1),E=h.cmp(y);return E<0||x===1&&E===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},o.prototype.modrn=function(c){var p=c<0;p&&(c=-c),t(c<=67108863);for(var h=(1<<26)%c,y=0,x=this.length-1;x>=0;x--)y=(h*y+(this.words[x]|0))%c;return p?-y:y},o.prototype.modn=function(c){return this.modrn(c)},o.prototype.idivn=function(c){var p=c<0;p&&(c=-c),t(c<=67108863);for(var h=0,y=this.length-1;y>=0;y--){var x=(this.words[y]|0)+h*67108864;this.words[y]=x/c|0,h=x%c}return this._strip(),p?this.ineg():this},o.prototype.divn=function(c){return this.clone().idivn(c)},o.prototype.egcd=function(c){t(c.negative===0),t(!c.isZero());var p=this,h=c.clone();p.negative!==0?p=p.umod(c):p=p.clone();for(var y=new o(1),x=new o(0),E=new o(0),M=new o(1),v=0;p.isEven()&&h.isEven();)p.iushrn(1),h.iushrn(1),++v;for(var d=h.clone(),T=p.clone();!p.isZero();){for(var ne=0,w=1;!(p.words[0]&w)&&ne<26;++ne,w<<=1);if(ne>0)for(p.iushrn(ne);ne-- >0;)(y.isOdd()||x.isOdd())&&(y.iadd(d),x.isub(T)),y.iushrn(1),x.iushrn(1);for(var U=0,j=1;!(h.words[0]&j)&&U<26;++U,j<<=1);if(U>0)for(h.iushrn(U);U-- >0;)(E.isOdd()||M.isOdd())&&(E.iadd(d),M.isub(T)),E.iushrn(1),M.iushrn(1);p.cmp(h)>=0?(p.isub(h),y.isub(E),x.isub(M)):(h.isub(p),E.isub(y),M.isub(x))}return{a:E,b:M,gcd:h.iushln(v)}},o.prototype._invmp=function(c){t(c.negative===0),t(!c.isZero());var p=this,h=c.clone();p.negative!==0?p=p.umod(c):p=p.clone();for(var y=new o(1),x=new o(0),E=h.clone();p.cmpn(1)>0&&h.cmpn(1)>0;){for(var M=0,v=1;!(p.words[0]&v)&&M<26;++M,v<<=1);if(M>0)for(p.iushrn(M);M-- >0;)y.isOdd()&&y.iadd(E),y.iushrn(1);for(var d=0,T=1;!(h.words[0]&T)&&d<26;++d,T<<=1);if(d>0)for(h.iushrn(d);d-- >0;)x.isOdd()&&x.iadd(E),x.iushrn(1);p.cmp(h)>=0?(p.isub(h),y.isub(x)):(h.isub(p),x.isub(y))}var ne;return p.cmpn(1)===0?ne=y:ne=x,ne.cmpn(0)<0&&ne.iadd(c),ne},o.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var p=this.clone(),h=c.clone();p.negative=0,h.negative=0;for(var y=0;p.isEven()&&h.isEven();y++)p.iushrn(1),h.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;h.isEven();)h.iushrn(1);var x=p.cmp(h);if(x<0){var E=p;p=h,h=E}else if(x===0||h.cmpn(1)===0)break;p.isub(h)}while(!0);return h.iushln(y)},o.prototype.invm=function(c){return this.egcd(c).a.umod(c)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(c){return this.words[0]&c},o.prototype.bincn=function(c){t(typeof c=="number");var p=c%26,h=(c-p)/26,y=1<<p;if(this.length<=h)return this._expand(h+1),this.words[h]|=y,this;for(var x=y,E=h;x!==0&&E<this.length;E++){var M=this.words[E]|0;M+=x,x=M>>>26,M&=67108863,this.words[E]=M}return x!==0&&(this.words[E]=x,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(c){var p=c<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var h;if(this.length>1)h=1;else{p&&(c=-c),t(c<=67108863,"Number is too big");var y=this.words[0]|0;h=y===c?0:y<c?-1:1}return this.negative!==0?-h|0:h},o.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var p=this.ucmp(c);return this.negative!==0?-p|0:p},o.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var p=0,h=this.length-1;h>=0;h--){var y=this.words[h]|0,x=c.words[h]|0;if(y!==x){y<x?p=-1:y>x&&(p=1);break}}return p},o.prototype.gtn=function(c){return this.cmpn(c)===1},o.prototype.gt=function(c){return this.cmp(c)===1},o.prototype.gten=function(c){return this.cmpn(c)>=0},o.prototype.gte=function(c){return this.cmp(c)>=0},o.prototype.ltn=function(c){return this.cmpn(c)===-1},o.prototype.lt=function(c){return this.cmp(c)===-1},o.prototype.lten=function(c){return this.cmpn(c)<=0},o.prototype.lte=function(c){return this.cmp(c)<=0},o.prototype.eqn=function(c){return this.cmpn(c)===0},o.prototype.eq=function(c){return this.cmp(c)===0},o.red=function(c){return new D(c)},o.prototype.toRed=function(c){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},o.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(c){return this.red=c,this},o.prototype.forceRed=function(c){return t(!this.red,"Already a number in reduction context"),this._forceRed(c)},o.prototype.redAdd=function(c){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},o.prototype.redIAdd=function(c){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},o.prototype.redSub=function(c){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},o.prototype.redISub=function(c){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},o.prototype.redShl=function(c){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},o.prototype.redMul=function(c){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},o.prototype.redIMul=function(c){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},o.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(c){return t(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var Oe={k256:null,p224:null,p192:null,p25519:null};function Ae(m,c){this.name=m,this.p=new o(c,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ae.prototype._tmp=function(){var c=new o(null);return c.words=new Array(Math.ceil(this.n/13)),c},Ae.prototype.ireduce=function(c){var p=c,h;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),h=p.bitLength();while(h>this.n);var y=h<this.n?-1:p.ucmp(this.p);return y===0?(p.words[0]=0,p.length=1):y>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},Ae.prototype.split=function(c,p){c.iushrn(this.n,0,p)},Ae.prototype.imulK=function(c){return c.imul(this.k)};function He(){Ae.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(He,Ae),He.prototype.split=function(c,p){for(var h=4194303,y=Math.min(c.length,9),x=0;x<y;x++)p.words[x]=c.words[x];if(p.length=y,c.length<=9){c.words[0]=0,c.length=1;return}var E=c.words[9];for(p.words[p.length++]=E&h,x=10;x<c.length;x++){var M=c.words[x]|0;c.words[x-10]=(M&h)<<4|E>>>22,E=M}E>>>=22,c.words[x-10]=E,E===0&&c.length>10?c.length-=10:c.length-=9},He.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var p=0,h=0;h<c.length;h++){var y=c.words[h]|0;p+=y*977,c.words[h]=p&67108863,p=y*64+(p/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function _(){Ae.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(_,Ae);function P(){Ae.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(P,Ae);function N(){Ae.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(N,Ae),N.prototype.imulK=function(c){for(var p=0,h=0;h<c.length;h++){var y=(c.words[h]|0)*19+p,x=y&67108863;y>>>=26,c.words[h]=x,p=y}return p!==0&&(c.words[c.length++]=p),c},o._prime=function(c){if(Oe[c])return Oe[c];var p;if(c==="k256")p=new He;else if(c==="p224")p=new _;else if(c==="p192")p=new P;else if(c==="p25519")p=new N;else throw new Error("Unknown prime "+c);return Oe[c]=p,p};function D(m){if(typeof m=="string"){var c=o._prime(m);this.m=c.p,this.prime=c}else t(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}D.prototype._verify1=function(c){t(c.negative===0,"red works only with positives"),t(c.red,"red works only with red numbers")},D.prototype._verify2=function(c,p){t((c.negative|p.negative)===0,"red works only with positives"),t(c.red&&c.red===p.red,"red works only with red numbers")},D.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):(g(c,c.umod(this.m)._forceRed(this)),c)},D.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},D.prototype.add=function(c,p){this._verify2(c,p);var h=c.add(p);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},D.prototype.iadd=function(c,p){this._verify2(c,p);var h=c.iadd(p);return h.cmp(this.m)>=0&&h.isub(this.m),h},D.prototype.sub=function(c,p){this._verify2(c,p);var h=c.sub(p);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},D.prototype.isub=function(c,p){this._verify2(c,p);var h=c.isub(p);return h.cmpn(0)<0&&h.iadd(this.m),h},D.prototype.shl=function(c,p){return this._verify1(c),this.imod(c.ushln(p))},D.prototype.imul=function(c,p){return this._verify2(c,p),this.imod(c.imul(p))},D.prototype.mul=function(c,p){return this._verify2(c,p),this.imod(c.mul(p))},D.prototype.isqr=function(c){return this.imul(c,c.clone())},D.prototype.sqr=function(c){return this.mul(c,c)},D.prototype.sqrt=function(c){if(c.isZero())return c.clone();var p=this.m.andln(3);if(t(p%2===1),p===3){var h=this.m.add(new o(1)).iushrn(2);return this.pow(c,h)}for(var y=this.m.subn(1),x=0;!y.isZero()&&y.andln(1)===0;)x++,y.iushrn(1);t(!y.isZero());var E=new o(1).toRed(this),M=E.redNeg(),v=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new o(2*d*d).toRed(this);this.pow(d,v).cmp(M)!==0;)d.redIAdd(M);for(var T=this.pow(d,y),ne=this.pow(c,y.addn(1).iushrn(1)),w=this.pow(c,y),U=x;w.cmp(E)!==0;){for(var j=w,X=0;j.cmp(E)!==0;X++)j=j.redSqr();t(X<U);var re=this.pow(T,new o(1).iushln(U-X-1));ne=ne.redMul(re),T=re.redSqr(),w=w.redMul(T),U=X}return ne},D.prototype.invm=function(c){var p=c._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},D.prototype.pow=function(c,p){if(p.isZero())return new o(1).toRed(this);if(p.cmpn(1)===0)return c.clone();var h=4,y=new Array(1<<h);y[0]=new o(1).toRed(this),y[1]=c;for(var x=2;x<y.length;x++)y[x]=this.mul(y[x-1],c);var E=y[0],M=0,v=0,d=p.bitLength()%26;for(d===0&&(d=26),x=p.length-1;x>=0;x--){for(var T=p.words[x],ne=d-1;ne>=0;ne--){var w=T>>ne&1;if(E!==y[0]&&(E=this.sqr(E)),w===0&&M===0){v=0;continue}M<<=1,M|=w,v++,!(v!==h&&(x!==0||ne!==0))&&(E=this.mul(E,y[M]),v=0,M=0)}d=26}return E},D.prototype.convertTo=function(c){var p=c.umod(this.m);return p===c?p.clone():p},D.prototype.convertFrom=function(c){var p=c.clone();return p.red=null,p},o.mont=function(c){return new z(c)};function z(m){D.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(z,D),z.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},z.prototype.convertFrom=function(c){var p=this.imod(c.mul(this.rinv));return p.red=null,p},z.prototype.imul=function(c,p){if(c.isZero()||p.isZero())return c.words[0]=0,c.length=1,c;var h=c.imul(p),y=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=h.isub(y).iushrn(this.shift),E=x;return x.cmp(this.m)>=0?E=x.isub(this.m):x.cmpn(0)<0&&(E=x.iadd(this.m)),E._forceRed(this)},z.prototype.mul=function(c,p){if(c.isZero()||p.isZero())return new o(0)._forceRed(this);var h=c.mul(p),y=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=h.isub(y).iushrn(this.shift),E=x;return x.cmp(this.m)>=0?E=x.isub(this.m):x.cmpn(0)<0&&(E=x.iadd(this.m)),E._forceRed(this)},z.prototype.invm=function(c){var p=this.imod(c._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(typeof Ld>"u"||Ld,Tg)});var Mg=Ee((aF,Cc)=>{l();(function(){"use strict";var r="input is invalid type",e="finalize already called",t=typeof window=="object",n=t?window:{};n.JS_SHA3_NO_WINDOW&&(t=!1);var o=!t&&typeof self=="object",s=!n.JS_SHA3_NO_NODE_JS&&typeof A=="object"&&A.versions&&A.versions.node;s?n=global:o&&(n=self);var a=!n.JS_SHA3_NO_COMMON_JS&&typeof Cc=="object"&&Cc.exports,u=typeof define=="function"&&define.amd,f=!n.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",g="0123456789abcdef".split(""),b=[31,7936,2031616,520093696],S=[4,1024,262144,67108864],O=[1,256,65536,16777216],C=[6,1536,393216,100663296],V=[0,8,16,24],J=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],$=[224,256,384,512],pe=[128,256],W=["hex","buffer","arrayBuffer","array","digest"],we={128:168,256:136};(n.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(w){return Object.prototype.toString.call(w)==="[object Array]"}),f&&(n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(w){return typeof w=="object"&&w.buffer&&w.buffer.constructor===ArrayBuffer});for(var Pe=function(w,U,j){return function(X){return new d(w,U,w).update(X)[j]()}},Oe=function(w,U,j){return function(X,re){return new d(w,U,re).update(X)[j]()}},Ae=function(w,U,j){return function(X,re,ge,oe){return c["cshake"+w].update(X,re,ge,oe)[j]()}},He=function(w,U,j){return function(X,re,ge,oe){return c["kmac"+w].update(X,re,ge,oe)[j]()}},_=function(w,U,j,X){for(var re=0;re<W.length;++re){var ge=W[re];w[ge]=U(j,X,ge)}return w},P=function(w,U){var j=Pe(w,U,"hex");return j.create=function(){return new d(w,U,w)},j.update=function(X){return j.create().update(X)},_(j,Pe,w,U)},N=function(w,U){var j=Oe(w,U,"hex");return j.create=function(X){return new d(w,U,X)},j.update=function(X,re){return j.create(re).update(X)},_(j,Oe,w,U)},D=function(w,U){var j=we[w],X=Ae(w,U,"hex");return X.create=function(re,ge,oe){return!ge&&!oe?c["shake"+w].create(re):new d(w,U,re).bytepad([ge,oe],j)},X.update=function(re,ge,oe,ie){return X.create(ge,oe,ie).update(re)},_(X,Ae,w,U)},z=function(w,U){var j=we[w],X=He(w,U,"hex");return X.create=function(re,ge,oe){return new T(w,U,ge).bytepad(["KMAC",oe],j).bytepad([re],j)},X.update=function(re,ge,oe,ie){return X.create(re,oe,ie).update(ge)},_(X,He,w,U)},m=[{name:"keccak",padding:O,bits:$,createMethod:P},{name:"sha3",padding:C,bits:$,createMethod:P},{name:"shake",padding:b,bits:pe,createMethod:N},{name:"cshake",padding:S,bits:pe,createMethod:D},{name:"kmac",padding:S,bits:pe,createMethod:z}],c={},p=[],h=0;h<m.length;++h)for(var y=m[h],x=y.bits,E=0;E<x.length;++E){var M=y.name+"_"+x[E];if(p.push(M),c[M]=y.createMethod(x[E],y.padding),y.name!=="sha3"){var v=y.name+x[E];p.push(v),c[v]=c[M]}}function d(w,U,j){this.blocks=[],this.s=[],this.padding=U,this.outputBits=j,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(w<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=j>>5,this.extraBytes=(j&31)>>3;for(var X=0;X<50;++X)this.s[X]=0}d.prototype.update=function(w){if(this.finalized)throw new Error(e);var U,j=typeof w;if(j!=="string"){if(j==="object"){if(w===null)throw new Error(r);if(f&&w.constructor===ArrayBuffer)w=new Uint8Array(w);else if(!Array.isArray(w)&&(!f||!ArrayBuffer.isView(w)))throw new Error(r)}else throw new Error(r);U=!0}for(var X=this.blocks,re=this.byteCount,ge=w.length,oe=this.blockCount,ie=0,De=this.s,ae,he;ie<ge;){if(this.reset)for(this.reset=!1,X[0]=this.block,ae=1;ae<oe+1;++ae)X[ae]=0;if(U)for(ae=this.start;ie<ge&&ae<re;++ie)X[ae>>2]|=w[ie]<<V[ae++&3];else for(ae=this.start;ie<ge&&ae<re;++ie)he=w.charCodeAt(ie),he<128?X[ae>>2]|=he<<V[ae++&3]:he<2048?(X[ae>>2]|=(192|he>>6)<<V[ae++&3],X[ae>>2]|=(128|he&63)<<V[ae++&3]):he<55296||he>=57344?(X[ae>>2]|=(224|he>>12)<<V[ae++&3],X[ae>>2]|=(128|he>>6&63)<<V[ae++&3],X[ae>>2]|=(128|he&63)<<V[ae++&3]):(he=65536+((he&1023)<<10|w.charCodeAt(++ie)&1023),X[ae>>2]|=(240|he>>18)<<V[ae++&3],X[ae>>2]|=(128|he>>12&63)<<V[ae++&3],X[ae>>2]|=(128|he>>6&63)<<V[ae++&3],X[ae>>2]|=(128|he&63)<<V[ae++&3]);if(this.lastByteIndex=ae,ae>=re){for(this.start=ae-re,this.block=X[oe],ae=0;ae<oe;++ae)De[ae]^=X[ae];ne(De),this.reset=!0}else this.start=ae}return this},d.prototype.encode=function(w,U){var j=w&255,X=1,re=[j];for(w=w>>8,j=w&255;j>0;)re.unshift(j),w=w>>8,j=w&255,++X;return U?re.push(X):re.unshift(X),this.update(re),re.length},d.prototype.encodeString=function(w){var U,j=typeof w;if(j!=="string"){if(j==="object"){if(w===null)throw new Error(r);if(f&&w.constructor===ArrayBuffer)w=new Uint8Array(w);else if(!Array.isArray(w)&&(!f||!ArrayBuffer.isView(w)))throw new Error(r)}else throw new Error(r);U=!0}var X=0,re=w.length;if(U)X=re;else for(var ge=0;ge<w.length;++ge){var oe=w.charCodeAt(ge);oe<128?X+=1:oe<2048?X+=2:oe<55296||oe>=57344?X+=3:(oe=65536+((oe&1023)<<10|w.charCodeAt(++ge)&1023),X+=4)}return X+=this.encode(X*8),this.update(w),X},d.prototype.bytepad=function(w,U){for(var j=this.encode(U),X=0;X<w.length;++X)j+=this.encodeString(w[X]);var re=U-j%U,ge=[];return ge.length=re,this.update(ge),this},d.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var w=this.blocks,U=this.lastByteIndex,j=this.blockCount,X=this.s;if(w[U>>2]|=this.padding[U&3],this.lastByteIndex===this.byteCount)for(w[0]=w[j],U=1;U<j+1;++U)w[U]=0;for(w[j-1]|=2147483648,U=0;U<j;++U)X[U]^=w[U];ne(X)}},d.prototype.toString=d.prototype.hex=function(){this.finalize();for(var w=this.blockCount,U=this.s,j=this.outputBlocks,X=this.extraBytes,re=0,ge=0,oe="",ie;ge<j;){for(re=0;re<w&&ge<j;++re,++ge)ie=U[re],oe+=g[ie>>4&15]+g[ie&15]+g[ie>>12&15]+g[ie>>8&15]+g[ie>>20&15]+g[ie>>16&15]+g[ie>>28&15]+g[ie>>24&15];ge%w===0&&(ne(U),re=0)}return X&&(ie=U[re],oe+=g[ie>>4&15]+g[ie&15],X>1&&(oe+=g[ie>>12&15]+g[ie>>8&15]),X>2&&(oe+=g[ie>>20&15]+g[ie>>16&15])),oe},d.prototype.arrayBuffer=function(){this.finalize();var w=this.blockCount,U=this.s,j=this.outputBlocks,X=this.extraBytes,re=0,ge=0,oe=this.outputBits>>3,ie;X?ie=new ArrayBuffer(j+1<<2):ie=new ArrayBuffer(oe);for(var De=new Uint32Array(ie);ge<j;){for(re=0;re<w&&ge<j;++re,++ge)De[ge]=U[re];ge%w===0&&ne(U)}return X&&(De[re]=U[re],ie=ie.slice(0,oe)),ie},d.prototype.buffer=d.prototype.arrayBuffer,d.prototype.digest=d.prototype.array=function(){this.finalize();for(var w=this.blockCount,U=this.s,j=this.outputBlocks,X=this.extraBytes,re=0,ge=0,oe=[],ie,De;ge<j;){for(re=0;re<w&&ge<j;++re,++ge)ie=ge<<2,De=U[re],oe[ie]=De&255,oe[ie+1]=De>>8&255,oe[ie+2]=De>>16&255,oe[ie+3]=De>>24&255;ge%w===0&&ne(U)}return X&&(ie=ge<<2,De=U[re],oe[ie]=De&255,X>1&&(oe[ie+1]=De>>8&255),X>2&&(oe[ie+2]=De>>16&255)),oe};function T(w,U,j){d.call(this,w,U,j)}T.prototype=new d,T.prototype.finalize=function(){return this.encode(this.outputBits,!0),d.prototype.finalize.call(this)};var ne=function(w){var U,j,X,re,ge,oe,ie,De,ae,he,Ko,rt,nt,Wo,ot,st,Vo,it,at,Go,ct,ut,Zo,pt,ft,Yo,lt,dt,$o,ht,yt,Jo,mt,gt,Xo,xt,wt,Qo,bt,St,es,vt,Et,ts,_t,Rt,rs,kt,At,ns,It,Bt,os,Tt,Pt,ss,zt,Mt,Xn,Qn,eo,to,ro;for(X=0;X<48;X+=2)re=w[0]^w[10]^w[20]^w[30]^w[40],ge=w[1]^w[11]^w[21]^w[31]^w[41],oe=w[2]^w[12]^w[22]^w[32]^w[42],ie=w[3]^w[13]^w[23]^w[33]^w[43],De=w[4]^w[14]^w[24]^w[34]^w[44],ae=w[5]^w[15]^w[25]^w[35]^w[45],he=w[6]^w[16]^w[26]^w[36]^w[46],Ko=w[7]^w[17]^w[27]^w[37]^w[47],rt=w[8]^w[18]^w[28]^w[38]^w[48],nt=w[9]^w[19]^w[29]^w[39]^w[49],U=rt^(oe<<1|ie>>>31),j=nt^(ie<<1|oe>>>31),w[0]^=U,w[1]^=j,w[10]^=U,w[11]^=j,w[20]^=U,w[21]^=j,w[30]^=U,w[31]^=j,w[40]^=U,w[41]^=j,U=re^(De<<1|ae>>>31),j=ge^(ae<<1|De>>>31),w[2]^=U,w[3]^=j,w[12]^=U,w[13]^=j,w[22]^=U,w[23]^=j,w[32]^=U,w[33]^=j,w[42]^=U,w[43]^=j,U=oe^(he<<1|Ko>>>31),j=ie^(Ko<<1|he>>>31),w[4]^=U,w[5]^=j,w[14]^=U,w[15]^=j,w[24]^=U,w[25]^=j,w[34]^=U,w[35]^=j,w[44]^=U,w[45]^=j,U=De^(rt<<1|nt>>>31),j=ae^(nt<<1|rt>>>31),w[6]^=U,w[7]^=j,w[16]^=U,w[17]^=j,w[26]^=U,w[27]^=j,w[36]^=U,w[37]^=j,w[46]^=U,w[47]^=j,U=he^(re<<1|ge>>>31),j=Ko^(ge<<1|re>>>31),w[8]^=U,w[9]^=j,w[18]^=U,w[19]^=j,w[28]^=U,w[29]^=j,w[38]^=U,w[39]^=j,w[48]^=U,w[49]^=j,Wo=w[0],ot=w[1],Rt=w[11]<<4|w[10]>>>28,rs=w[10]<<4|w[11]>>>28,dt=w[20]<<3|w[21]>>>29,$o=w[21]<<3|w[20]>>>29,Qn=w[31]<<9|w[30]>>>23,eo=w[30]<<9|w[31]>>>23,vt=w[40]<<18|w[41]>>>14,Et=w[41]<<18|w[40]>>>14,gt=w[2]<<1|w[3]>>>31,Xo=w[3]<<1|w[2]>>>31,st=w[13]<<12|w[12]>>>20,Vo=w[12]<<12|w[13]>>>20,kt=w[22]<<10|w[23]>>>22,At=w[23]<<10|w[22]>>>22,ht=w[33]<<13|w[32]>>>19,yt=w[32]<<13|w[33]>>>19,to=w[42]<<2|w[43]>>>30,ro=w[43]<<2|w[42]>>>30,Tt=w[5]<<30|w[4]>>>2,Pt=w[4]<<30|w[5]>>>2,xt=w[14]<<6|w[15]>>>26,wt=w[15]<<6|w[14]>>>26,it=w[25]<<11|w[24]>>>21,at=w[24]<<11|w[25]>>>21,ns=w[34]<<15|w[35]>>>17,It=w[35]<<15|w[34]>>>17,Jo=w[45]<<29|w[44]>>>3,mt=w[44]<<29|w[45]>>>3,pt=w[6]<<28|w[7]>>>4,ft=w[7]<<28|w[6]>>>4,ss=w[17]<<23|w[16]>>>9,zt=w[16]<<23|w[17]>>>9,Qo=w[26]<<25|w[27]>>>7,bt=w[27]<<25|w[26]>>>7,Go=w[36]<<21|w[37]>>>11,ct=w[37]<<21|w[36]>>>11,Bt=w[47]<<24|w[46]>>>8,os=w[46]<<24|w[47]>>>8,ts=w[8]<<27|w[9]>>>5,_t=w[9]<<27|w[8]>>>5,Yo=w[18]<<20|w[19]>>>12,lt=w[19]<<20|w[18]>>>12,Mt=w[29]<<7|w[28]>>>25,Xn=w[28]<<7|w[29]>>>25,St=w[38]<<8|w[39]>>>24,es=w[39]<<8|w[38]>>>24,ut=w[48]<<14|w[49]>>>18,Zo=w[49]<<14|w[48]>>>18,w[0]=Wo^~st&it,w[1]=ot^~Vo&at,w[10]=pt^~Yo&dt,w[11]=ft^~lt&$o,w[20]=gt^~xt&Qo,w[21]=Xo^~wt&bt,w[30]=ts^~Rt&kt,w[31]=_t^~rs&At,w[40]=Tt^~ss&Mt,w[41]=Pt^~zt&Xn,w[2]=st^~it&Go,w[3]=Vo^~at&ct,w[12]=Yo^~dt&ht,w[13]=lt^~$o&yt,w[22]=xt^~Qo&St,w[23]=wt^~bt&es,w[32]=Rt^~kt&ns,w[33]=rs^~At&It,w[42]=ss^~Mt&Qn,w[43]=zt^~Xn&eo,w[4]=it^~Go&ut,w[5]=at^~ct&Zo,w[14]=dt^~ht&Jo,w[15]=$o^~yt&mt,w[24]=Qo^~St&vt,w[25]=bt^~es&Et,w[34]=kt^~ns&Bt,w[35]=At^~It&os,w[44]=Mt^~Qn&to,w[45]=Xn^~eo&ro,w[6]=Go^~ut&Wo,w[7]=ct^~Zo&ot,w[16]=ht^~Jo&pt,w[17]=yt^~mt&ft,w[26]=St^~vt&gt,w[27]=es^~Et&Xo,w[36]=ns^~Bt&ts,w[37]=It^~os&_t,w[46]=Qn^~to&Tt,w[47]=eo^~ro&Pt,w[8]=ut^~Wo&st,w[9]=Zo^~ot&Vo,w[18]=Jo^~pt&Yo,w[19]=mt^~ft&lt,w[28]=vt^~gt&xt,w[29]=Et^~Xo&wt,w[38]=Bt^~ts&Rt,w[39]=os^~_t&rs,w[48]=to^~Tt&ss,w[49]=ro^~Pt&zt,w[0]^=J[X],w[1]^=J[X+1]};if(a)Cc.exports=c;else{for(h=0;h<p.length;++h)n[p[h]]=c[p[h]];u&&define(function(){return c})}})()});var Fg=Ee((qd,Dg)=>{l();var Oc=Js(),yn=Oc.Buffer;function Ug(r,e){for(var t in r)e[t]=r[t]}yn.from&&yn.alloc&&yn.allocUnsafe&&yn.allocUnsafeSlow?Dg.exports=Oc:(Ug(Oc,qd),qd.Buffer=Rs);function Rs(r,e,t){return yn(r,e,t)}Rs.prototype=Object.create(yn.prototype);Ug(yn,Rs);Rs.from=function(r,e,t){if(typeof r=="number")throw new TypeError("Argument must not be a number");return yn(r,e,t)};Rs.alloc=function(r,e,t){if(typeof r!="number")throw new TypeError("Argument must be a number");var n=yn(r);return e!==void 0?typeof t=="string"?n.fill(e,t):n.fill(e):n.fill(0),n};Rs.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return yn(r)};Rs.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return Oc.SlowBuffer(r)}});var Hg=Ee((AF,jg)=>{"use strict";l();var qc=Fg().Buffer;function bz(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var o=r.charAt(n),s=o.charCodeAt(0);if(e[s]!==255)throw new TypeError(o+" is ambiguous");e[s]=n}var a=r.length,u=r.charAt(0),f=Math.log(a)/Math.log(256),g=Math.log(256)/Math.log(a);function b(C){if((Array.isArray(C)||C instanceof Uint8Array)&&(C=qc.from(C)),!qc.isBuffer(C))throw new TypeError("Expected Buffer");if(C.length===0)return"";for(var V=0,J=0,$=0,pe=C.length;$!==pe&&C[$]===0;)$++,V++;for(var W=(pe-$)*g+1>>>0,we=new Uint8Array(W);$!==pe;){for(var Pe=C[$],Oe=0,Ae=W-1;(Pe!==0||Oe<J)&&Ae!==-1;Ae--,Oe++)Pe+=256*we[Ae]>>>0,we[Ae]=Pe%a>>>0,Pe=Pe/a>>>0;if(Pe!==0)throw new Error("Non-zero carry");J=Oe,$++}for(var He=W-J;He!==W&&we[He]===0;)He++;for(var _=u.repeat(V);He<W;++He)_+=r.charAt(we[He]);return _}function S(C){if(typeof C!="string")throw new TypeError("Expected String");if(C.length===0)return qc.alloc(0);for(var V=0,J=0,$=0;C[V]===u;)J++,V++;for(var pe=(C.length-V)*f+1>>>0,W=new Uint8Array(pe);C[V];){var we=e[C.charCodeAt(V)];if(we===255)return;for(var Pe=0,Oe=pe-1;(we!==0||Pe<$)&&Oe!==-1;Oe--,Pe++)we+=a*W[Oe]>>>0,W[Oe]=we%256>>>0,we=we/256>>>0;if(we!==0)throw new Error("Non-zero carry");$=Pe,V++}for(var Ae=pe-$;Ae!==pe&&W[Ae]===0;)Ae++;var He=qc.allocUnsafe(J+(pe-Ae));He.fill(0,0,J);for(var _=J;Ae!==pe;)He[_++]=W[Ae++];return He}function O(C){var V=S(C);if(V)return V;throw new Error("Non-base"+a+" character")}return{encode:b,decodeUnsafe:S,decode:O}}jg.exports=bz});var co=Ee((BF,Kg)=>{l();var Sz=Hg(),vz="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Kg.exports=Sz(vz)});var lo=Ee((SX,By)=>{"use strict";l();var x6=Object.prototype.hasOwnProperty,yr="~";function Ra(){}Object.create&&(Ra.prototype=Object.create(null),new Ra().__proto__||(yr=!1));function w6(r,e,t){this.fn=r,this.context=e,this.once=t||!1}function TI(r,e,t,n,o){if(typeof t!="function")throw new TypeError("The listener must be a function");var s=new w6(t,n||r,o),a=yr?yr+e:e;return r._events[a]?r._events[a].fn?r._events[a]=[r._events[a],s]:r._events[a].push(s):(r._events[a]=s,r._eventsCount++),r}function Ip(r,e){--r._eventsCount===0?r._events=new Ra:delete r._events[e]}function or(){this._events=new Ra,this._eventsCount=0}or.prototype.eventNames=function(){var e=[],t,n;if(this._eventsCount===0)return e;for(n in t=this._events)x6.call(t,n)&&e.push(yr?n.slice(1):n);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e};or.prototype.listeners=function(e){var t=yr?yr+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,s=n.length,a=new Array(s);o<s;o++)a[o]=n[o].fn;return a};or.prototype.listenerCount=function(e){var t=yr?yr+e:e,n=this._events[t];return n?n.fn?1:n.length:0};or.prototype.emit=function(e,t,n,o,s,a){var u=yr?yr+e:e;if(!this._events[u])return!1;var f=this._events[u],g=arguments.length,b,S;if(f.fn){switch(f.once&&this.removeListener(e,f.fn,void 0,!0),g){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,t),!0;case 3:return f.fn.call(f.context,t,n),!0;case 4:return f.fn.call(f.context,t,n,o),!0;case 5:return f.fn.call(f.context,t,n,o,s),!0;case 6:return f.fn.call(f.context,t,n,o,s,a),!0}for(S=1,b=new Array(g-1);S<g;S++)b[S-1]=arguments[S];f.fn.apply(f.context,b)}else{var O=f.length,C;for(S=0;S<O;S++)switch(f[S].once&&this.removeListener(e,f[S].fn,void 0,!0),g){case 1:f[S].fn.call(f[S].context);break;case 2:f[S].fn.call(f[S].context,t);break;case 3:f[S].fn.call(f[S].context,t,n);break;case 4:f[S].fn.call(f[S].context,t,n,o);break;default:if(!b)for(C=1,b=new Array(g-1);C<g;C++)b[C-1]=arguments[C];f[S].fn.apply(f[S].context,b)}}return!0};or.prototype.on=function(e,t,n){return TI(this,e,t,n,!1)};or.prototype.once=function(e,t,n){return TI(this,e,t,n,!0)};or.prototype.removeListener=function(e,t,n,o){var s=yr?yr+e:e;if(!this._events[s])return this;if(!t)return Ip(this,s),this;var a=this._events[s];if(a.fn)a.fn===t&&(!o||a.once)&&(!n||a.context===n)&&Ip(this,s);else{for(var u=0,f=[],g=a.length;u<g;u++)(a[u].fn!==t||o&&!a[u].once||n&&a[u].context!==n)&&f.push(a[u]);f.length?this._events[s]=f.length===1?f[0]:f:Ip(this,s)}return this};or.prototype.removeAllListeners=function(e){var t;return e?(t=yr?yr+e:e,this._events[t]&&Ip(this,t)):(this._events=new Ra,this._eventsCount=0),this};or.prototype.off=or.prototype.removeListener;or.prototype.addListener=or.prototype.on;or.prefixed=yr;or.EventEmitter=or;typeof By<"u"&&(By.exports=or)});var Ri=Ee(H=>{"use strict";l();Object.defineProperty(H,"__esModule",{value:!0});H.s16=H.s8=H.nu64be=H.u48be=H.u40be=H.u32be=H.u24be=H.u16be=H.nu64=H.u48=H.u40=H.u32=H.u24=H.u16=H.u8=H.offset=H.greedy=H.Constant=H.UTF8=H.CString=H.Blob=H.Boolean=H.BitField=H.BitStructure=H.VariantLayout=H.Union=H.UnionLayoutDiscriminator=H.UnionDiscriminator=H.Structure=H.Sequence=H.DoubleBE=H.Double=H.FloatBE=H.Float=H.NearInt64BE=H.NearInt64=H.NearUInt64BE=H.NearUInt64=H.IntBE=H.Int=H.UIntBE=H.UInt=H.OffsetLayout=H.GreedyCount=H.ExternalLayout=H.bindConstructorLayout=H.nameWithProperty=H.Layout=H.uint8ArrayToBuffer=H.checkUint8Array=void 0;H.constant=H.utf8=H.cstr=H.blob=H.unionLayoutDiscriminator=H.union=H.seq=H.bits=H.struct=H.f64be=H.f64=H.f32be=H.f32=H.ns64be=H.s48be=H.s40be=H.s32be=H.s24be=H.s16be=H.ns64=H.s48=H.s40=H.s32=H.s24=void 0;var jy=Js();function _i(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}H.checkUint8Array=_i;function Ze(r){return _i(r),jy.Buffer.from(r.buffer,r.byteOffset,r.length)}H.uint8ArrayToBuffer=Ze;var Je=class{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}};H.Layout=Je;function Hy(r,e){return e.property?r+"["+e.property+"]":r}H.nameWithProperty=Hy;function z6(r,e){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Je))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=e,e.boundConstructor_=r,e.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(t,n){return e.encode(this,t,n)},writable:!0}),Object.defineProperty(r,"decode",{value(t,n){return e.decode(t,n)},writable:!0})}H.bindConstructorLayout=z6;var sr=class extends Je{isCount(){throw new Error("ExternalLayout is abstract")}};H.ExternalLayout=sr;var Wp=class extends sr{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){_i(e);let n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}};H.GreedyCount=Wp;var Ba=class extends sr{constructor(e,t=0,n){if(!(e instanceof Je))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof vr||this.layout instanceof Ir}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,n=0){return this.layout.encode(e,t,n+this.offset)}};H.OffsetLayout=Ba;var vr=class extends Je{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Ze(e).readUIntLE(t,this.span)}encode(e,t,n=0){return Ze(t).writeUIntLE(e,n,this.span),this.span}};H.UInt=vr;var Ir=class extends Je{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Ze(e).readUIntBE(t,this.span)}encode(e,t,n=0){return Ze(t).writeUIntBE(e,n,this.span),this.span}};H.UIntBE=Ir;var jn=class extends Je{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Ze(e).readIntLE(t,this.span)}encode(e,t,n=0){return Ze(t).writeIntLE(e,n,this.span),this.span}};H.Int=jn;var mo=class extends Je{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Ze(e).readIntBE(t,this.span)}encode(e,t,n=0){return Ze(t).writeIntBE(e,n,this.span),this.span}};H.IntBE=mo;var Fy=Math.pow(2,32);function uf(r){let e=Math.floor(r/Fy),t=r-e*Fy;return{hi32:e,lo32:t}}function pf(r,e){return r*Fy+e}var Vp=class extends Je{constructor(e){super(8,e)}decode(e,t=0){let n=Ze(e),o=n.readUInt32LE(t),s=n.readUInt32LE(t+4);return pf(s,o)}encode(e,t,n=0){let o=uf(e),s=Ze(t);return s.writeUInt32LE(o.lo32,n),s.writeUInt32LE(o.hi32,n+4),8}};H.NearUInt64=Vp;var Gp=class extends Je{constructor(e){super(8,e)}decode(e,t=0){let n=Ze(e),o=n.readUInt32BE(t),s=n.readUInt32BE(t+4);return pf(o,s)}encode(e,t,n=0){let o=uf(e),s=Ze(t);return s.writeUInt32BE(o.hi32,n),s.writeUInt32BE(o.lo32,n+4),8}};H.NearUInt64BE=Gp;var Zp=class extends Je{constructor(e){super(8,e)}decode(e,t=0){let n=Ze(e),o=n.readUInt32LE(t),s=n.readInt32LE(t+4);return pf(s,o)}encode(e,t,n=0){let o=uf(e),s=Ze(t);return s.writeUInt32LE(o.lo32,n),s.writeInt32LE(o.hi32,n+4),8}};H.NearInt64=Zp;var Yp=class extends Je{constructor(e){super(8,e)}decode(e,t=0){let n=Ze(e),o=n.readInt32BE(t),s=n.readUInt32BE(t+4);return pf(o,s)}encode(e,t,n=0){let o=uf(e),s=Ze(t);return s.writeInt32BE(o.hi32,n),s.writeUInt32BE(o.lo32,n+4),8}};H.NearInt64BE=Yp;var $p=class extends Je{constructor(e){super(4,e)}decode(e,t=0){return Ze(e).readFloatLE(t)}encode(e,t,n=0){return Ze(t).writeFloatLE(e,n),4}};H.Float=$p;var Jp=class extends Je{constructor(e){super(4,e)}decode(e,t=0){return Ze(e).readFloatBE(t)}encode(e,t,n=0){return Ze(t).writeFloatBE(e,n),4}};H.FloatBE=Jp;var Xp=class extends Je{constructor(e){super(8,e)}decode(e,t=0){return Ze(e).readDoubleLE(t)}encode(e,t,n=0){return Ze(t).writeDoubleLE(e,n),8}};H.Double=Xp;var Qp=class extends Je{constructor(e){super(8,e)}decode(e,t=0){return Ze(e).readDoubleBE(t)}encode(e,t,n=0){return Ze(t).writeDoubleBE(e,n),8}};H.DoubleBE=Qp;var ef=class extends Je{constructor(e,t,n){if(!(e instanceof Je))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof sr&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(t instanceof sr)&&0<e.span&&(o=t*e.span),super(o,n),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0,o=this.count;if(o instanceof sr&&(o=o.decode(e,t)),0<this.elementLayout.span)n=o*this.elementLayout.span;else{let s=0;for(;s<o;)n+=this.elementLayout.getSpan(e,t+n),++s}return n}decode(e,t=0){let n=[],o=0,s=this.count;for(s instanceof sr&&(s=s.decode(e,t));o<s;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),o+=1;return n}encode(e,t,n=0){let o=this.elementLayout,s=e.reduce((a,u)=>a+o.encode(u,t,n+a),0);return this.count instanceof sr&&this.count.encode(e.length,t,n),s}};H.Sequence=ef;var tf=class extends Je{constructor(e,t,n){if(!(Array.isArray(e)&&e.reduce((s,a)=>s&&a instanceof Je,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&n===void 0&&(n=t,t=void 0);for(let s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((s,a)=>s+a.getSpan(),0)}catch{}super(o,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((o,s)=>{let a=s.getSpan(e,t);return t+=a,o+a},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,t=0){_i(e);let n=this.makeDestinationObject();for(let o of this.fields)if(o.property!==void 0&&(n[o.property]=o.decode(e,t)),t+=o.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n=0){let o=n,s=0,a=0;for(let u of this.fields){let f=u.span;if(a=0<f?f:0,u.property!==void 0){let g=e[u.property];g!==void 0&&(a=u.encode(g,t,n),0>f&&(f=u.getSpan(t,n)))}s=n,n+=f}return s+a-o}fromArray(e){let t=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(let n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}};H.Structure=tf;var Ta=class{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,n){throw new Error("UnionDiscriminator is abstract")}};H.UnionDiscriminator=Ta;var Ei=class extends Ta{constructor(e,t){if(!(e instanceof sr&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}};H.UnionLayoutDiscriminator=Ei;var Pa=class extends Je{constructor(e,t,n){let o;if(e instanceof vr||e instanceof Ir)o=new Ei(new Ba(e));else if(e instanceof sr&&e.isCount())o=new Ei(e);else if(e instanceof Ta)o=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof Je))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let s=-1;t&&(s=t.span,0<=s&&(e instanceof vr||e instanceof Ir)&&(s+=o.layout.span)),super(s,n),this.discriminator=o,this.usesPrefixDiscriminator=e instanceof vr||e instanceof Ir,this.defaultLayout=t,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(u){return a(u)},this.configGetSourceVariant=function(u){a=u.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;let n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(let t in this.registry){let n=this.registry[t];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,t=0){let n,o=this.discriminator,s=o.decode(e,t),a=this.registry[s];if(a===void 0){let u=this.defaultLayout,f=0;this.usesPrefixDiscriminator&&(f=o.layout.span),n=this.makeDestinationObject(),n[o.property]=s,n[u.property]=u.decode(e,t+f)}else n=a.decode(e,t);return n}encode(e,t,n=0){let o=this.getSourceVariant(e);if(o===void 0){let s=this.discriminator,a=this.defaultLayout,u=0;return this.usesPrefixDiscriminator&&(u=s.layout.span),s.encode(e[s.property],t,n),u+a.encode(e[a.property],t,n+u)}return o.encode(e,t,n)}addVariant(e,t,n){let o=new rf(this,e,t,n);return this.registry[e]=o,o}getVariant(e,t=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,t):n=e,this.registry[n]}};H.Union=Pa;var rf=class extends Je{constructor(e,t,n,o){if(!(e instanceof Pa))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&o===void 0&&(o=n,n=null),n){if(!(n instanceof Je))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,o),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let o=0;return this.layout&&(o=this.layout.getSpan(e,t+n)),n+o}decode(e,t=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+o):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n=0){let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let s=o;if(this.layout&&(this.layout.encode(e[this.property],t,n+o),s+=this.layout.getSpan(t,n+o),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};H.VariantLayout=rf;function vi(r){return 0>r&&(r+=4294967296),r}var za=class extends Je{constructor(e,t,n){if(!(e instanceof vr||e instanceof Ir))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&n===void 0&&(n=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let o=0;this._packedSetValue=function(s){return o=vi(s),this},this._packedGetValue=function(){return o}}decode(e,t=0){let n=this.makeDestinationObject(),o=this.word.decode(e,t);this._packedSetValue(o);for(let s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(e));return n}encode(e,t,n=0){let o=this.word.decode(t,n);this._packedSetValue(o);for(let s of this.fields)if(s.property!==void 0){let a=e[s.property];a!==void 0&&s.encode(a)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){let n=new Ma(this,e,t);return this.fields.push(n),n}addBoolean(e){let t=new nf(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}};H.BitStructure=za;var Ma=class{constructor(e,t,n){if(!(e instanceof za))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");let o=8*e.span,s=e.fields.reduce((a,u)=>a+u.bits,0);if(t+s>o)throw new Error("bits too long for span remainder ("+(o-s)+" of "+o+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=o-s-t),this.wordMask=vi(this.valueMask<<this.start),this.property=n}decode(e,t){let n=this.container._packedGetValue();return vi(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==vi(e&this.valueMask))throw new TypeError(Hy("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let t=this.container._packedGetValue(),n=vi(e<<this.start);this.container._packedSetValue(vi(t&~this.wordMask)|n)}};H.BitField=Ma;var nf=class extends Ma{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};H.Boolean=nf;var of=class extends Je{constructor(e,t){if(!(e instanceof sr&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof sr||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t=0){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),Ze(e).slice(t,t+n)}encode(e,t,n){let o=this.length;if(this.length instanceof sr&&(o=e.length),!(e instanceof Uint8Array&&o===e.length))throw new TypeError(Hy("Blob.encode",this)+" requires (length "+o+") Uint8Array as src");if(n+o>t.length)throw new RangeError("encoding overruns Uint8Array");let s=Ze(e);return Ze(t).write(s.toString("hex"),n,o,"hex"),this.length instanceof sr&&this.length.encode(o,t,n),o}};H.Blob=of;var sf=class extends Je{constructor(e){super(-1,e)}getSpan(e,t=0){_i(e);let n=t;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-t}decode(e,t=0){let n=this.getSpan(e,t);return Ze(e).slice(t,t+n-1).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));let o=jy.Buffer.from(e,"utf8"),s=o.length;if(n+s>t.length)throw new RangeError("encoding overruns Buffer");let a=Ze(t);return o.copy(a,n),a[n+s]=0,s+1}};H.CString=sf;var af=class extends Je{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return _i(e),e.length-t}decode(e,t=0){let n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Ze(e).slice(t,t+n).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));let o=jy.Buffer.from(e,"utf8"),s=o.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>t.length)throw new RangeError("encoding overruns Buffer");return o.copy(Ze(t),n),s}};H.UTF8=af;var cf=class extends Je{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,n){return 0}};H.Constant=cf;H.greedy=(r,e)=>new Wp(r,e);H.offset=(r,e,t)=>new Ba(r,e,t);H.u8=r=>new vr(1,r);H.u16=r=>new vr(2,r);H.u24=r=>new vr(3,r);H.u32=r=>new vr(4,r);H.u40=r=>new vr(5,r);H.u48=r=>new vr(6,r);H.nu64=r=>new Vp(r);H.u16be=r=>new Ir(2,r);H.u24be=r=>new Ir(3,r);H.u32be=r=>new Ir(4,r);H.u40be=r=>new Ir(5,r);H.u48be=r=>new Ir(6,r);H.nu64be=r=>new Gp(r);H.s8=r=>new jn(1,r);H.s16=r=>new jn(2,r);H.s24=r=>new jn(3,r);H.s32=r=>new jn(4,r);H.s40=r=>new jn(5,r);H.s48=r=>new jn(6,r);H.ns64=r=>new Zp(r);H.s16be=r=>new mo(2,r);H.s24be=r=>new mo(3,r);H.s32be=r=>new mo(4,r);H.s40be=r=>new mo(5,r);H.s48be=r=>new mo(6,r);H.ns64be=r=>new Yp(r);H.f32=r=>new $p(r);H.f32be=r=>new Jp(r);H.f64=r=>new Xp(r);H.f64be=r=>new Qp(r);H.struct=(r,e,t)=>new tf(r,e,t);H.bits=(r,e,t)=>new za(r,e,t);H.seq=(r,e,t)=>new ef(r,e,t);H.union=(r,e,t)=>new Pa(r,e,t);H.unionLayoutDiscriminator=(r,e)=>new Ei(r,e);H.blob=(r,e)=>new of(r,e);H.cstr=r=>new sf(r);H.utf8=(r,e)=>new af(r,e);H.constant=(r,e)=>new cf(r,e)});var Na=Ee(Bi=>{"use strict";l();var Ky=ad(),Ai=ud(),jI=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Bi.Buffer=Y;Bi.SlowBuffer=q6;Bi.INSPECT_MAX_BYTES=50;var ff=2147483647;Bi.kMaxLength=ff;Y.TYPED_ARRAY_SUPPORT=M6();!Y.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function M6(){try{let r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(Y.prototype,"parent",{enumerable:!0,get:function(){if(Y.isBuffer(this))return this.buffer}});Object.defineProperty(Y.prototype,"offset",{enumerable:!0,get:function(){if(Y.isBuffer(this))return this.byteOffset}});function Hn(r){if(r>ff)throw new RangeError('The value "'+r+'" is invalid for option "size"');let e=new Uint8Array(r);return Object.setPrototypeOf(e,Y.prototype),e}function Y(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Zy(r)}return VI(r,e,t)}Y.poolSize=8192;function VI(r,e,t){if(typeof r=="string")return N6(r,e);if(ArrayBuffer.isView(r))return C6(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(bn(r,ArrayBuffer)||r&&bn(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(bn(r,SharedArrayBuffer)||r&&bn(r.buffer,SharedArrayBuffer)))return Vy(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=r.valueOf&&r.valueOf();if(n!=null&&n!==r)return Y.from(n,e,t);let o=O6(r);if(o)return o;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return Y.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}Y.from=function(r,e,t){return VI(r,e,t)};Object.setPrototypeOf(Y.prototype,Uint8Array.prototype);Object.setPrototypeOf(Y,Uint8Array);function GI(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function L6(r,e,t){return GI(r),r<=0?Hn(r):e!==void 0?typeof t=="string"?Hn(r).fill(e,t):Hn(r).fill(e):Hn(r)}Y.alloc=function(r,e,t){return L6(r,e,t)};function Zy(r){return GI(r),Hn(r<0?0:Yy(r)|0)}Y.allocUnsafe=function(r){return Zy(r)};Y.allocUnsafeSlow=function(r){return Zy(r)};function N6(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Y.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=ZI(r,e)|0,n=Hn(t),o=n.write(r,e);return o!==t&&(n=n.slice(0,o)),n}function Wy(r){let e=r.length<0?0:Yy(r.length)|0,t=Hn(e);for(let n=0;n<e;n+=1)t[n]=r[n]&255;return t}function C6(r){if(bn(r,Uint8Array)){let e=new Uint8Array(r);return Vy(e.buffer,e.byteOffset,e.byteLength)}return Wy(r)}function Vy(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&t===void 0?n=new Uint8Array(r):t===void 0?n=new Uint8Array(r,e):n=new Uint8Array(r,e,t),Object.setPrototypeOf(n,Y.prototype),n}function O6(r){if(Y.isBuffer(r)){let e=Yy(r.length)|0,t=Hn(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||Jy(r.length)?Hn(0):Wy(r);if(r.type==="Buffer"&&Array.isArray(r.data))return Wy(r.data)}function Yy(r){if(r>=ff)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ff.toString(16)+" bytes");return r|0}function q6(r){return+r!=r&&(r=0),Y.alloc(+r)}Y.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==Y.prototype};Y.compare=function(e,t){if(bn(e,Uint8Array)&&(e=Y.from(e,e.offset,e.byteLength)),bn(t,Uint8Array)&&(t=Y.from(t,t.offset,t.byteLength)),!Y.isBuffer(e)||!Y.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,o=t.length;for(let s=0,a=Math.min(n,o);s<a;++s)if(e[s]!==t[s]){n=e[s],o=t[s];break}return n<o?-1:o<n?1:0};Y.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Y.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return Y.alloc(0);let n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;let o=Y.allocUnsafe(t),s=0;for(n=0;n<e.length;++n){let a=e[n];if(bn(a,Uint8Array))s+a.length>o.length?(Y.isBuffer(a)||(a=Y.from(a)),a.copy(o,s)):Uint8Array.prototype.set.call(o,a,s);else if(Y.isBuffer(a))a.copy(o,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=a.length}return o};function ZI(r,e){if(Y.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||bn(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);let t=r.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&t===0)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return Gy(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return n2(r).length;default:if(o)return n?-1:Gy(r).length;e=(""+e).toLowerCase(),o=!0}}Y.byteLength=ZI;function U6(r,e,t){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return Y6(this,e,t);case"utf8":case"utf-8":return $I(this,e,t);case"ascii":return G6(this,e,t);case"latin1":case"binary":return Z6(this,e,t);case"base64":return W6(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $6(this,e,t);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}Y.prototype._isBuffer=!0;function Ps(r,e,t){let n=r[e];r[e]=r[t],r[t]=n}Y.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)Ps(this,t,t+1);return this};Y.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)Ps(this,t,t+3),Ps(this,t+1,t+2);return this};Y.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)Ps(this,t,t+7),Ps(this,t+1,t+6),Ps(this,t+2,t+5),Ps(this,t+3,t+4);return this};Y.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?$I(this,0,e):U6.apply(this,arguments)};Y.prototype.toLocaleString=Y.prototype.toString;Y.prototype.equals=function(e){if(!Y.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:Y.compare(this,e)===0};Y.prototype.inspect=function(){let e="",t=Bi.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};jI&&(Y.prototype[jI]=Y.prototype.inspect);Y.prototype.compare=function(e,t,n,o,s){if(bn(e,Uint8Array)&&(e=Y.from(e,e.offset,e.byteLength)),!Y.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),o===void 0&&(o=0),s===void 0&&(s=this.length),t<0||n>e.length||o<0||s>this.length)throw new RangeError("out of range index");if(o>=s&&t>=n)return 0;if(o>=s)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,o>>>=0,s>>>=0,this===e)return 0;let a=s-o,u=n-t,f=Math.min(a,u),g=this.slice(o,s),b=e.slice(t,n);for(let S=0;S<f;++S)if(g[S]!==b[S]){a=g[S],u=b[S];break}return a<u?-1:u<a?1:0};function YI(r,e,t,n,o){if(r.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,Jy(t)&&(t=o?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(o)return-1;t=r.length-1}else if(t<0)if(o)t=0;else return-1;if(typeof e=="string"&&(e=Y.from(e,n)),Y.isBuffer(e))return e.length===0?-1:HI(r,e,t,n,o);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?o?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):HI(r,[e],t,n,o);throw new TypeError("val must be string, number or Buffer")}function HI(r,e,t,n,o){let s=1,a=r.length,u=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,a/=2,u/=2,t/=2}function f(b,S){return s===1?b[S]:b.readUInt16BE(S*s)}let g;if(o){let b=-1;for(g=t;g<a;g++)if(f(r,g)===f(e,b===-1?0:g-b)){if(b===-1&&(b=g),g-b+1===u)return b*s}else b!==-1&&(g-=g-b),b=-1}else for(t+u>a&&(t=a-u),g=t;g>=0;g--){let b=!0;for(let S=0;S<u;S++)if(f(r,g+S)!==f(e,S)){b=!1;break}if(b)return g}return-1}Y.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1};Y.prototype.indexOf=function(e,t,n){return YI(this,e,t,n,!0)};Y.prototype.lastIndexOf=function(e,t,n){return YI(this,e,t,n,!1)};function D6(r,e,t,n){t=Number(t)||0;let o=r.length-t;n?(n=Number(n),n>o&&(n=o)):n=o;let s=e.length;n>s/2&&(n=s/2);let a;for(a=0;a<n;++a){let u=parseInt(e.substr(a*2,2),16);if(Jy(u))return a;r[t+a]=u}return a}function F6(r,e,t,n){return lf(Gy(e,r.length-t),r,t,n)}function j6(r,e,t,n){return lf(eC(e),r,t,n)}function H6(r,e,t,n){return lf(n2(e),r,t,n)}function K6(r,e,t,n){return lf(tC(e,r.length-t),r,t,n)}Y.prototype.write=function(e,t,n,o){if(t===void 0)o="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")o=t,n=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(n)?(n=n>>>0,o===void 0&&(o="utf8")):(o=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-t;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");let a=!1;for(;;)switch(o){case"hex":return D6(this,e,t,n);case"utf8":case"utf-8":return F6(this,e,t,n);case"ascii":case"latin1":case"binary":return j6(this,e,t,n);case"base64":return H6(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K6(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),a=!0}};Y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function W6(r,e,t){return e===0&&t===r.length?Ky.fromByteArray(r):Ky.fromByteArray(r.slice(e,t))}function $I(r,e,t){t=Math.min(r.length,t);let n=[],o=e;for(;o<t;){let s=r[o],a=null,u=s>239?4:s>223?3:s>191?2:1;if(o+u<=t){let f,g,b,S;switch(u){case 1:s<128&&(a=s);break;case 2:f=r[o+1],(f&192)===128&&(S=(s&31)<<6|f&63,S>127&&(a=S));break;case 3:f=r[o+1],g=r[o+2],(f&192)===128&&(g&192)===128&&(S=(s&15)<<12|(f&63)<<6|g&63,S>2047&&(S<55296||S>57343)&&(a=S));break;case 4:f=r[o+1],g=r[o+2],b=r[o+3],(f&192)===128&&(g&192)===128&&(b&192)===128&&(S=(s&15)<<18|(f&63)<<12|(g&63)<<6|b&63,S>65535&&S<1114112&&(a=S))}}a===null?(a=65533,u=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),o+=u}return V6(n)}var KI=4096;function V6(r){let e=r.length;if(e<=KI)return String.fromCharCode.apply(String,r);let t="",n=0;for(;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=KI));return t}function G6(r,e,t){let n="";t=Math.min(r.length,t);for(let o=e;o<t;++o)n+=String.fromCharCode(r[o]&127);return n}function Z6(r,e,t){let n="";t=Math.min(r.length,t);for(let o=e;o<t;++o)n+=String.fromCharCode(r[o]);return n}function Y6(r,e,t){let n=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>n)&&(t=n);let o="";for(let s=e;s<t;++s)o+=rC[r[s]];return o}function $6(r,e,t){let n=r.slice(e,t),o="";for(let s=0;s<n.length-1;s+=2)o+=String.fromCharCode(n[s]+n[s+1]*256);return o}Y.prototype.slice=function(e,t){let n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);let o=this.subarray(e,t);return Object.setPrototypeOf(o,Y.prototype),o};function Yt(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}Y.prototype.readUintLE=Y.prototype.readUIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||Yt(e,t,this.length);let o=this[e],s=1,a=0;for(;++a<t&&(s*=256);)o+=this[e+a]*s;return o};Y.prototype.readUintBE=Y.prototype.readUIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||Yt(e,t,this.length);let o=this[e+--t],s=1;for(;t>0&&(s*=256);)o+=this[e+--t]*s;return o};Y.prototype.readUint8=Y.prototype.readUInt8=function(e,t){return e=e>>>0,t||Yt(e,1,this.length),this[e]};Y.prototype.readUint16LE=Y.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||Yt(e,2,this.length),this[e]|this[e+1]<<8};Y.prototype.readUint16BE=Y.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||Yt(e,2,this.length),this[e]<<8|this[e+1]};Y.prototype.readUint32LE=Y.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||Yt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};Y.prototype.readUint32BE=Y.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||Yt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};Y.prototype.readBigUInt64LE=go(function(e){e=e>>>0,Ii(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&La(e,this.length-8);let o=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(o)+(BigInt(s)<<BigInt(32))});Y.prototype.readBigUInt64BE=go(function(e){e=e>>>0,Ii(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&La(e,this.length-8);let o=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(o)<<BigInt(32))+BigInt(s)});Y.prototype.readIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||Yt(e,t,this.length);let o=this[e],s=1,a=0;for(;++a<t&&(s*=256);)o+=this[e+a]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};Y.prototype.readIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||Yt(e,t,this.length);let o=t,s=1,a=this[e+--o];for(;o>0&&(s*=256);)a+=this[e+--o]*s;return s*=128,a>=s&&(a-=Math.pow(2,8*t)),a};Y.prototype.readInt8=function(e,t){return e=e>>>0,t||Yt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};Y.prototype.readInt16LE=function(e,t){e=e>>>0,t||Yt(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};Y.prototype.readInt16BE=function(e,t){e=e>>>0,t||Yt(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};Y.prototype.readInt32LE=function(e,t){return e=e>>>0,t||Yt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};Y.prototype.readInt32BE=function(e,t){return e=e>>>0,t||Yt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};Y.prototype.readBigInt64LE=go(function(e){e=e>>>0,Ii(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&La(e,this.length-8);let o=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(o)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});Y.prototype.readBigInt64BE=go(function(e){e=e>>>0,Ii(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&La(e,this.length-8);let o=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(o)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});Y.prototype.readFloatLE=function(e,t){return e=e>>>0,t||Yt(e,4,this.length),Ai.read(this,e,!0,23,4)};Y.prototype.readFloatBE=function(e,t){return e=e>>>0,t||Yt(e,4,this.length),Ai.read(this,e,!1,23,4)};Y.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||Yt(e,8,this.length),Ai.read(this,e,!0,52,8)};Y.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||Yt(e,8,this.length),Ai.read(this,e,!1,52,8)};function Er(r,e,t,n,o,s){if(!Y.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<s)throw new RangeError('"value" argument is out of bounds');if(t+n>r.length)throw new RangeError("Index out of range")}Y.prototype.writeUintLE=Y.prototype.writeUIntLE=function(e,t,n,o){if(e=+e,t=t>>>0,n=n>>>0,!o){let u=Math.pow(2,8*n)-1;Er(this,e,t,n,u,0)}let s=1,a=0;for(this[t]=e&255;++a<n&&(s*=256);)this[t+a]=e/s&255;return t+n};Y.prototype.writeUintBE=Y.prototype.writeUIntBE=function(e,t,n,o){if(e=+e,t=t>>>0,n=n>>>0,!o){let u=Math.pow(2,8*n)-1;Er(this,e,t,n,u,0)}let s=n-1,a=1;for(this[t+s]=e&255;--s>=0&&(a*=256);)this[t+s]=e/a&255;return t+n};Y.prototype.writeUint8=Y.prototype.writeUInt8=function(e,t,n){return e=+e,t=t>>>0,n||Er(this,e,t,1,255,0),this[t]=e&255,t+1};Y.prototype.writeUint16LE=Y.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||Er(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};Y.prototype.writeUint16BE=Y.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||Er(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};Y.prototype.writeUint32LE=Y.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||Er(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};Y.prototype.writeUint32BE=Y.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||Er(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function JI(r,e,t,n,o){r2(e,n,o,r,t,7);let s=Number(e&BigInt(4294967295));r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s;let a=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=a,a=a>>8,r[t++]=a,a=a>>8,r[t++]=a,a=a>>8,r[t++]=a,t}function XI(r,e,t,n,o){r2(e,n,o,r,t,7);let s=Number(e&BigInt(4294967295));r[t+7]=s,s=s>>8,r[t+6]=s,s=s>>8,r[t+5]=s,s=s>>8,r[t+4]=s;let a=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=a,a=a>>8,r[t+2]=a,a=a>>8,r[t+1]=a,a=a>>8,r[t]=a,t+8}Y.prototype.writeBigUInt64LE=go(function(e,t=0){return JI(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});Y.prototype.writeBigUInt64BE=go(function(e,t=0){return XI(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});Y.prototype.writeIntLE=function(e,t,n,o){if(e=+e,t=t>>>0,!o){let f=Math.pow(2,8*n-1);Er(this,e,t,n,f-1,-f)}let s=0,a=1,u=0;for(this[t]=e&255;++s<n&&(a*=256);)e<0&&u===0&&this[t+s-1]!==0&&(u=1),this[t+s]=(e/a>>0)-u&255;return t+n};Y.prototype.writeIntBE=function(e,t,n,o){if(e=+e,t=t>>>0,!o){let f=Math.pow(2,8*n-1);Er(this,e,t,n,f-1,-f)}let s=n-1,a=1,u=0;for(this[t+s]=e&255;--s>=0&&(a*=256);)e<0&&u===0&&this[t+s+1]!==0&&(u=1),this[t+s]=(e/a>>0)-u&255;return t+n};Y.prototype.writeInt8=function(e,t,n){return e=+e,t=t>>>0,n||Er(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};Y.prototype.writeInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||Er(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};Y.prototype.writeInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||Er(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};Y.prototype.writeInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||Er(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};Y.prototype.writeInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||Er(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};Y.prototype.writeBigInt64LE=go(function(e,t=0){return JI(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});Y.prototype.writeBigInt64BE=go(function(e,t=0){return XI(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function QI(r,e,t,n,o,s){if(t+n>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function e2(r,e,t,n,o){return e=+e,t=t>>>0,o||QI(r,e,t,4,34028234663852886e22,-34028234663852886e22),Ai.write(r,e,t,n,23,4),t+4}Y.prototype.writeFloatLE=function(e,t,n){return e2(this,e,t,!0,n)};Y.prototype.writeFloatBE=function(e,t,n){return e2(this,e,t,!1,n)};function t2(r,e,t,n,o){return e=+e,t=t>>>0,o||QI(r,e,t,8,17976931348623157e292,-17976931348623157e292),Ai.write(r,e,t,n,52,8),t+8}Y.prototype.writeDoubleLE=function(e,t,n){return t2(this,e,t,!0,n)};Y.prototype.writeDoubleBE=function(e,t,n){return t2(this,e,t,!1,n)};Y.prototype.copy=function(e,t,n,o){if(!Y.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!o&&o!==0&&(o=this.length),t>=e.length&&(t=e.length),t||(t=0),o>0&&o<n&&(o=n),o===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-t<o-n&&(o=e.length-t+n);let s=o-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,n,o):Uint8Array.prototype.set.call(e,this.subarray(n,o),t),s};Y.prototype.fill=function(e,t,n,o){if(typeof e=="string"){if(typeof t=="string"?(o=t,t=0,n=this.length):typeof n=="string"&&(o=n,n=this.length),o!==void 0&&typeof o!="string")throw new TypeError("encoding must be a string");if(typeof o=="string"&&!Y.isEncoding(o))throw new TypeError("Unknown encoding: "+o);if(e.length===1){let a=e.charCodeAt(0);(o==="utf8"&&a<128||o==="latin1")&&(e=a)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let s;if(typeof e=="number")for(s=t;s<n;++s)this[s]=e;else{let a=Y.isBuffer(e)?e:Y.from(e,o),u=a.length;if(u===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-t;++s)this[s+t]=a[s%u]}return this};var ki={};function $y(r,e,t){ki[r]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(o){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:o,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}$y("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);$y("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError);$y("ERR_OUT_OF_RANGE",function(r,e,t){let n=`The value of "${r}" is out of range.`,o=t;return Number.isInteger(t)&&Math.abs(t)>2**32?o=WI(String(t)):typeof t=="bigint"&&(o=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(o=WI(o)),o+="n"),n+=` It must be ${e}. Received ${o}`,n},RangeError);function WI(r){let e="",t=r.length,n=r[0]==="-"?1:0;for(;t>=n+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function J6(r,e,t){Ii(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&La(e,r.length-(t+1))}function r2(r,e,t,n,o,s){if(r>t||r<e){let a=typeof e=="bigint"?"n":"",u;throw s>3?e===0||e===BigInt(0)?u=`>= 0${a} and < 2${a} ** ${(s+1)*8}${a}`:u=`>= -(2${a} ** ${(s+1)*8-1}${a}) and < 2 ** ${(s+1)*8-1}${a}`:u=`>= ${e}${a} and <= ${t}${a}`,new ki.ERR_OUT_OF_RANGE("value",u,r)}J6(n,o,s)}function Ii(r,e){if(typeof r!="number")throw new ki.ERR_INVALID_ARG_TYPE(e,"number",r)}function La(r,e,t){throw Math.floor(r)!==r?(Ii(r,t),new ki.ERR_OUT_OF_RANGE(t||"offset","an integer",r)):e<0?new ki.ERR_BUFFER_OUT_OF_BOUNDS:new ki.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,r)}var X6=/[^+/0-9A-Za-z-_]/g;function Q6(r){if(r=r.split("=")[0],r=r.trim().replace(X6,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function Gy(r,e){e=e||1/0;let t,n=r.length,o=null,s=[];for(let a=0;a<n;++a){if(t=r.charCodeAt(a),t>55295&&t<57344){if(!o){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(a+1===n){(e-=3)>-1&&s.push(239,191,189);continue}o=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),o=t;continue}t=(o-55296<<10|t-56320)+65536}else o&&(e-=3)>-1&&s.push(239,191,189);if(o=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function eC(r){let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function tC(r,e){let t,n,o,s=[];for(let a=0;a<r.length&&!((e-=2)<0);++a)t=r.charCodeAt(a),n=t>>8,o=t%256,s.push(o),s.push(n);return s}function n2(r){return Ky.toByteArray(Q6(r))}function lf(r,e,t,n){let o;for(o=0;o<n&&!(o+t>=e.length||o>=r.length);++o)e[o+t]=r[o];return o}function bn(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function Jy(r){return r!==r}var rC=function(){let r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let n=t*16;for(let o=0;o<16;++o)e[n+o]=r[t]+r[o]}return e}();function go(r){return typeof BigInt>"u"?nC:r}function nC(){throw new Error("BigInt not supported")}});var nm=Ee(()=>{l()});var w2=Ee(hm=>{"use strict";l();function Kn(r,e,t){return e<=r&&r<=t}function kf(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function oO(r){for(var e=String(r),t=e.length,n=0,o=[];n<t;){var s=e.charCodeAt(n);if(s<55296||s>57343)o.push(s);else if(56320<=s&&s<=57343)o.push(65533);else if(55296<=s&&s<=56319)if(n===t-1)o.push(65533);else{var a=r.charCodeAt(n+1);if(56320<=a&&a<=57343){var u=s&1023,f=a&1023;o.push(65536+(u<<10)+f),n+=1}else o.push(65533)}n+=1}return o}function sO(r){for(var e="",t=0;t<r.length;++t){var n=r[t];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var vf=-1;function dm(r){this.tokens=[].slice.call(r)}dm.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():vf},prepend:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.push(e.shift());else this.tokens.push(r)}};var zi=-1;function lm(r,e){if(r)throw TypeError("Decoder error");return e||65533}var Ef="utf-8";function _f(r,e){if(!(this instanceof _f))return new _f(r,e);if(r=r!==void 0?String(r).toLowerCase():Ef,r!==Ef)throw new Error("Encoding not supported. Only utf-8 is supported");e=kf(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}_f.prototype={decode:function(e,t){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),t=kf(t),this._streaming||(this._decoder=new iO({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var o=new dm(n),s=[],a;!o.endOfStream()&&(a=this._decoder.handler(o,o.read()),a!==zi);)a!==null&&(Array.isArray(a)?s.push.apply(s,a):s.push(a));if(!this._streaming){do{if(a=this._decoder.handler(o,o.read()),a===zi)break;a!==null&&(Array.isArray(a)?s.push.apply(s,a):s.push(a))}while(!o.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),sO(s)}};function Rf(r,e){if(!(this instanceof Rf))return new Rf(r,e);if(r=r!==void 0?String(r).toLowerCase():Ef,r!==Ef)throw new Error("Encoding not supported. Only utf-8 is supported");e=kf(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Rf.prototype={encode:function(e,t){e=e?String(e):"",t=kf(t),this._streaming||(this._encoder=new aO(this._options)),this._streaming=!!t.stream;for(var n=[],o=new dm(oO(e)),s;!o.endOfStream()&&(s=this._encoder.handler(o,o.read()),s!==zi);)Array.isArray(s)?n.push.apply(n,s):n.push(s);if(!this._streaming){for(;s=this._encoder.handler(o,o.read()),s!==zi;)Array.isArray(s)?n.push.apply(n,s):n.push(s);this._encoder=null}return new Uint8Array(n)}};function iO(r){var e=r.fatal,t=0,n=0,o=0,s=128,a=191;this.handler=function(u,f){if(f===vf&&o!==0)return o=0,lm(e);if(f===vf)return zi;if(o===0){if(Kn(f,0,127))return f;if(Kn(f,194,223))o=1,t=f-192;else if(Kn(f,224,239))f===224&&(s=160),f===237&&(a=159),o=2,t=f-224;else if(Kn(f,240,244))f===240&&(s=144),f===244&&(a=143),o=3,t=f-240;else return lm(e);return t=t<<6*o,null}if(!Kn(f,s,a))return t=o=n=0,s=128,a=191,u.prepend(f),lm(e);if(s=128,a=191,n+=1,t+=f-128<<6*(o-n),n!==o)return null;var g=t;return t=o=n=0,g}}function aO(r){var e=r.fatal;this.handler=function(t,n){if(n===vf)return zi;if(Kn(n,0,127))return n;var o,s;Kn(n,128,2047)?(o=1,s=192):Kn(n,2048,65535)?(o=2,s=224):Kn(n,65536,1114111)&&(o=3,s=240);for(var a=[(n>>6*o)+s];o>0;){var u=n>>6*(o-1);a.push(128|u&63),o-=1}return a}}hm.TextEncoder=Rf;hm.TextDecoder=_f});var _2=Ee(Xe=>{"use strict";l();var cO=Xe&&Xe.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),uO=Xe&&Xe.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),En=Xe&&Xe.__decorate||function(r,e,t,n){var o=arguments.length,s=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,n);else for(var u=r.length-1;u>=0;u--)(a=r[u])&&(s=(o<3?a(s):o>3?a(e,t,s):a(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s},pO=Xe&&Xe.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.hasOwnProperty.call(r,t)&&cO(e,r,t);return uO(e,r),e},b2=Xe&&Xe.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.deserializeUnchecked=Xe.deserialize=Xe.serialize=Xe.BinaryReader=Xe.BinaryWriter=Xe.BorshError=Xe.baseDecode=Xe.baseEncode=void 0;var Bo=b2(Nc()),S2=b2(co()),fO=pO(w2()),lO=typeof TextDecoder!="function"?fO.TextDecoder:TextDecoder,dO=new lO("utf-8",{fatal:!0});function hO(r){return typeof r=="string"&&(r=R.from(r,"utf8")),S2.default.encode(R.from(r))}Xe.baseEncode=hO;function yO(r){return R.from(S2.default.decode(r))}Xe.baseDecode=yO;var ym=1024,Qt=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};Xe.BorshError=Qt;var Af=class{constructor(){this.buf=R.alloc(ym),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=R.concat([this.buf,R.alloc(ym)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(R.from(new Bo.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(R.from(new Bo.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(R.from(new Bo.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(R.from(new Bo.default(e).toArray("le",64)))}writeBuffer(e){this.buf=R.concat([R.from(this.buf.subarray(0,this.length)),e,R.alloc(ym)]),this.length+=e.length}writeString(e){this.maybeResize();let t=R.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(R.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),t(n)}toArray(){return this.buf.subarray(0,this.length)}};Xe.BinaryWriter=Af;function _n(r,e,t){let n=t.value;t.value=function(...o){try{return n.apply(this,o)}catch(s){if(s instanceof RangeError){let a=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(a)>=0)throw new Qt("Reached the end of buffer when deserializing")}throw s}}}var mr=class{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new Bo.default(e,"le")}readU128(){let e=this.readBuffer(16);return new Bo.default(e,"le")}readU256(){let e=this.readBuffer(32);return new Bo.default(e,"le")}readU512(){let e=this.readBuffer(64);return new Bo.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Qt(`Expected buffer length ${e} isn't within bounds`);let t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){let e=this.readU32(),t=this.readBuffer(e);try{return dO.decode(t)}catch(n){throw new Qt(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let t=this.readU32(),n=Array();for(let o=0;o<t;++o)n.push(e());return n}};En([_n],mr.prototype,"readU8",null);En([_n],mr.prototype,"readU16",null);En([_n],mr.prototype,"readU32",null);En([_n],mr.prototype,"readU64",null);En([_n],mr.prototype,"readU128",null);En([_n],mr.prototype,"readU256",null);En([_n],mr.prototype,"readU512",null);En([_n],mr.prototype,"readString",null);En([_n],mr.prototype,"readFixedArray",null);En([_n],mr.prototype,"readArray",null);Xe.BinaryReader=mr;function v2(r){return r.charAt(0).toUpperCase()+r.slice(1)}function Ms(r,e,t,n,o){try{if(typeof n=="string")o[`write${v2(n)}`](t);else if(n instanceof Array)if(typeof n[0]=="number"){if(t.length!==n[0])throw new Qt(`Expecting byte array of length ${n[0]}, but got ${t.length} bytes`);o.writeFixedArray(t)}else if(n.length===2&&typeof n[1]=="number"){if(t.length!==n[1])throw new Qt(`Expecting byte array of length ${n[1]}, but got ${t.length} bytes`);for(let s=0;s<n[1];s++)Ms(r,null,t[s],n[0],o)}else o.writeArray(t,s=>{Ms(r,e,s,n[0],o)});else if(n.kind!==void 0)switch(n.kind){case"option":{t==null?o.writeU8(0):(o.writeU8(1),Ms(r,e,t,n.type,o));break}case"map":{o.writeU32(t.size),t.forEach((s,a)=>{Ms(r,e,a,n.key,o),Ms(r,e,s,n.value,o)});break}default:throw new Qt(`FieldType ${n} unrecognized`)}else E2(r,t,o)}catch(s){throw s instanceof Qt&&s.addToFieldPath(e),s}}function E2(r,e,t){if(typeof e.borshSerialize=="function"){e.borshSerialize(t);return}let n=r.get(e.constructor);if(!n)throw new Qt(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([o,s])=>{Ms(r,o,e[o],s,t)});else if(n.kind==="enum"){let o=e[n.field];for(let s=0;s<n.values.length;++s){let[a,u]=n.values[s];if(a===o){t.writeU8(s),Ms(r,a,e[a],u,t);break}}}else throw new Qt(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function mO(r,e,t=Af){let n=new t;return E2(r,e,n),n.toArray()}Xe.serialize=mO;function Ls(r,e,t,n){try{if(typeof t=="string")return n[`read${v2(t)}`]();if(t instanceof Array){if(typeof t[0]=="number")return n.readFixedArray(t[0]);if(typeof t[1]=="number"){let o=[];for(let s=0;s<t[1];s++)o.push(Ls(r,null,t[0],n));return o}else return n.readArray(()=>Ls(r,e,t[0],n))}if(t.kind==="option")return n.readU8()?Ls(r,e,t.type,n):void 0;if(t.kind==="map"){let o=new Map,s=n.readU32();for(let a=0;a<s;a++){let u=Ls(r,e,t.key,n),f=Ls(r,e,t.value,n);o.set(u,f)}return o}return mm(r,t,n)}catch(o){throw o instanceof Qt&&o.addToFieldPath(e),o}}function mm(r,e,t){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(t);let n=r.get(e);if(!n)throw new Qt(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let o={};for(let[s,a]of r.get(e).fields)o[s]=Ls(r,s,a,t);return new e(o)}if(n.kind==="enum"){let o=t.readU8();if(o>=n.values.length)throw new Qt(`Enum index: ${o} is out of range`);let[s,a]=n.values[o],u=Ls(r,s,a,t);return new e({[s]:u})}throw new Qt(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function gO(r,e,t,n=mr){let o=new n(t),s=mm(r,e,o);if(o.offset<t.length)throw new Qt(`Unexpected ${t.length-o.offset} bytes after deserialized data`);return s}Xe.deserialize=gO;function xO(r,e,t,n=mr){let o=new n(t);return mm(r,e,o)}Xe.deserializeUnchecked=xO});var gm=Ee(Mi=>{"use strict";l();Object.defineProperty(Mi,"__esModule",{value:!0});var If;function wO(r){{let e=R.from(r);e.reverse();let t=e.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}return If.toBigInt(r,!1)}Mi.toBigIntLE=wO;function bO(r){{let e=r.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}return If.toBigInt(r,!0)}Mi.toBigIntBE=bO;function SO(r,e){{let t=r.toString(16),n=R.from(t.padStart(e*2,"0").slice(0,e*2),"hex");return n.reverse(),n}return If.fromBigInt(r,R.allocUnsafe(e),!1)}Mi.toBufferLE=SO;function vO(r,e){{let t=r.toString(16);return R.from(t.padStart(e*2,"0").slice(0,e*2),"hex")}return If.fromBigInt(r,R.allocUnsafe(e),!0)}Mi.toBufferBE=vO});var vm=Ee(Sm=>{"use strict";l();Object.defineProperty(Sm,"__esModule",{value:!0});Sm.default=BO;var Pf,IO=new Uint8Array(16);function BO(){if(!Pf&&(Pf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Pf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Pf(IO)}});var B2=Ee(zf=>{"use strict";l();Object.defineProperty(zf,"__esModule",{value:!0});zf.default=void 0;var TO=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;zf.default=TO});var Ha=Ee(Mf=>{"use strict";l();Object.defineProperty(Mf,"__esModule",{value:!0});Mf.default=void 0;var PO=zO(B2());function zO(r){return r&&r.__esModule?r:{default:r}}function MO(r){return typeof r=="string"&&PO.default.test(r)}var LO=MO;Mf.default=LO});var Wa=Ee(Ka=>{"use strict";l();Object.defineProperty(Ka,"__esModule",{value:!0});Ka.default=void 0;Ka.unsafeStringify=T2;var NO=CO(Ha());function CO(r){return r&&r.__esModule?r:{default:r}}var er=[];for(let r=0;r<256;++r)er.push((r+256).toString(16).slice(1));function T2(r,e=0){return er[r[e+0]]+er[r[e+1]]+er[r[e+2]]+er[r[e+3]]+"-"+er[r[e+4]]+er[r[e+5]]+"-"+er[r[e+6]]+er[r[e+7]]+"-"+er[r[e+8]]+er[r[e+9]]+"-"+er[r[e+10]]+er[r[e+11]]+er[r[e+12]]+er[r[e+13]]+er[r[e+14]]+er[r[e+15]]}function OO(r,e=0){let t=T2(r,e);if(!(0,NO.default)(t))throw TypeError("Stringified UUID is invalid");return t}var qO=OO;Ka.default=qO});var z2=Ee(Lf=>{"use strict";l();Object.defineProperty(Lf,"__esModule",{value:!0});Lf.default=void 0;var UO=FO(vm()),DO=Wa();function FO(r){return r&&r.__esModule?r:{default:r}}var P2,Em,_m=0,Rm=0;function jO(r,e,t){let n=e&&t||0,o=e||new Array(16);r=r||{};let s=r.node||P2,a=r.clockseq!==void 0?r.clockseq:Em;if(s==null||a==null){let O=r.random||(r.rng||UO.default)();s==null&&(s=P2=[O[0]|1,O[1],O[2],O[3],O[4],O[5]]),a==null&&(a=Em=(O[6]<<8|O[7])&16383)}let u=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:Rm+1,g=u-_m+(f-Rm)/1e4;if(g<0&&r.clockseq===void 0&&(a=a+1&16383),(g<0||u>_m)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_m=u,Rm=f,Em=a,u+=122192928e5;let b=((u&268435455)*1e4+f)%4294967296;o[n++]=b>>>24&255,o[n++]=b>>>16&255,o[n++]=b>>>8&255,o[n++]=b&255;let S=u/4294967296*1e4&268435455;o[n++]=S>>>8&255,o[n++]=S&255,o[n++]=S>>>24&15|16,o[n++]=S>>>16&255,o[n++]=a>>>8|128,o[n++]=a&255;for(let O=0;O<6;++O)o[n+O]=s[O];return e||(0,DO.unsafeStringify)(o)}var HO=jO;Lf.default=HO});var km=Ee(Nf=>{"use strict";l();Object.defineProperty(Nf,"__esModule",{value:!0});Nf.default=void 0;var KO=WO(Ha());function WO(r){return r&&r.__esModule?r:{default:r}}function VO(r){if(!(0,KO.default)(r))throw TypeError("Invalid UUID");let e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var GO=VO;Nf.default=GO});var Am=Ee(Cs=>{"use strict";l();Object.defineProperty(Cs,"__esModule",{value:!0});Cs.URL=Cs.DNS=void 0;Cs.default=XO;var ZO=Wa(),YO=$O(km());function $O(r){return r&&r.__esModule?r:{default:r}}function JO(r){r=unescape(encodeURIComponent(r));let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}var M2="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Cs.DNS=M2;var L2="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Cs.URL=L2;function XO(r,e,t){function n(o,s,a,u){var f;if(typeof o=="string"&&(o=JO(o)),typeof s=="string"&&(s=(0,YO.default)(s)),((f=s)===null||f===void 0?void 0:f.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let g=new Uint8Array(16+o.length);if(g.set(s),g.set(o,s.length),g=t(g),g[6]=g[6]&15|e,g[8]=g[8]&63|128,a){u=u||0;for(let b=0;b<16;++b)a[u+b]=g[b];return a}return(0,ZO.unsafeStringify)(g)}try{n.name=r}catch{}return n.DNS=M2,n.URL=L2,n}});var C2=Ee(Of=>{"use strict";l();Object.defineProperty(Of,"__esModule",{value:!0});Of.default=void 0;function QO(r){if(typeof r=="string"){let e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(let t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return eq(tq(rq(r),r.length*8))}function eq(r){let e=[],t=r.length*32,n="0123456789abcdef";for(let o=0;o<t;o+=8){let s=r[o>>5]>>>o%32&255,a=parseInt(n.charAt(s>>>4&15)+n.charAt(s&15),16);e.push(a)}return e}function N2(r){return(r+64>>>9<<4)+14+1}function tq(r,e){r[e>>5]|=128<<e%32,r[N2(e)-1]=e;let t=1732584193,n=-271733879,o=-1732584194,s=271733878;for(let a=0;a<r.length;a+=16){let u=t,f=n,g=o,b=s;t=ar(t,n,o,s,r[a],7,-680876936),s=ar(s,t,n,o,r[a+1],12,-389564586),o=ar(o,s,t,n,r[a+2],17,606105819),n=ar(n,o,s,t,r[a+3],22,-1044525330),t=ar(t,n,o,s,r[a+4],7,-176418897),s=ar(s,t,n,o,r[a+5],12,1200080426),o=ar(o,s,t,n,r[a+6],17,-1473231341),n=ar(n,o,s,t,r[a+7],22,-45705983),t=ar(t,n,o,s,r[a+8],7,1770035416),s=ar(s,t,n,o,r[a+9],12,-1958414417),o=ar(o,s,t,n,r[a+10],17,-42063),n=ar(n,o,s,t,r[a+11],22,-1990404162),t=ar(t,n,o,s,r[a+12],7,1804603682),s=ar(s,t,n,o,r[a+13],12,-40341101),o=ar(o,s,t,n,r[a+14],17,-1502002290),n=ar(n,o,s,t,r[a+15],22,1236535329),t=cr(t,n,o,s,r[a+1],5,-165796510),s=cr(s,t,n,o,r[a+6],9,-1069501632),o=cr(o,s,t,n,r[a+11],14,643717713),n=cr(n,o,s,t,r[a],20,-373897302),t=cr(t,n,o,s,r[a+5],5,-701558691),s=cr(s,t,n,o,r[a+10],9,38016083),o=cr(o,s,t,n,r[a+15],14,-660478335),n=cr(n,o,s,t,r[a+4],20,-405537848),t=cr(t,n,o,s,r[a+9],5,568446438),s=cr(s,t,n,o,r[a+14],9,-1019803690),o=cr(o,s,t,n,r[a+3],14,-187363961),n=cr(n,o,s,t,r[a+8],20,1163531501),t=cr(t,n,o,s,r[a+13],5,-1444681467),s=cr(s,t,n,o,r[a+2],9,-51403784),o=cr(o,s,t,n,r[a+7],14,1735328473),n=cr(n,o,s,t,r[a+12],20,-1926607734),t=ur(t,n,o,s,r[a+5],4,-378558),s=ur(s,t,n,o,r[a+8],11,-2022574463),o=ur(o,s,t,n,r[a+11],16,1839030562),n=ur(n,o,s,t,r[a+14],23,-35309556),t=ur(t,n,o,s,r[a+1],4,-1530992060),s=ur(s,t,n,o,r[a+4],11,1272893353),o=ur(o,s,t,n,r[a+7],16,-155497632),n=ur(n,o,s,t,r[a+10],23,-1094730640),t=ur(t,n,o,s,r[a+13],4,681279174),s=ur(s,t,n,o,r[a],11,-358537222),o=ur(o,s,t,n,r[a+3],16,-722521979),n=ur(n,o,s,t,r[a+6],23,76029189),t=ur(t,n,o,s,r[a+9],4,-640364487),s=ur(s,t,n,o,r[a+12],11,-421815835),o=ur(o,s,t,n,r[a+15],16,530742520),n=ur(n,o,s,t,r[a+2],23,-995338651),t=pr(t,n,o,s,r[a],6,-198630844),s=pr(s,t,n,o,r[a+7],10,1126891415),o=pr(o,s,t,n,r[a+14],15,-1416354905),n=pr(n,o,s,t,r[a+5],21,-57434055),t=pr(t,n,o,s,r[a+12],6,1700485571),s=pr(s,t,n,o,r[a+3],10,-1894986606),o=pr(o,s,t,n,r[a+10],15,-1051523),n=pr(n,o,s,t,r[a+1],21,-2054922799),t=pr(t,n,o,s,r[a+8],6,1873313359),s=pr(s,t,n,o,r[a+15],10,-30611744),o=pr(o,s,t,n,r[a+6],15,-1560198380),n=pr(n,o,s,t,r[a+13],21,1309151649),t=pr(t,n,o,s,r[a+4],6,-145523070),s=pr(s,t,n,o,r[a+11],10,-1120210379),o=pr(o,s,t,n,r[a+2],15,718787259),n=pr(n,o,s,t,r[a+9],21,-343485551),t=Po(t,u),n=Po(n,f),o=Po(o,g),s=Po(s,b)}return[t,n,o,s]}function rq(r){if(r.length===0)return[];let e=r.length*8,t=new Uint32Array(N2(e));for(let n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function Po(r,e){let t=(r&65535)+(e&65535);return(r>>16)+(e>>16)+(t>>16)<<16|t&65535}function nq(r,e){return r<<e|r>>>32-e}function Cf(r,e,t,n,o,s){return Po(nq(Po(Po(e,r),Po(n,s)),o),t)}function ar(r,e,t,n,o,s,a){return Cf(e&t|~e&n,r,e,o,s,a)}function cr(r,e,t,n,o,s,a){return Cf(e&n|t&~n,r,e,o,s,a)}function ur(r,e,t,n,o,s,a){return Cf(e^t^n,r,e,o,s,a)}function pr(r,e,t,n,o,s,a){return Cf(t^(e|~n),r,e,o,s,a)}var oq=QO;Of.default=oq});var q2=Ee(qf=>{"use strict";l();Object.defineProperty(qf,"__esModule",{value:!0});qf.default=void 0;var sq=O2(Am()),iq=O2(C2());function O2(r){return r&&r.__esModule?r:{default:r}}var aq=(0,sq.default)("v3",48,iq.default),cq=aq;qf.default=cq});var U2=Ee(Uf=>{"use strict";l();Object.defineProperty(Uf,"__esModule",{value:!0});Uf.default=void 0;var uq=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),pq={randomUUID:uq};Uf.default=pq});var j2=Ee(Df=>{"use strict";l();Object.defineProperty(Df,"__esModule",{value:!0});Df.default=void 0;var D2=F2(U2()),fq=F2(vm()),lq=Wa();function F2(r){return r&&r.__esModule?r:{default:r}}function dq(r,e,t){if(D2.default.randomUUID&&!e&&!r)return D2.default.randomUUID();r=r||{};let n=r.random||(r.rng||fq.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(let o=0;o<16;++o)e[t+o]=n[o];return e}return(0,lq.unsafeStringify)(n)}var hq=dq;Df.default=hq});var H2=Ee(Ff=>{"use strict";l();Object.defineProperty(Ff,"__esModule",{value:!0});Ff.default=void 0;function yq(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function Im(r,e){return r<<e|r>>>32-e}function mq(r){let e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){let a=unescape(encodeURIComponent(r));r=[];for(let u=0;u<a.length;++u)r.push(a.charCodeAt(u))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);let n=r.length/4+2,o=Math.ceil(n/16),s=new Array(o);for(let a=0;a<o;++a){let u=new Uint32Array(16);for(let f=0;f<16;++f)u[f]=r[a*64+f*4]<<24|r[a*64+f*4+1]<<16|r[a*64+f*4+2]<<8|r[a*64+f*4+3];s[a]=u}s[o-1][14]=(r.length-1)*8/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=(r.length-1)*8&4294967295;for(let a=0;a<o;++a){let u=new Uint32Array(80);for(let C=0;C<16;++C)u[C]=s[a][C];for(let C=16;C<80;++C)u[C]=Im(u[C-3]^u[C-8]^u[C-14]^u[C-16],1);let f=t[0],g=t[1],b=t[2],S=t[3],O=t[4];for(let C=0;C<80;++C){let V=Math.floor(C/20),J=Im(f,5)+yq(V,g,b,S)+O+e[V]+u[C]>>>0;O=S,S=b,b=Im(g,30)>>>0,g=f,f=J}t[0]=t[0]+f>>>0,t[1]=t[1]+g>>>0,t[2]=t[2]+b>>>0,t[3]=t[3]+S>>>0,t[4]=t[4]+O>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var gq=mq;Ff.default=gq});var W2=Ee(jf=>{"use strict";l();Object.defineProperty(jf,"__esModule",{value:!0});jf.default=void 0;var xq=K2(Am()),wq=K2(H2());function K2(r){return r&&r.__esModule?r:{default:r}}var bq=(0,xq.default)("v5",80,wq.default),Sq=bq;jf.default=Sq});var V2=Ee(Hf=>{"use strict";l();Object.defineProperty(Hf,"__esModule",{value:!0});Hf.default=void 0;var vq="00000000-0000-0000-0000-000000000000";Hf.default=vq});var G2=Ee(Kf=>{"use strict";l();Object.defineProperty(Kf,"__esModule",{value:!0});Kf.default=void 0;var Eq=_q(Ha());function _q(r){return r&&r.__esModule?r:{default:r}}function Rq(r){if(!(0,Eq.default)(r))throw TypeError("Invalid UUID");return parseInt(r.slice(14,15),16)}var kq=Rq;Kf.default=kq});var Bm=Ee(tn=>{"use strict";l();Object.defineProperty(tn,"__esModule",{value:!0});Object.defineProperty(tn,"NIL",{enumerable:!0,get:function(){return Pq.default}});Object.defineProperty(tn,"parse",{enumerable:!0,get:function(){return Nq.default}});Object.defineProperty(tn,"stringify",{enumerable:!0,get:function(){return Lq.default}});Object.defineProperty(tn,"v1",{enumerable:!0,get:function(){return Aq.default}});Object.defineProperty(tn,"v3",{enumerable:!0,get:function(){return Iq.default}});Object.defineProperty(tn,"v4",{enumerable:!0,get:function(){return Bq.default}});Object.defineProperty(tn,"v5",{enumerable:!0,get:function(){return Tq.default}});Object.defineProperty(tn,"validate",{enumerable:!0,get:function(){return Mq.default}});Object.defineProperty(tn,"version",{enumerable:!0,get:function(){return zq.default}});var Aq=Wn(z2()),Iq=Wn(q2()),Bq=Wn(j2()),Tq=Wn(W2()),Pq=Wn(V2()),zq=Wn(G2()),Mq=Wn(Ha()),Lq=Wn(Wa()),Nq=Wn(km());function Wn(r){return r&&r.__esModule?r:{default:r}}});var Y2=Ee((fte,Z2)=>{"use strict";l();var Cq=Bm().v4,Oq=function(r,e,t,n){if(typeof r!="string")throw new TypeError(r+" must be a string");n=n||{};let o=typeof n.version=="number"?n.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");let s={method:r};if(o===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof t>"u"){let a=typeof n.generator=="function"?n.generator:function(){return Cq()};s.id=a(s,n)}else o===2&&t===null?n.notificationIdNull&&(s.id=null):s.id=t;return s};Z2.exports=Oq});var J2=Ee((dte,$2)=>{"use strict";l();var qq=Bm().v4,Uq=Y2(),Va=function(r,e){if(!(this instanceof Va))return new Va(r,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return qq()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=r};$2.exports=Va;Va.prototype.request=function(r,e,t,n){let o=this,s=null,a=Array.isArray(r)&&typeof e=="function";if(this.options.version===1&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&r&&typeof r=="object"&&typeof e=="function")n=e,s=r;else{typeof t=="function"&&(n=t,t=void 0);let g=typeof n=="function";try{s=Uq(r,e,t,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(b){if(g)return n(b);throw b}if(!g)return s}let f;try{f=JSON.stringify(s,this.options.replacer)}catch(g){return n(g)}return this.callServer(f,function(g,b){o._parseResponse(g,b,n)}),s};Va.prototype._parseResponse=function(r,e,t){if(r){t(r);return}if(!e)return t();let n;try{n=JSON.parse(e,this.options.reviver)}catch(o){return t(o)}if(t.length===3)if(Array.isArray(n)){let o=function(a){return typeof a.error<"u"},s=function(a){return!o(a)};return t(null,n.filter(o),n.filter(s))}else return t(null,n.error,n.result);t(null,n)}});var Tm=Ee((yte,Ga)=>{l();function Dq(r){return r&&r.__esModule?r:{default:r}}Ga.exports=Dq,Ga.exports.__esModule=!0,Ga.exports.default=Ga.exports});var Oi=Ee((gte,Vn)=>{l();function Pm(r){"@babel/helpers - typeof";return Vn.exports=Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vn.exports.__esModule=!0,Vn.exports.default=Vn.exports,Pm(r)}Vn.exports=Pm,Vn.exports.__esModule=!0,Vn.exports.default=Vn.exports});var Q2=Ee((wte,Gn)=>{l();var Fq=Oi().default;function X2(){"use strict";Gn.exports=X2=function(){return r},Gn.exports.__esModule=!0,Gn.exports.default=Gn.exports;var r={},e=Object.prototype,t=e.hasOwnProperty,n=Object.defineProperty||function(z,m,c){z[m]=c.value},o=typeof Symbol=="function"?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function f(z,m,c){return Object.defineProperty(z,m,{value:c,enumerable:!0,configurable:!0,writable:!0}),z[m]}try{f({},"")}catch{f=function(c,p,h){return c[p]=h}}function g(z,m,c,p){var h=m&&m.prototype instanceof O?m:O,y=Object.create(h.prototype),x=new P(p||[]);return n(y,"_invoke",{value:Oe(z,c,x)}),y}function b(z,m,c){try{return{type:"normal",arg:z.call(m,c)}}catch(p){return{type:"throw",arg:p}}}r.wrap=g;var S={};function O(){}function C(){}function V(){}var J={};f(J,s,function(){return this});var $=Object.getPrototypeOf,pe=$&&$($(N([])));pe&&pe!==e&&t.call(pe,s)&&(J=pe);var W=V.prototype=O.prototype=Object.create(J);function we(z){["next","throw","return"].forEach(function(m){f(z,m,function(c){return this._invoke(m,c)})})}function Pe(z,m){function c(h,y,x,E){var M=b(z[h],z,y);if(M.type!=="throw"){var v=M.arg,d=v.value;return d&&Fq(d)=="object"&&t.call(d,"__await")?m.resolve(d.__await).then(function(T){c("next",T,x,E)},function(T){c("throw",T,x,E)}):m.resolve(d).then(function(T){v.value=T,x(v)},function(T){return c("throw",T,x,E)})}E(M.arg)}var p;n(this,"_invoke",{value:function(y,x){function E(){return new m(function(M,v){c(y,x,M,v)})}return p=p?p.then(E,E):E()}})}function Oe(z,m,c){var p="suspendedStart";return function(h,y){if(p==="executing")throw new Error("Generator is already running");if(p==="completed"){if(h==="throw")throw y;return D()}for(c.method=h,c.arg=y;;){var x=c.delegate;if(x){var E=Ae(x,c);if(E){if(E===S)continue;return E}}if(c.method==="next")c.sent=c._sent=c.arg;else if(c.method==="throw"){if(p==="suspendedStart")throw p="completed",c.arg;c.dispatchException(c.arg)}else c.method==="return"&&c.abrupt("return",c.arg);p="executing";var M=b(z,m,c);if(M.type==="normal"){if(p=c.done?"completed":"suspendedYield",M.arg===S)continue;return{value:M.arg,done:c.done}}M.type==="throw"&&(p="completed",c.method="throw",c.arg=M.arg)}}}function Ae(z,m){var c=m.method,p=z.iterator[c];if(p===void 0)return m.delegate=null,c==="throw"&&z.iterator.return&&(m.method="return",m.arg=void 0,Ae(z,m),m.method==="throw")||c!=="return"&&(m.method="throw",m.arg=new TypeError("The iterator does not provide a '"+c+"' method")),S;var h=b(p,z.iterator,m.arg);if(h.type==="throw")return m.method="throw",m.arg=h.arg,m.delegate=null,S;var y=h.arg;return y?y.done?(m[z.resultName]=y.value,m.next=z.nextLoc,m.method!=="return"&&(m.method="next",m.arg=void 0),m.delegate=null,S):y:(m.method="throw",m.arg=new TypeError("iterator result is not an object"),m.delegate=null,S)}function He(z){var m={tryLoc:z[0]};1 in z&&(m.catchLoc=z[1]),2 in z&&(m.finallyLoc=z[2],m.afterLoc=z[3]),this.tryEntries.push(m)}function _(z){var m=z.completion||{};m.type="normal",delete m.arg,z.completion=m}function P(z){this.tryEntries=[{tryLoc:"root"}],z.forEach(He,this),this.reset(!0)}function N(z){if(z){var m=z[s];if(m)return m.call(z);if(typeof z.next=="function")return z;if(!isNaN(z.length)){var c=-1,p=function h(){for(;++c<z.length;)if(t.call(z,c))return h.value=z[c],h.done=!1,h;return h.value=void 0,h.done=!0,h};return p.next=p}}return{next:D}}function D(){return{value:void 0,done:!0}}return C.prototype=V,n(W,"constructor",{value:V,configurable:!0}),n(V,"constructor",{value:C,configurable:!0}),C.displayName=f(V,u,"GeneratorFunction"),r.isGeneratorFunction=function(z){var m=typeof z=="function"&&z.constructor;return!!m&&(m===C||(m.displayName||m.name)==="GeneratorFunction")},r.mark=function(z){return Object.setPrototypeOf?Object.setPrototypeOf(z,V):(z.__proto__=V,f(z,u,"GeneratorFunction")),z.prototype=Object.create(W),z},r.awrap=function(z){return{__await:z}},we(Pe.prototype),f(Pe.prototype,a,function(){return this}),r.AsyncIterator=Pe,r.async=function(z,m,c,p,h){h===void 0&&(h=Promise);var y=new Pe(g(z,m,c,p),h);return r.isGeneratorFunction(m)?y:y.next().then(function(x){return x.done?x.value:y.next()})},we(W),f(W,u,"Generator"),f(W,s,function(){return this}),f(W,"toString",function(){return"[object Generator]"}),r.keys=function(z){var m=Object(z),c=[];for(var p in m)c.push(p);return c.reverse(),function h(){for(;c.length;){var y=c.pop();if(y in m)return h.value=y,h.done=!1,h}return h.done=!0,h}},r.values=N,P.prototype={constructor:P,reset:function(m){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!m)for(var c in this)c.charAt(0)==="t"&&t.call(this,c)&&!isNaN(+c.slice(1))&&(this[c]=void 0)},stop:function(){this.done=!0;var m=this.tryEntries[0].completion;if(m.type==="throw")throw m.arg;return this.rval},dispatchException:function(m){if(this.done)throw m;var c=this;function p(v,d){return x.type="throw",x.arg=m,c.next=v,d&&(c.method="next",c.arg=void 0),!!d}for(var h=this.tryEntries.length-1;h>=0;--h){var y=this.tryEntries[h],x=y.completion;if(y.tryLoc==="root")return p("end");if(y.tryLoc<=this.prev){var E=t.call(y,"catchLoc"),M=t.call(y,"finallyLoc");if(E&&M){if(this.prev<y.catchLoc)return p(y.catchLoc,!0);if(this.prev<y.finallyLoc)return p(y.finallyLoc)}else if(E){if(this.prev<y.catchLoc)return p(y.catchLoc,!0)}else{if(!M)throw new Error("try statement without catch or finally");if(this.prev<y.finallyLoc)return p(y.finallyLoc)}}}},abrupt:function(m,c){for(var p=this.tryEntries.length-1;p>=0;--p){var h=this.tryEntries[p];if(h.tryLoc<=this.prev&&t.call(h,"finallyLoc")&&this.prev<h.finallyLoc){var y=h;break}}y&&(m==="break"||m==="continue")&&y.tryLoc<=c&&c<=y.finallyLoc&&(y=null);var x=y?y.completion:{};return x.type=m,x.arg=c,y?(this.method="next",this.next=y.finallyLoc,S):this.complete(x)},complete:function(m,c){if(m.type==="throw")throw m.arg;return m.type==="break"||m.type==="continue"?this.next=m.arg:m.type==="return"?(this.rval=this.arg=m.arg,this.method="return",this.next="end"):m.type==="normal"&&c&&(this.next=c),S},finish:function(m){for(var c=this.tryEntries.length-1;c>=0;--c){var p=this.tryEntries[c];if(p.finallyLoc===m)return this.complete(p.completion,p.afterLoc),_(p),S}},catch:function(m){for(var c=this.tryEntries.length-1;c>=0;--c){var p=this.tryEntries[c];if(p.tryLoc===m){var h=p.completion;if(h.type==="throw"){var y=h.arg;_(p)}return y}}throw new Error("illegal catch attempt")},delegateYield:function(m,c,p){return this.delegate={iterator:N(m),resultName:c,nextLoc:p},this.method==="next"&&(this.arg=void 0),S}},r}Gn.exports=X2,Gn.exports.__esModule=!0,Gn.exports.default=Gn.exports});var tB=Ee((Ste,eB)=>{l();var Wf=Q2()();eB.exports=Wf;try{regeneratorRuntime=Wf}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=Wf:Function("r","regeneratorRuntime = r")(Wf)}});var nB=Ee((Ete,Za)=>{l();function rB(r,e,t,n,o,s,a){try{var u=r[s](a),f=u.value}catch(g){t(g);return}u.done?e(f):Promise.resolve(f).then(n,o)}function jq(r){return function(){var e=this,t=arguments;return new Promise(function(n,o){var s=r.apply(e,t);function a(f){rB(s,n,o,a,u,"next",f)}function u(f){rB(s,n,o,a,u,"throw",f)}a(void 0)})}}Za.exports=jq,Za.exports.__esModule=!0,Za.exports.default=Za.exports});var zm=Ee((Rte,Ya)=>{l();function Hq(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}Ya.exports=Hq,Ya.exports.__esModule=!0,Ya.exports.default=Ya.exports});var sB=Ee((Ate,$a)=>{l();var oB=Oi().default;function Kq(r,e){if(oB(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(oB(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}$a.exports=Kq,$a.exports.__esModule=!0,$a.exports.default=$a.exports});var iB=Ee((Bte,Ja)=>{l();var Wq=Oi().default,Vq=sB();function Gq(r){var e=Vq(r,"string");return Wq(e)==="symbol"?e:String(e)}Ja.exports=Gq,Ja.exports.__esModule=!0,Ja.exports.default=Ja.exports});var Mm=Ee((Pte,Xa)=>{l();var Zq=iB();function aB(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,Zq(n.key),n)}}function Yq(r,e,t){return e&&aB(r.prototype,e),t&&aB(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}Xa.exports=Yq,Xa.exports.__esModule=!0,Xa.exports.default=Xa.exports});var cB=Ee((Mte,Zn)=>{l();function Lm(r,e){return Zn.exports=Lm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Zn.exports.__esModule=!0,Zn.exports.default=Zn.exports,Lm(r,e)}Zn.exports=Lm,Zn.exports.__esModule=!0,Zn.exports.default=Zn.exports});var Nm=Ee((Nte,Qa)=>{l();var $q=cB();function Jq(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&$q(r,e)}Qa.exports=Jq,Qa.exports.__esModule=!0,Qa.exports.default=Qa.exports});var uB=Ee((Ote,ec)=>{l();function Xq(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}ec.exports=Xq,ec.exports.__esModule=!0,ec.exports.default=ec.exports});var Cm=Ee((Ute,tc)=>{l();var Qq=Oi().default,e5=uB();function t5(r,e){if(e&&(Qq(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e5(r)}tc.exports=t5,tc.exports.__esModule=!0,tc.exports.default=tc.exports});var qm=Ee((Fte,Yn)=>{l();function Om(r){return Yn.exports=Om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yn.exports.__esModule=!0,Yn.exports.default=Yn.exports,Om(r)}Yn.exports=Om,Yn.exports.__esModule=!0,Yn.exports.default=Yn.exports});var fB=Ee(Gf=>{"use strict";l();var Mo=Tm();Object.defineProperty(Gf,"__esModule",{value:!0});Gf.default=void 0;var zo=Mo(tB()),Vf=Mo(nB()),r5=Mo(Oi()),n5=Mo(zm()),o5=Mo(Mm()),s5=Mo(Nm()),i5=Mo(Cm()),pB=Mo(qm()),a5=lo();function c5(r){var e=u5();return function(){var n=(0,pB.default)(r),o;if(e){var s=(0,pB.default)(this).constructor;o=Reflect.construct(n,arguments,s)}else o=n.apply(this,arguments);return(0,i5.default)(this,o)}}function u5(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var p5=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(r);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(r,n[o])&&(t[n[o]]=r[n[o]]);return t},f5=function(r){(0,s5.default)(t,r);var e=c5(t);function t(n){var o,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;(0,n5.default)(this,t);var f=a.autoconnect,g=f===void 0?!0:f,b=a.reconnect,S=b===void 0?!0:b,O=a.reconnect_interval,C=O===void 0?1e3:O,V=a.max_reconnects,J=V===void 0?5:V,$=p5(a,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return o=e.call(this),o.webSocketFactory=n,o.queue={},o.rpc_id=0,o.address=s,o.autoconnect=g,o.ready=!1,o.reconnect=S,o.reconnect_timer_id=void 0,o.reconnect_interval=C,o.max_reconnects=J,o.rest_options=$,o.current_reconnects=0,o.generate_request_id=u||function(){return++o.rpc_id},o.autoconnect&&o._connect(o.address,Object.assign({autoconnect:o.autoconnect,reconnect:o.reconnect,reconnect_interval:o.reconnect_interval,max_reconnects:o.max_reconnects},o.rest_options)),o}return(0,o5.default)(t,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(o,s,a,u){var f=this;return!u&&(0,r5.default)(a)==="object"&&(u=a,a=null),new Promise(function(g,b){if(!f.ready)return b(new Error("socket not ready"));var S=f.generate_request_id(o,s),O={jsonrpc:"2.0",method:o,params:s||null,id:S};f.socket.send(JSON.stringify(O),u,function(C){if(C)return b(C);f.queue[S]={promise:[g,b]},a&&(f.queue[S].timeout=setTimeout(function(){delete f.queue[S],b(new Error("reply timeout"))},a))})})}},{key:"login",value:function(){var n=(0,Vf.default)(zo.default.mark(function s(a){var u;return zo.default.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,this.call("rpc.login",a);case 2:if(u=g.sent,u){g.next=5;break}throw new Error("authentication failed");case 5:return g.abrupt("return",u);case 6:case"end":return g.stop()}},s,this)}));function o(s){return n.apply(this,arguments)}return o}()},{key:"listMethods",value:function(){var n=(0,Vf.default)(zo.default.mark(function s(){return zo.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.call("__listMethods");case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},s,this)}));function o(){return n.apply(this,arguments)}return o}()},{key:"notify",value:function(o,s){var a=this;return new Promise(function(u,f){if(!a.ready)return f(new Error("socket not ready"));var g={jsonrpc:"2.0",method:o,params:s||null};a.socket.send(JSON.stringify(g),function(b){if(b)return f(b);u()})})}},{key:"subscribe",value:function(){var n=(0,Vf.default)(zo.default.mark(function s(a){var u;return zo.default.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return typeof a=="string"&&(a=[a]),g.next=3,this.call("rpc.on",a);case 3:if(u=g.sent,!(typeof a=="string"&&u[a]!=="ok")){g.next=6;break}throw new Error("Failed subscribing to an event '"+a+"' with: "+u[a]);case 6:return g.abrupt("return",u);case 7:case"end":return g.stop()}},s,this)}));function o(s){return n.apply(this,arguments)}return o}()},{key:"unsubscribe",value:function(){var n=(0,Vf.default)(zo.default.mark(function s(a){var u;return zo.default.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return typeof a=="string"&&(a=[a]),g.next=3,this.call("rpc.off",a);case 3:if(u=g.sent,!(typeof a=="string"&&u[a]!=="ok")){g.next=6;break}throw new Error("Failed unsubscribing from an event with: "+u);case 6:return g.abrupt("return",u);case 7:case"end":return g.stop()}},s,this)}));function o(s){return n.apply(this,arguments)}return o}()},{key:"close",value:function(o,s){this.socket.close(o||1e3,s)}},{key:"_connect",value:function(o,s){var a=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(o,s),this.socket.addEventListener("open",function(){a.ready=!0,a.emit("open"),a.current_reconnects=0}),this.socket.addEventListener("message",function(u){var f=u.data;f instanceof ArrayBuffer&&(f=R.from(f).toString());try{f=JSON.parse(f)}catch{return}if(f.notification&&a.listeners(f.notification).length){if(!Object.keys(f.params).length)return a.emit(f.notification);var g=[f.notification];if(f.params.constructor===Object)g.push(f.params);else for(var b=0;b<f.params.length;b++)g.push(f.params[b]);return Promise.resolve().then(function(){a.emit.apply(a,g)})}if(!a.queue[f.id])return f.method&&f.params?Promise.resolve().then(function(){a.emit(f.method,f.params)}):void 0;"error"in f=="result"in f&&a.queue[f.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),a.queue[f.id].timeout&&clearTimeout(a.queue[f.id].timeout),f.error?a.queue[f.id].promise[1](f.error):a.queue[f.id].promise[0](f.result),delete a.queue[f.id]}),this.socket.addEventListener("error",function(u){return a.emit("error",u)}),this.socket.addEventListener("close",function(u){var f=u.code,g=u.reason;a.ready&&setTimeout(function(){return a.emit("close",f,g)},0),a.ready=!1,a.socket=void 0,f!==1e3&&(a.current_reconnects++,a.reconnect&&(a.max_reconnects>a.current_reconnects||a.max_reconnects===0)&&(a.reconnect_timer_id=setTimeout(function(){return a._connect(o,s)},a.reconnect_interval)))})}}]),t}(a5.EventEmitter);Gf.default=f5});var dB=Ee(Um=>{"use strict";l();var rc=Tm();Object.defineProperty(Um,"__esModule",{value:!0});Um.default=b5;var l5=rc(zm()),d5=rc(Mm()),h5=rc(Nm()),y5=rc(Cm()),lB=rc(qm()),m5=lo();function g5(r){var e=x5();return function(){var n=(0,lB.default)(r),o;if(e){var s=(0,lB.default)(this).constructor;o=Reflect.construct(n,arguments,s)}else o=n.apply(this,arguments);return(0,y5.default)(this,o)}}function x5(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var w5=function(r){(0,h5.default)(t,r);var e=g5(t);function t(n,o,s){var a;return(0,l5.default)(this,t),a=e.call(this),a.socket=new self.WebSocket(n,s),a.socket.onopen=function(){return a.emit("open")},a.socket.onmessage=function(u){return a.emit("message",u.data)},a.socket.onerror=function(u){return a.emit("error",u)},a.socket.onclose=function(u){a.emit("close",u.code,u.reason)},a}return(0,d5.default)(t,[{key:"send",value:function(o,s,a){var u=a||s;try{this.socket.send(o),u()}catch(f){u(f)}}},{key:"close",value:function(o,s){this.socket.close(o,s)}},{key:"addEventListener",value:function(o,s,a){this.socket.addEventListener(o,s,a)}}]),t}(m5.EventEmitter);function b5(r,e){return new w5(r,e)}});l();l();l();l();var Qs,ei,ti,ri,ea,ta,bd=class bd{constructor({address:e,publicKey:t,label:n,icon:o,chains:s,features:a}){se(this,Qs);se(this,ei);se(this,ti);se(this,ri);se(this,ea);se(this,ta);new.target===bd&&Object.freeze(this),Me(this,Qs,e),Me(this,ei,t),Me(this,ti,s),Me(this,ri,a),Me(this,ea,n),Me(this,ta,o)}get address(){return q(this,Qs)}get publicKey(){return q(this,ei).slice()}get chains(){return q(this,ti).slice()}get features(){return q(this,ri).slice()}get label(){return q(this,ea)}get icon(){return q(this,ta)}equals(e){return q(this,Qs)===e.address&&aP(q(this,ei),e.publicKey)&&Q0(q(this,ti),e.chains)&&Q0(q(this,ri),e.features)}};Qs=new WeakMap,ei=new WeakMap,ti=new WeakMap,ri=new WeakMap,ea=new WeakMap,ta=new WeakMap;var fn=bd;function aP(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function Q0(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}l();var us="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTA4IiBoZWlnaHQ9IjEwOCIgdmlld0JveD0iMCAwIDEwOCAxMDgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPgo=";l();function na(r){let e=({register:t})=>t(r);try{window.dispatchEvent(new Sd(e))}catch(t){console.error(`wallet-standard:register-wallet event could not be dispatched
`,t)}try{window.addEventListener("wallet-standard:app-ready",({detail:t})=>e(t))}catch(t){console.error(`wallet-standard:app-ready event listener could not be added
`,t)}}var ra,Sd=class extends Event{constructor(t){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1});se(this,ra);Me(this,ra,t)}get detail(){return q(this,ra)}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}};ra=new WeakMap;l();var eg="solana:mainnet",tg="solana:devnet",rg="solana:testnet",ng="solana:localnet",oa=[eg,tg,rg,ng];function vd(r){return oa.includes(r)}l();var og="bitcoin:mainnet",sg="bitcoin:testnet",ig="bitcoin:regtest",sa=[og,sg,ig];l();function Ed(r,e){return ag(r,e)}function ag(r,e){if(r===e)return!0;let t=r.length;if(t!==e.length)return!1;for(let n=0;n<t;n++)if(r[n]!==e[n])return!1;return!0}l();var cg="sui:mainnet",cP="sui:testnet",_d=[cg,cP];l();l();l();var Jd={};F(Jd,{error:()=>Ex,method:()=>bx,params:()=>Sx,request:()=>e3,response:()=>t3,result:()=>vx});l();l();var Ke;(function(r){r.assertEqual=o=>o;function e(o){}r.assertIs=e;function t(o){throw new Error}r.assertNever=t,r.arrayToEnum=o=>{let s={};for(let a of o)s[a]=a;return s},r.getValidEnumValues=o=>{let s=r.objectKeys(o).filter(u=>typeof o[o[u]]!="number"),a={};for(let u of s)a[u]=o[u];return r.objectValues(a)},r.objectValues=o=>r.objectKeys(o).map(function(s){return o[s]}),r.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{let s=[];for(let a in o)Object.prototype.hasOwnProperty.call(o,a)&&s.push(a);return s},r.find=(o,s)=>{for(let a of o)if(s(a))return a},r.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function n(o,s=" | "){return o.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}r.joinValues=n,r.jsonStringifyReplacer=(o,s)=>typeof s=="bigint"?s.toString():s})(Ke||(Ke={}));var kd;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(kd||(kd={}));var le=Ke.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),oo=r=>{switch(typeof r){case"undefined":return le.undefined;case"string":return le.string;case"number":return isNaN(r)?le.nan:le.number;case"boolean":return le.boolean;case"function":return le.function;case"bigint":return le.bigint;case"symbol":return le.symbol;case"object":return Array.isArray(r)?le.array:r===null?le.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?le.promise:typeof Map<"u"&&r instanceof Map?le.map:typeof Set<"u"&&r instanceof Set?le.set:typeof Date<"u"&&r instanceof Date?le.date:le.object;default:return le.unknown}},te=Ke.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),uP=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:"),jt=class r extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(s){return s.message},n={_errors:[]},o=s=>{for(let a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(o);else if(a.code==="invalid_return_type")o(a.returnTypeError);else if(a.code==="invalid_arguments")o(a.argumentsError);else if(a.path.length===0)n._errors.push(t(a));else{let u=n,f=0;for(;f<a.path.length;){let g=a.path[f];f===a.path.length-1?(u[g]=u[g]||{_errors:[]},u[g]._errors.push(t(a))):u[g]=u[g]||{_errors:[]},u=u[g],f++}}};return o(this),n}static assert(e){if(!(e instanceof r))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ke.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){let t={},n=[];for(let o of this.issues)o.path.length>0?(t[o.path[0]]=t[o.path[0]]||[],t[o.path[0]].push(e(o))):n.push(e(o));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}};jt.create=r=>new jt(r);var si=(r,e)=>{let t;switch(r.code){case te.invalid_type:r.received===le.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case te.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,Ke.jsonStringifyReplacer)}`;break;case te.unrecognized_keys:t=`Unrecognized key(s) in object: ${Ke.joinValues(r.keys,", ")}`;break;case te.invalid_union:t="Invalid input";break;case te.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Ke.joinValues(r.options)}`;break;case te.invalid_enum_value:t=`Invalid enum value. Expected ${Ke.joinValues(r.options)}, received '${r.received}'`;break;case te.invalid_arguments:t="Invalid function arguments";break;case te.invalid_return_type:t="Invalid function return type";break;case te.invalid_date:t="Invalid date";break;case te.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:Ke.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case te.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case te.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case te.custom:t="Invalid input";break;case te.invalid_intersection_types:t="Intersection results could not be merged";break;case te.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case te.not_finite:t="Number must be finite";break;default:t=e.defaultError,Ke.assertNever(r)}return{message:t}},fg=si;function pP(r){fg=r}function kc(){return fg}var Ac=r=>{let{data:e,path:t,errorMaps:n,issueData:o}=r,s=[...t,...o.path||[]],a={...o,path:s};if(o.message!==void 0)return{...o,path:s,message:o.message};let u="",f=n.filter(g=>!!g).slice().reverse();for(let g of f)u=g(a,{data:e,defaultError:u}).message;return{...o,path:s,message:u}},fP=[];function fe(r,e){let t=kc(),n=Ac({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,t,t===si?void 0:si].filter(o=>!!o)});r.common.issues.push(n)}var rr=class r{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let n=[];for(let o of t){if(o.status==="aborted")return Ie;o.status==="dirty"&&e.dirty(),n.push(o.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){let n=[];for(let o of t){let s=await o.key,a=await o.value;n.push({key:s,value:a})}return r.mergeObjectSync(e,n)}static mergeObjectSync(e,t){let n={};for(let o of t){let{key:s,value:a}=o;if(s.status==="aborted"||a.status==="aborted")return Ie;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||o.alwaysSet)&&(n[s.value]=a.value)}return{status:e.value,value:n}}},Ie=Object.freeze({status:"aborted"}),oi=r=>({status:"dirty",value:r}),hr=r=>({status:"valid",value:r}),Ad=r=>r.status==="aborted",Id=r=>r.status==="dirty",ca=r=>r.status==="valid",ua=r=>typeof Promise<"u"&&r instanceof Promise;function Ic(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)}function lg(r,e,t,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!o:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(r,t):o?o.value=t:e.set(r,t),t}var Se;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Se||(Se={}));var ia,aa,Nr=class{constructor(e,t,n,o){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},ug=(r,e)=>{if(ca(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new jt(r.common.issues);return this._error=t,this._error}}};function Ne(r){if(!r)return{};let{errorMap:e,invalid_type_error:t,required_error:n,description:o}=r;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(a,u)=>{var f,g;let{message:b}=r;return a.code==="invalid_enum_value"?{message:b!=null?b:u.defaultError}:typeof u.data>"u"?{message:(f=b!=null?b:n)!==null&&f!==void 0?f:u.defaultError}:a.code!=="invalid_type"?{message:u.defaultError}:{message:(g=b!=null?b:t)!==null&&g!==void 0?g:u.defaultError}},description:o}}var Ce=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return oo(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:oo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new rr,ctx:{common:e.parent.common,data:e.data,parsedType:oo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(ua(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;let o={common:{issues:[],async:(n=t==null?void 0:t.async)!==null&&n!==void 0?n:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:oo(e)},s=this._parseSync({data:e,path:o.path,parent:o});return ug(o,s)}async parseAsync(e,t){let n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){let n={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:oo(e)},o=this._parse({data:e,path:n.path,parent:n}),s=await(ua(o)?o:Promise.resolve(o));return ug(n,s)}refine(e,t){let n=o=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(o):t;return this._refinement((o,s)=>{let a=e(o),u=()=>s.addIssue({code:te.custom,...n(o)});return typeof Promise<"u"&&a instanceof Promise?a.then(f=>f?!0:(u(),!1)):a?!0:(u(),!1)})}refinement(e,t){return this._refinement((n,o)=>e(n)?!0:(o.addIssue(typeof t=="function"?t(n,o):t),!1))}_refinement(e){return new kr({schema:this,typeName:ke.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Lr.create(this,this._def)}nullable(){return dn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Mn.create(this,this._def)}promise(){return ao.create(this,this._def)}or(e){return ms.create([this,e],this._def)}and(e){return gs.create(this,e,this._def)}transform(e){return new kr({...Ne(this._def),schema:this,typeName:ke.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t=typeof e=="function"?e:()=>e;return new vs({...Ne(this._def),innerType:this,defaultValue:t,typeName:ke.ZodDefault})}brand(){return new pa({typeName:ke.ZodBranded,type:this,...Ne(this._def)})}catch(e){let t=typeof e=="function"?e:()=>e;return new Es({...Ne(this._def),innerType:this,catchValue:t,typeName:ke.ZodCatch})}describe(e){let t=this.constructor;return new t({...this._def,description:e})}pipe(e){return fa.create(this,e)}readonly(){return _s.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},lP=/^c[^\s-]{8,}$/i,dP=/^[0-9a-z]+$/,hP=/^[0-9A-HJKMNP-TV-Z]{26}$/,yP=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,mP=/^[a-z0-9_-]{21}$/i,gP=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,xP=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,wP="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Rd,bP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,SP=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,vP=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dg="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",EP=new RegExp(`^${dg}$`);function hg(r){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`),e}function _P(r){return new RegExp(`^${hg(r)}$`)}function yg(r){let e=`${dg}T${hg(r)}`,t=[];return t.push(r.local?"Z?":"Z"),r.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function RP(r,e){return!!((e==="v4"||!e)&&bP.test(r)||(e==="v6"||!e)&&SP.test(r))}var so=class r extends Ce{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==le.string){let s=this._getOrReturnCtx(e);return fe(s,{code:te.invalid_type,expected:le.string,received:s.parsedType}),Ie}let n=new rr,o;for(let s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(o=this._getOrReturnCtx(e,o),fe(o,{code:te.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(o=this._getOrReturnCtx(e,o),fe(o,{code:te.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){let a=e.data.length>s.value,u=e.data.length<s.value;(a||u)&&(o=this._getOrReturnCtx(e,o),a?fe(o,{code:te.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):u&&fe(o,{code:te.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")xP.test(e.data)||(o=this._getOrReturnCtx(e,o),fe(o,{validation:"email",code:te.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")Rd||(Rd=new RegExp(wP,"u")),Rd.test(e.data)||(o=this._getOrReturnCtx(e,o),fe(o,{validation:"emoji",code:te.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")yP.test(e.data)||(o=this._getOrReturnCtx(e,o),fe(o,{validation:"uuid",code:te.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")mP.test(e.data)||(o=this._getOrReturnCtx(e,o),fe(o,{validation:"nanoid",code:te.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")lP.test(e.data)||(o=this._getOrReturnCtx(e,o),fe(o,{validation:"cuid",code:te.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")dP.test(e.data)||(o=this._getOrReturnCtx(e,o),fe(o,{validation:"cuid2",code:te.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")hP.test(e.data)||(o=this._getOrReturnCtx(e,o),fe(o,{validation:"ulid",code:te.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),fe(o,{validation:"url",code:te.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),fe(o,{validation:"regex",code:te.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(o=this._getOrReturnCtx(e,o),fe(o,{code:te.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(o=this._getOrReturnCtx(e,o),fe(o,{code:te.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(o=this._getOrReturnCtx(e,o),fe(o,{code:te.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?yg(s).test(e.data)||(o=this._getOrReturnCtx(e,o),fe(o,{code:te.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?EP.test(e.data)||(o=this._getOrReturnCtx(e,o),fe(o,{code:te.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?_P(s).test(e.data)||(o=this._getOrReturnCtx(e,o),fe(o,{code:te.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?gP.test(e.data)||(o=this._getOrReturnCtx(e,o),fe(o,{validation:"duration",code:te.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?RP(e.data,s.version)||(o=this._getOrReturnCtx(e,o),fe(o,{validation:"ip",code:te.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?vP.test(e.data)||(o=this._getOrReturnCtx(e,o),fe(o,{validation:"base64",code:te.invalid_string,message:s.message}),n.dirty()):Ke.assertNever(s);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(o=>e.test(o),{validation:t,code:te.invalid_string,...Se.errToObj(n)})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Se.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Se.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Se.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Se.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Se.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Se.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Se.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Se.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Se.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Se.errToObj(e)})}datetime(e){var t,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...Se.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Se.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Se.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Se.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...Se.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Se.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Se.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Se.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Se.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Se.errToObj(t)})}nonempty(e){return this.min(1,Se.errToObj(e))}trim(){return new r({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new r({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new r({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};so.create=r=>{var e;return new so({checks:[],typeName:ke.ZodString,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1,...Ne(r)})};function kP(r,e){let t=(r.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,o=t>n?t:n,s=parseInt(r.toFixed(o).replace(".","")),a=parseInt(e.toFixed(o).replace(".",""));return s%a/Math.pow(10,o)}var ps=class r extends Ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==le.number){let s=this._getOrReturnCtx(e);return fe(s,{code:te.invalid_type,expected:le.number,received:s.parsedType}),Ie}let n,o=new rr;for(let s of this._def.checks)s.kind==="int"?Ke.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),fe(n,{code:te.invalid_type,expected:"integer",received:"float",message:s.message}),o.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),fe(n,{code:te.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),fe(n,{code:te.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="multipleOf"?kP(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),fe(n,{code:te.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),fe(n,{code:te.not_finite,message:s.message}),o.dirty()):Ke.assertNever(s);return{status:o.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Se.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Se.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Se.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Se.toString(t))}setLimit(e,t,n,o){return new r({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Se.toString(o)}]})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Se.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Se.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Se.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Se.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Se.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Se.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ke.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}};ps.create=r=>new ps({checks:[],typeName:ke.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...Ne(r)});var fs=class r extends Ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==le.bigint){let s=this._getOrReturnCtx(e);return fe(s,{code:te.invalid_type,expected:le.bigint,received:s.parsedType}),Ie}let n,o=new rr;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),fe(n,{code:te.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),fe(n,{code:te.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),fe(n,{code:te.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):Ke.assertNever(s);return{status:o.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Se.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Se.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Se.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Se.toString(t))}setLimit(e,t,n,o){return new r({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Se.toString(o)}]})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Se.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Se.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};fs.create=r=>{var e;return new fs({checks:[],typeName:ke.ZodBigInt,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1,...Ne(r)})};var ls=class extends Ce{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==le.boolean){let n=this._getOrReturnCtx(e);return fe(n,{code:te.invalid_type,expected:le.boolean,received:n.parsedType}),Ie}return hr(e.data)}};ls.create=r=>new ls({typeName:ke.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...Ne(r)});var ds=class r extends Ce{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==le.date){let s=this._getOrReturnCtx(e);return fe(s,{code:te.invalid_type,expected:le.date,received:s.parsedType}),Ie}if(isNaN(e.data.getTime())){let s=this._getOrReturnCtx(e);return fe(s,{code:te.invalid_date}),Ie}let n=new rr,o;for(let s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(o=this._getOrReturnCtx(e,o),fe(o,{code:te.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(o=this._getOrReturnCtx(e,o),fe(o,{code:te.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):Ke.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Se.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Se.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}};ds.create=r=>new ds({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:ke.ZodDate,...Ne(r)});var ii=class extends Ce{_parse(e){if(this._getType(e)!==le.symbol){let n=this._getOrReturnCtx(e);return fe(n,{code:te.invalid_type,expected:le.symbol,received:n.parsedType}),Ie}return hr(e.data)}};ii.create=r=>new ii({typeName:ke.ZodSymbol,...Ne(r)});var hs=class extends Ce{_parse(e){if(this._getType(e)!==le.undefined){let n=this._getOrReturnCtx(e);return fe(n,{code:te.invalid_type,expected:le.undefined,received:n.parsedType}),Ie}return hr(e.data)}};hs.create=r=>new hs({typeName:ke.ZodUndefined,...Ne(r)});var ys=class extends Ce{_parse(e){if(this._getType(e)!==le.null){let n=this._getOrReturnCtx(e);return fe(n,{code:te.invalid_type,expected:le.null,received:n.parsedType}),Ie}return hr(e.data)}};ys.create=r=>new ys({typeName:ke.ZodNull,...Ne(r)});var io=class extends Ce{constructor(){super(...arguments),this._any=!0}_parse(e){return hr(e.data)}};io.create=r=>new io({typeName:ke.ZodAny,...Ne(r)});var zn=class extends Ce{constructor(){super(...arguments),this._unknown=!0}_parse(e){return hr(e.data)}};zn.create=r=>new zn({typeName:ke.ZodUnknown,...Ne(r)});var Zr=class extends Ce{_parse(e){let t=this._getOrReturnCtx(e);return fe(t,{code:te.invalid_type,expected:le.never,received:t.parsedType}),Ie}};Zr.create=r=>new Zr({typeName:ke.ZodNever,...Ne(r)});var ai=class extends Ce{_parse(e){if(this._getType(e)!==le.undefined){let n=this._getOrReturnCtx(e);return fe(n,{code:te.invalid_type,expected:le.void,received:n.parsedType}),Ie}return hr(e.data)}};ai.create=r=>new ai({typeName:ke.ZodVoid,...Ne(r)});var Mn=class r extends Ce{_parse(e){let{ctx:t,status:n}=this._processInputParams(e),o=this._def;if(t.parsedType!==le.array)return fe(t,{code:te.invalid_type,expected:le.array,received:t.parsedType}),Ie;if(o.exactLength!==null){let a=t.data.length>o.exactLength.value,u=t.data.length<o.exactLength.value;(a||u)&&(fe(t,{code:a?te.too_big:te.too_small,minimum:u?o.exactLength.value:void 0,maximum:a?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),n.dirty())}if(o.minLength!==null&&t.data.length<o.minLength.value&&(fe(t,{code:te.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),n.dirty()),o.maxLength!==null&&t.data.length>o.maxLength.value&&(fe(t,{code:te.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((a,u)=>o.type._parseAsync(new Nr(t,a,t.path,u)))).then(a=>rr.mergeArray(n,a));let s=[...t.data].map((a,u)=>o.type._parseSync(new Nr(t,a,t.path,u)));return rr.mergeArray(n,s)}get element(){return this._def.type}min(e,t){return new r({...this._def,minLength:{value:e,message:Se.toString(t)}})}max(e,t){return new r({...this._def,maxLength:{value:e,message:Se.toString(t)}})}length(e,t){return new r({...this._def,exactLength:{value:e,message:Se.toString(t)}})}nonempty(e){return this.min(1,e)}};Mn.create=(r,e)=>new Mn({type:r,minLength:null,maxLength:null,exactLength:null,typeName:ke.ZodArray,...Ne(e)});function ni(r){if(r instanceof br){let e={};for(let t in r.shape){let n=r.shape[t];e[t]=Lr.create(ni(n))}return new br({...r._def,shape:()=>e})}else return r instanceof Mn?new Mn({...r._def,type:ni(r.element)}):r instanceof Lr?Lr.create(ni(r.unwrap())):r instanceof dn?dn.create(ni(r.unwrap())):r instanceof ln?ln.create(r.items.map(e=>ni(e))):r}var br=class r extends Ce{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=Ke.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==le.object){let g=this._getOrReturnCtx(e);return fe(g,{code:te.invalid_type,expected:le.object,received:g.parsedType}),Ie}let{status:n,ctx:o}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),u=[];if(!(this._def.catchall instanceof Zr&&this._def.unknownKeys==="strip"))for(let g in o.data)a.includes(g)||u.push(g);let f=[];for(let g of a){let b=s[g],S=o.data[g];f.push({key:{status:"valid",value:g},value:b._parse(new Nr(o,S,o.path,g)),alwaysSet:g in o.data})}if(this._def.catchall instanceof Zr){let g=this._def.unknownKeys;if(g==="passthrough")for(let b of u)f.push({key:{status:"valid",value:b},value:{status:"valid",value:o.data[b]}});else if(g==="strict")u.length>0&&(fe(o,{code:te.unrecognized_keys,keys:u}),n.dirty());else if(g!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let g=this._def.catchall;for(let b of u){let S=o.data[b];f.push({key:{status:"valid",value:b},value:g._parse(new Nr(o,S,o.path,b)),alwaysSet:b in o.data})}}return o.common.async?Promise.resolve().then(async()=>{let g=[];for(let b of f){let S=await b.key,O=await b.value;g.push({key:S,value:O,alwaysSet:b.alwaysSet})}return g}).then(g=>rr.mergeObjectSync(n,g)):rr.mergeObjectSync(n,f)}get shape(){return this._def.shape()}strict(e){return Se.errToObj,new r({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,n)=>{var o,s,a,u;let f=(a=(s=(o=this._def).errorMap)===null||s===void 0?void 0:s.call(o,t,n).message)!==null&&a!==void 0?a:n.defaultError;return t.code==="unrecognized_keys"?{message:(u=Se.errToObj(e).message)!==null&&u!==void 0?u:f}:{message:f}}}:{}})}strip(){return new r({...this._def,unknownKeys:"strip"})}passthrough(){return new r({...this._def,unknownKeys:"passthrough"})}extend(e){return new r({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new r({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ke.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new r({...this._def,catchall:e})}pick(e){let t={};return Ke.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])}),new r({...this._def,shape:()=>t})}omit(e){let t={};return Ke.objectKeys(this.shape).forEach(n=>{e[n]||(t[n]=this.shape[n])}),new r({...this._def,shape:()=>t})}deepPartial(){return ni(this)}partial(e){let t={};return Ke.objectKeys(this.shape).forEach(n=>{let o=this.shape[n];e&&!e[n]?t[n]=o:t[n]=o.optional()}),new r({...this._def,shape:()=>t})}required(e){let t={};return Ke.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])t[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Lr;)s=s._def.innerType;t[n]=s}}),new r({...this._def,shape:()=>t})}keyof(){return mg(Ke.objectKeys(this.shape))}};br.create=(r,e)=>new br({shape:()=>r,unknownKeys:"strip",catchall:Zr.create(),typeName:ke.ZodObject,...Ne(e)});br.strictCreate=(r,e)=>new br({shape:()=>r,unknownKeys:"strict",catchall:Zr.create(),typeName:ke.ZodObject,...Ne(e)});br.lazycreate=(r,e)=>new br({shape:r,unknownKeys:"strip",catchall:Zr.create(),typeName:ke.ZodObject,...Ne(e)});var ms=class extends Ce{_parse(e){let{ctx:t}=this._processInputParams(e),n=this._def.options;function o(s){for(let u of s)if(u.result.status==="valid")return u.result;for(let u of s)if(u.result.status==="dirty")return t.common.issues.push(...u.ctx.common.issues),u.result;let a=s.map(u=>new jt(u.ctx.common.issues));return fe(t,{code:te.invalid_union,unionErrors:a}),Ie}if(t.common.async)return Promise.all(n.map(async s=>{let a={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(o);{let s,a=[];for(let f of n){let g={...t,common:{...t.common,issues:[]},parent:null},b=f._parseSync({data:t.data,path:t.path,parent:g});if(b.status==="valid")return b;b.status==="dirty"&&!s&&(s={result:b,ctx:g}),g.common.issues.length&&a.push(g.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;let u=a.map(f=>new jt(f));return fe(t,{code:te.invalid_union,unionErrors:u}),Ie}}get options(){return this._def.options}};ms.create=(r,e)=>new ms({options:r,typeName:ke.ZodUnion,...Ne(e)});var Pn=r=>r instanceof xs?Pn(r.schema):r instanceof kr?Pn(r.innerType()):r instanceof ws?[r.value]:r instanceof bs?r.options:r instanceof Ss?Ke.objectValues(r.enum):r instanceof vs?Pn(r._def.innerType):r instanceof hs?[void 0]:r instanceof ys?[null]:r instanceof Lr?[void 0,...Pn(r.unwrap())]:r instanceof dn?[null,...Pn(r.unwrap())]:r instanceof pa||r instanceof _s?Pn(r.unwrap()):r instanceof Es?Pn(r._def.innerType):[],Bc=class r extends Ce{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==le.object)return fe(t,{code:te.invalid_type,expected:le.object,received:t.parsedType}),Ie;let n=this.discriminator,o=t.data[n],s=this.optionsMap.get(o);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(fe(t,{code:te.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Ie)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){let o=new Map;for(let s of t){let a=Pn(s.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let u of a){if(o.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);o.set(u,s)}}return new r({typeName:ke.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:o,...Ne(n)})}};function Bd(r,e){let t=oo(r),n=oo(e);if(r===e)return{valid:!0,data:r};if(t===le.object&&n===le.object){let o=Ke.objectKeys(e),s=Ke.objectKeys(r).filter(u=>o.indexOf(u)!==-1),a={...r,...e};for(let u of s){let f=Bd(r[u],e[u]);if(!f.valid)return{valid:!1};a[u]=f.data}return{valid:!0,data:a}}else if(t===le.array&&n===le.array){if(r.length!==e.length)return{valid:!1};let o=[];for(let s=0;s<r.length;s++){let a=r[s],u=e[s],f=Bd(a,u);if(!f.valid)return{valid:!1};o.push(f.data)}return{valid:!0,data:o}}else return t===le.date&&n===le.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}var gs=class extends Ce{_parse(e){let{status:t,ctx:n}=this._processInputParams(e),o=(s,a)=>{if(Ad(s)||Ad(a))return Ie;let u=Bd(s.value,a.value);return u.valid?((Id(s)||Id(a))&&t.dirty(),{status:t.value,value:u.data}):(fe(n,{code:te.invalid_intersection_types}),Ie)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,a])=>o(s,a)):o(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};gs.create=(r,e,t)=>new gs({left:r,right:e,typeName:ke.ZodIntersection,...Ne(t)});var ln=class r extends Ce{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==le.array)return fe(n,{code:te.invalid_type,expected:le.array,received:n.parsedType}),Ie;if(n.data.length<this._def.items.length)return fe(n,{code:te.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ie;!this._def.rest&&n.data.length>this._def.items.length&&(fe(n,{code:te.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let s=[...n.data].map((a,u)=>{let f=this._def.items[u]||this._def.rest;return f?f._parse(new Nr(n,a,n.path,u)):null}).filter(a=>!!a);return n.common.async?Promise.all(s).then(a=>rr.mergeArray(t,a)):rr.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new r({...this._def,rest:e})}};ln.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ln({items:r,typeName:ke.ZodTuple,rest:null,...Ne(e)})};var Tc=class r extends Ce{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==le.object)return fe(n,{code:te.invalid_type,expected:le.object,received:n.parsedType}),Ie;let o=[],s=this._def.keyType,a=this._def.valueType;for(let u in n.data)o.push({key:s._parse(new Nr(n,u,n.path,u)),value:a._parse(new Nr(n,n.data[u],n.path,u)),alwaysSet:u in n.data});return n.common.async?rr.mergeObjectAsync(t,o):rr.mergeObjectSync(t,o)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof Ce?new r({keyType:e,valueType:t,typeName:ke.ZodRecord,...Ne(n)}):new r({keyType:so.create(),valueType:e,typeName:ke.ZodRecord,...Ne(t)})}},ci=class extends Ce{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==le.map)return fe(n,{code:te.invalid_type,expected:le.map,received:n.parsedType}),Ie;let o=this._def.keyType,s=this._def.valueType,a=[...n.data.entries()].map(([u,f],g)=>({key:o._parse(new Nr(n,u,n.path,[g,"key"])),value:s._parse(new Nr(n,f,n.path,[g,"value"]))}));if(n.common.async){let u=new Map;return Promise.resolve().then(async()=>{for(let f of a){let g=await f.key,b=await f.value;if(g.status==="aborted"||b.status==="aborted")return Ie;(g.status==="dirty"||b.status==="dirty")&&t.dirty(),u.set(g.value,b.value)}return{status:t.value,value:u}})}else{let u=new Map;for(let f of a){let g=f.key,b=f.value;if(g.status==="aborted"||b.status==="aborted")return Ie;(g.status==="dirty"||b.status==="dirty")&&t.dirty(),u.set(g.value,b.value)}return{status:t.value,value:u}}}};ci.create=(r,e,t)=>new ci({valueType:e,keyType:r,typeName:ke.ZodMap,...Ne(t)});var ui=class r extends Ce{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==le.set)return fe(n,{code:te.invalid_type,expected:le.set,received:n.parsedType}),Ie;let o=this._def;o.minSize!==null&&n.data.size<o.minSize.value&&(fe(n,{code:te.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),t.dirty()),o.maxSize!==null&&n.data.size>o.maxSize.value&&(fe(n,{code:te.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),t.dirty());let s=this._def.valueType;function a(f){let g=new Set;for(let b of f){if(b.status==="aborted")return Ie;b.status==="dirty"&&t.dirty(),g.add(b.value)}return{status:t.value,value:g}}let u=[...n.data.values()].map((f,g)=>s._parse(new Nr(n,f,n.path,g)));return n.common.async?Promise.all(u).then(f=>a(f)):a(u)}min(e,t){return new r({...this._def,minSize:{value:e,message:Se.toString(t)}})}max(e,t){return new r({...this._def,maxSize:{value:e,message:Se.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};ui.create=(r,e)=>new ui({valueType:r,minSize:null,maxSize:null,typeName:ke.ZodSet,...Ne(e)});var Pc=class r extends Ce{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==le.function)return fe(t,{code:te.invalid_type,expected:le.function,received:t.parsedType}),Ie;function n(u,f){return Ac({data:u,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,kc(),si].filter(g=>!!g),issueData:{code:te.invalid_arguments,argumentsError:f}})}function o(u,f){return Ac({data:u,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,kc(),si].filter(g=>!!g),issueData:{code:te.invalid_return_type,returnTypeError:f}})}let s={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof ao){let u=this;return hr(async function(...f){let g=new jt([]),b=await u._def.args.parseAsync(f,s).catch(C=>{throw g.addIssue(n(f,C)),g}),S=await Reflect.apply(a,this,b);return await u._def.returns._def.type.parseAsync(S,s).catch(C=>{throw g.addIssue(o(S,C)),g})})}else{let u=this;return hr(function(...f){let g=u._def.args.safeParse(f,s);if(!g.success)throw new jt([n(f,g.error)]);let b=Reflect.apply(a,this,g.data),S=u._def.returns.safeParse(b,s);if(!S.success)throw new jt([o(b,S.error)]);return S.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new r({...this._def,args:ln.create(e).rest(zn.create())})}returns(e){return new r({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new r({args:e||ln.create([]).rest(zn.create()),returns:t||zn.create(),typeName:ke.ZodFunction,...Ne(n)})}},xs=class extends Ce{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};xs.create=(r,e)=>new xs({getter:r,typeName:ke.ZodLazy,...Ne(e)});var ws=class extends Ce{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return fe(t,{received:t.data,code:te.invalid_literal,expected:this._def.value}),Ie}return{status:"valid",value:e.data}}get value(){return this._def.value}};ws.create=(r,e)=>new ws({value:r,typeName:ke.ZodLiteral,...Ne(e)});function mg(r,e){return new bs({values:r,typeName:ke.ZodEnum,...Ne(e)})}var bs=class r extends Ce{constructor(){super(...arguments),ia.set(this,void 0)}_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),n=this._def.values;return fe(t,{expected:Ke.joinValues(n),received:t.parsedType,code:te.invalid_type}),Ie}if(Ic(this,ia,"f")||lg(this,ia,new Set(this._def.values),"f"),!Ic(this,ia,"f").has(e.data)){let t=this._getOrReturnCtx(e),n=this._def.values;return fe(t,{received:t.data,code:te.invalid_enum_value,options:n}),Ie}return hr(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return r.create(e,{...this._def,...t})}exclude(e,t=this._def){return r.create(this.options.filter(n=>!e.includes(n)),{...this._def,...t})}};ia=new WeakMap;bs.create=mg;var Ss=class extends Ce{constructor(){super(...arguments),aa.set(this,void 0)}_parse(e){let t=Ke.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==le.string&&n.parsedType!==le.number){let o=Ke.objectValues(t);return fe(n,{expected:Ke.joinValues(o),received:n.parsedType,code:te.invalid_type}),Ie}if(Ic(this,aa,"f")||lg(this,aa,new Set(Ke.getValidEnumValues(this._def.values)),"f"),!Ic(this,aa,"f").has(e.data)){let o=Ke.objectValues(t);return fe(n,{received:n.data,code:te.invalid_enum_value,options:o}),Ie}return hr(e.data)}get enum(){return this._def.values}};aa=new WeakMap;Ss.create=(r,e)=>new Ss({values:r,typeName:ke.ZodNativeEnum,...Ne(e)});var ao=class extends Ce{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==le.promise&&t.common.async===!1)return fe(t,{code:te.invalid_type,expected:le.promise,received:t.parsedType}),Ie;let n=t.parsedType===le.promise?t.data:Promise.resolve(t.data);return hr(n.then(o=>this._def.type.parseAsync(o,{path:t.path,errorMap:t.common.contextualErrorMap})))}};ao.create=(r,e)=>new ao({type:r,typeName:ke.ZodPromise,...Ne(e)});var kr=class extends Ce{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ke.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:n}=this._processInputParams(e),o=this._def.effect||null,s={addIssue:a=>{fe(n,a),a.fatal?t.abort():t.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),o.type==="preprocess"){let a=o.transform(n.data,s);if(n.common.async)return Promise.resolve(a).then(async u=>{if(t.value==="aborted")return Ie;let f=await this._def.schema._parseAsync({data:u,path:n.path,parent:n});return f.status==="aborted"?Ie:f.status==="dirty"||t.value==="dirty"?oi(f.value):f});{if(t.value==="aborted")return Ie;let u=this._def.schema._parseSync({data:a,path:n.path,parent:n});return u.status==="aborted"?Ie:u.status==="dirty"||t.value==="dirty"?oi(u.value):u}}if(o.type==="refinement"){let a=u=>{let f=o.refinement(u,s);if(n.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(n.common.async===!1){let u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return u.status==="aborted"?Ie:(u.status==="dirty"&&t.dirty(),a(u.value),{status:t.value,value:u.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>u.status==="aborted"?Ie:(u.status==="dirty"&&t.dirty(),a(u.value).then(()=>({status:t.value,value:u.value}))))}if(o.type==="transform")if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ca(a))return a;let u=o.transform(a.value,s);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:u}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>ca(a)?Promise.resolve(o.transform(a.value,s)).then(u=>({status:t.value,value:u})):a);Ke.assertNever(o)}};kr.create=(r,e,t)=>new kr({schema:r,typeName:ke.ZodEffects,effect:e,...Ne(t)});kr.createWithPreprocess=(r,e,t)=>new kr({schema:e,effect:{type:"preprocess",transform:r},typeName:ke.ZodEffects,...Ne(t)});var Lr=class extends Ce{_parse(e){return this._getType(e)===le.undefined?hr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Lr.create=(r,e)=>new Lr({innerType:r,typeName:ke.ZodOptional,...Ne(e)});var dn=class extends Ce{_parse(e){return this._getType(e)===le.null?hr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};dn.create=(r,e)=>new dn({innerType:r,typeName:ke.ZodNullable,...Ne(e)});var vs=class extends Ce{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return t.parsedType===le.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};vs.create=(r,e)=>new vs({innerType:r,typeName:ke.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ne(e)});var Es=class extends Ce{_parse(e){let{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},o=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ua(o)?o.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new jt(n.common.issues)},input:n.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new jt(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};Es.create=(r,e)=>new Es({innerType:r,typeName:ke.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ne(e)});var pi=class extends Ce{_parse(e){if(this._getType(e)!==le.nan){let n=this._getOrReturnCtx(e);return fe(n,{code:te.invalid_type,expected:le.nan,received:n.parsedType}),Ie}return{status:"valid",value:e.data}}};pi.create=r=>new pi({typeName:ke.ZodNaN,...Ne(r)});var AP=Symbol("zod_brand"),pa=class extends Ce{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}},fa=class r extends Ce{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ie:s.status==="dirty"?(t.dirty(),oi(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{let o=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Ie:o.status==="dirty"?(t.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:n.path,parent:n})}}static create(e,t){return new r({in:e,out:t,typeName:ke.ZodPipeline})}},_s=class extends Ce{_parse(e){let t=this._def.innerType._parse(e),n=o=>(ca(o)&&(o.value=Object.freeze(o.value)),o);return ua(t)?t.then(o=>n(o)):n(t)}unwrap(){return this._def.innerType}};_s.create=(r,e)=>new _s({innerType:r,typeName:ke.ZodReadonly,...Ne(e)});function gg(r,e={},t){return r?io.create().superRefine((n,o)=>{var s,a;if(!r(n)){let u=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,f=(a=(s=u.fatal)!==null&&s!==void 0?s:t)!==null&&a!==void 0?a:!0,g=typeof u=="string"?{message:u}:u;o.addIssue({code:"custom",...g,fatal:f})}}):io.create()}var IP={object:br.lazycreate},ke;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(ke||(ke={}));var BP=(r,e={message:`Input not instance of ${r.name}`})=>gg(t=>t instanceof r,e),xg=so.create,wg=ps.create,TP=pi.create,PP=fs.create,bg=ls.create,zP=ds.create,MP=ii.create,LP=hs.create,NP=ys.create,CP=io.create,OP=zn.create,qP=Zr.create,UP=ai.create,DP=Mn.create,FP=br.create,jP=br.strictCreate,HP=ms.create,KP=Bc.create,WP=gs.create,VP=ln.create,GP=Tc.create,ZP=ci.create,YP=ui.create,$P=Pc.create,JP=xs.create,XP=ws.create,QP=bs.create,ez=Ss.create,tz=ao.create,pg=kr.create,rz=Lr.create,nz=dn.create,oz=kr.createWithPreprocess,sz=fa.create,iz=()=>xg().optional(),az=()=>wg().optional(),cz=()=>bg().optional(),uz={string:r=>so.create({...r,coerce:!0}),number:r=>ps.create({...r,coerce:!0}),boolean:r=>ls.create({...r,coerce:!0}),bigint:r=>fs.create({...r,coerce:!0}),date:r=>ds.create({...r,coerce:!0})},pz=Ie,i=Object.freeze({__proto__:null,defaultErrorMap:si,setErrorMap:pP,getErrorMap:kc,makeIssue:Ac,EMPTY_PATH:fP,addIssueToContext:fe,ParseStatus:rr,INVALID:Ie,DIRTY:oi,OK:hr,isAborted:Ad,isDirty:Id,isValid:ca,isAsync:ua,get util(){return Ke},get objectUtil(){return kd},ZodParsedType:le,getParsedType:oo,ZodType:Ce,datetimeRegex:yg,ZodString:so,ZodNumber:ps,ZodBigInt:fs,ZodBoolean:ls,ZodDate:ds,ZodSymbol:ii,ZodUndefined:hs,ZodNull:ys,ZodAny:io,ZodUnknown:zn,ZodNever:Zr,ZodVoid:ai,ZodArray:Mn,ZodObject:br,ZodUnion:ms,ZodDiscriminatedUnion:Bc,ZodIntersection:gs,ZodTuple:ln,ZodRecord:Tc,ZodMap:ci,ZodSet:ui,ZodFunction:Pc,ZodLazy:xs,ZodLiteral:ws,ZodEnum:bs,ZodNativeEnum:Ss,ZodPromise:ao,ZodEffects:kr,ZodTransformer:kr,ZodOptional:Lr,ZodNullable:dn,ZodDefault:vs,ZodCatch:Es,ZodNaN:pi,BRAND:AP,ZodBranded:pa,ZodPipeline:fa,ZodReadonly:_s,custom:gg,Schema:Ce,ZodSchema:Ce,late:IP,get ZodFirstPartyTypeKind(){return ke},coerce:uz,any:CP,array:DP,bigint:PP,boolean:bg,date:zP,discriminatedUnion:KP,effect:pg,enum:QP,function:$P,instanceof:BP,intersection:WP,lazy:JP,literal:XP,map:ZP,nan:TP,nativeEnum:ez,never:qP,null:NP,nullable:nz,number:wg,object:FP,oboolean:cz,onumber:az,optional:rz,ostring:iz,pipeline:sz,preprocess:oz,promise:tz,record:GP,set:YP,strictObject:jP,string:xg,symbol:MP,transformer:pg,tuple:VP,undefined:LP,union:HP,unknown:OP,void:UP,NEVER:pz,ZodIssueCode:te,quotelessJson:uP,ZodError:jt});l();var Cr=i.object({blinkUrl:i.string().url(),blinkTitle:i.string().optional()});l();var Wg=je(Js());l();l();l();l();var Sg="logger/5.7.0";var vg=!1,Eg=!1,zc={debug:1,default:2,info:2,warning:3,error:4,off:5},_g=zc.default,Td=null;function fz(){try{let r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if("\xE9".normalize("NFD")!=="e\u0301")throw new Error("broken implementation")}catch(r){return r.message}return null}var Rg=fz(),Pd;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(Pd||(Pd={}));var Yr;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(Yr||(Yr={}));var kg="0123456789abcdef",hn=class r{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){let n=e.toLowerCase();zc[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(_g>zc[n])&&console.log.apply(console,t)}debug(...e){this._log(r.levels.DEBUG,e)}info(...e){this._log(r.levels.INFO,e)}warn(...e){this._log(r.levels.WARNING,e)}makeError(e,t,n){if(Eg)return this.makeError("censored error",t,{});t||(t=r.errors.UNKNOWN_ERROR),n||(n={});let o=[];Object.keys(n).forEach(f=>{let g=n[f];try{if(g instanceof Uint8Array){let b="";for(let S=0;S<g.length;S++)b+=kg[g[S]>>4],b+=kg[g[S]&15];o.push(f+"=Uint8Array(0x"+b+")")}else o.push(f+"="+JSON.stringify(g))}catch{o.push(f+"="+JSON.stringify(n[f].toString()))}}),o.push(`code=${t}`),o.push(`version=${this.version}`);let s=e,a="";switch(t){case Yr.NUMERIC_FAULT:{a="NUMERIC_FAULT";let f=e;switch(f){case"overflow":case"underflow":case"division-by-zero":a+="-"+f;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result";break}break}case Yr.CALL_EXCEPTION:case Yr.INSUFFICIENT_FUNDS:case Yr.MISSING_NEW:case Yr.NONCE_EXPIRED:case Yr.REPLACEMENT_UNDERPRICED:case Yr.TRANSACTION_REPLACED:case Yr.UNPREDICTABLE_GAS_LIMIT:a=t;break}a&&(e+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),o.length&&(e+=" ("+o.join(", ")+")");let u=new Error(e);return u.reason=s,u.code=t,Object.keys(n).forEach(function(f){u[f]=n[f]}),u}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,r.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,o){e||this.throwError(t,n,o)}assertArgument(e,t,n,o){e||this.throwArgumentError(t,n,o)}checkNormalize(e){e==null&&(e="platform missing String.prototype.normalize"),Rg&&this.throwError("platform missing String.prototype.normalize",r.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Rg})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,r.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,r.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,r.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,r.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",r.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",r.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",r.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Td||(Td=new r(Sg)),Td}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",r.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),vg){if(!e)return;this.globalLogger().throwError("error censorship permanent",r.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Eg=!!e,vg=!!t}static setLogLevel(e){let t=zc[e.toLowerCase()];if(t==null){r.globalLogger().warn("invalid log level - "+e);return}_g=t}static from(e){return new r(e)}};hn.errors=Yr;hn.levels=Pd;l();var Ag="bytes/5.7.0";var zd=new hn(Ag);function lz(r){return!!r.toHexString}function Mc(r){return r.slice||(r.slice=function(){let e=Array.prototype.slice.call(arguments);return Mc(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function Ig(r){return typeof r=="number"&&r==r&&r%1===0}function dz(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!Ig(r.length)||r.length<0)return!1;for(let e=0;e<r.length;e++){let t=r[e];if(!Ig(t)||t<0||t>=256)return!1}return!0}function Lc(r,e){if(e||(e={}),typeof r=="number"){zd.checkSafeUint53(r,"invalid arrayify value");let t=[];for(;r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),Mc(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),lz(r)&&(r=r.toHexString()),Md(r)){let t=r.substring(2);t.length%2&&(e.hexPad==="left"?t="0"+t:e.hexPad==="right"?t+="0":zd.throwArgumentError("hex data is odd-length","value",r));let n=[];for(let o=0;o<t.length;o+=2)n.push(parseInt(t.substring(o,o+2),16));return Mc(new Uint8Array(n))}return dz(r)?Mc(new Uint8Array(r)):zd.throwArgumentError("invalid arrayify value","value",r)}function Md(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}l();l();var zg=je(Nc());l();var Pg="bignumber/5.7.0";var hz=zg.default.BN,tF=new hn(Pg);function Nd(r){return new hz(r,36).toString(16)}l();var Lg=je(Mg());function Ng(r){return"0x"+Lg.default.keccak_256(Lc(r))}l();var Cg="address/5.7.0";var la=new hn(Cg);function Og(r){Md(r,20)||la.throwArgumentError("invalid address","address",r),r=r.toLowerCase();let e=r.substring(2).split(""),t=new Uint8Array(40);for(let o=0;o<40;o++)t[o]=e[o].charCodeAt(0);let n=Lc(Ng(t));for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&(e[o]=e[o].toUpperCase()),(n[o>>1]&15)>=8&&(e[o+1]=e[o+1].toUpperCase());return"0x"+e.join("")}var mz=9007199254740991;function gz(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}var Cd={};for(let r=0;r<10;r++)Cd[String(r)]=String(r);for(let r=0;r<26;r++)Cd[String.fromCharCode(65+r)]=String(10+r);var qg=Math.floor(gz(mz));function xz(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>Cd[n]).join("");for(;e.length>=qg;){let n=e.substring(0,qg);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function wz(r){let e=null;if(typeof r!="string"&&la.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),e=Og(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==r&&la.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==xz(r)&&la.throwArgumentError("bad icap checksum","address",r),e=Nd(r.substring(4));e.length<40;)e="0"+e;e=Og("0x"+e)}else la.throwArgumentError("invalid address","address",r);return e}function Od(r){try{return wz(r),!0}catch{}return!1}var Ud=je(co());var $e=i.string().min(2,{message:"Must be 2 or more characters long"}).regex(/^0x[0-9A-Fa-f]*$/,{message:"String must be '0x'-prefixed and followed by valid hex characters"}),G=i.number().transform(r=>`0x${r.toString(16)}`).or($e.min(3,{message:"Must be 3 or more characters long (should always have at least one digit - zero is '0x0')."})).refine(r=>r==="0x0"?!0:r[2]!=="0",{message:"Invalid hex quantity: leading zero digits are not allowed."}),qe=$e.refine(r=>r.length%2===0,{message:"Invalid hex-encoded data: must be even number of digits"}),uo=i.string().transform(r=>{let e=qe.safeParse(r);return e.success?e.data:`0x${Wg.Buffer.from(r).toString("hex")}`}),Dd=i.union([i.string(),i.number()]).transform((r,e)=>{if(typeof r=="number")return r;let t=r.startsWith("0x")?16:10,n=parseInt(r,t);return Number.isNaN(n)&&e.addIssue({code:i.ZodIssueCode.custom,message:"Could not parse as LenientInteger"}),n}),Fd=r=>qe.refine(e=>e.length===r*2+2,{message:`Invalid byte length. (Expected ${r} bytes)`}),xe=$e.refine(Od,{message:"Invalid Ethereum address."}),be=Fd(32),jd=Fd(256),mn=i.object({blockHash:be,address:xe,logIndex:G,data:qe,removed:i.boolean().optional(),topics:i.array(be),blockNumber:G.nullish().default(null),transactionIndex:G,transactionHash:be}),da=i.object({transactionHash:be,transactionIndex:G,blockHash:be,blockNumber:G,from:xe,to:xe.nullish().default(null).optional(),root:be.optional(),status:i.literal("0x1").or(i.literal("0x0")).optional(),cumulativeGasUsed:G,gasUsed:G,contractAddress:xe.nullish().default(null),logs:i.array(mn),logsBloom:jd,effectiveGasPrice:G.optional(),type:G.optional()}),ha=i.object({from:xe.optional(),chainId:G.optional(),to:xe.optional(),gas:G.optional(),gasPrice:G.optional(),value:G.optional(),data:qe.optional(),nonce:G.optional()}),Ln=i.object({name:i.string(),type:i.string()}),Uc=i.array(Ln),Vg=i.object({chainId:Dd.optional(),name:i.string(),verifyingContract:xe,version:i.string().optional()}),Hd=i.object({type:i.string(),name:i.string(),value:i.string()}).array(),Dc=i.object({domain:Vg,message:i.record(i.any()),primaryType:i.string(),types:i.object({EIP712Domain:Uc}).and(i.record(Ln.array()))}),Kd=i.object({chainId:Dd.optional(),name:i.string().optional(),verifyingContract:xe.optional(),version:i.string().optional(),salt:i.string().optional()}),Fc=i.object({domain:Kd,message:i.record(i.any()),primaryType:i.string(),types:i.object({EIP712Domain:Uc}).and(i.record(Ln.array()))}),Gg=i.object({name:i.literal("owner"),type:i.literal("address")}),Zg=i.object({name:i.literal("spender"),type:i.literal("address")}),Yg=i.object({name:i.literal("value"),type:i.literal("uint256")}),$g=i.object({name:i.literal("value"),type:i.literal("uint256")}),Jg=i.object({name:i.literal("deadline"),type:i.literal("uint256")}),Xg=i.tuple([Ln,Ln,Ln,Ln,Ln]).refine(r=>{let e=[Gg,Zg,Yg,$g,Jg],t=new Set(["owner","spender","value","nonce","deadline"]);for(let n of r)for(let o of e){let s=o.safeParse(n);s.success&&t.delete(s.data.name)}return t.size===0}).transform(()=>[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]),Qg=i.literal("Permit"),ex=i.object({EIP712Domain:Uc,Permit:Xg}),tx=i.object({owner:xe,spender:xe,value:G,nonce:G,deadline:G}),Ez=i.object({domain:Kd,primaryType:Qg,types:ex,message:tx}),Wd=(n=>(n.legacy="0x0",n.eip2930="0x1",n.eip1559="0x2",n))(Wd||{}),rx=i.tuple([xe,i.array(be)]),Nn=i.object({chainId:G.optional(),data:qe.optional(),from:xe,gas:G.optional(),gasPrice:G.optional(),nonce:G.optional(),to:xe.optional(),value:G.optional(),type:i.nativeEnum(Wd).optional(),accessList:i.array(rx).optional(),maxPriorityFeePerGas:G.optional(),maxFeePerGas:G.optional(),gasLimit:G.optional()}).transform(r=>(r.gas==null&&r.gasLimit!=null&&(r.gas=r.gasLimit,delete r.gasLimit),r)).brand("EthUnsignedTransactionObject"),gn=i.object({blockHash:be.nullish(),blockNumber:G.nullish(),from:xe,gas:G,gasPrice:G.nullish(),hash:be,input:qe,nonce:G,to:xe.nullish().default(null),transactionIndex:G.nullish(),value:G,v:G,r:G,s:G}),Vd=i.object({address:xe.optional(),balance:G,codeHash:be,nonce:G,storageHash:be,accountProof:i.array($e),storageProof:i.array(i.object({key:G,value:G,proof:i.array($e)}))}),et=i.literal("latest").or(i.literal("earliest")).or(i.literal("pending")).or(i.literal("finalized")),Cn=i.object({number:G.nullish().default(null),hash:be.nullish().default(null),parentHash:be,nonce:Fd(8).nullish().default(null),sha3Uncles:be,logsBloom:jd.nullish().default(null),transactionsRoot:be,stateRoot:be,receiptsRoot:be,miner:xe.nullish().default(null),mixHash:be.optional(),difficulty:G,totalDifficulty:G.nullish().default(null),extraData:qe,size:G,gasLimit:G,gasUsed:G,timestamp:G,transactions:i.array(gn).or(i.array(be)),uncles:i.array(be),baseFeePerGas:G.optional()}),ya=i.enum(["CONTINUE_WITH_PHANTOM","CONTINUE_WITH_METAMASK","ALWAYS_USE_PHANTOM","ALWAYS_USE_METAMASK"]),ma=i.string().refine(r=>{try{return Ud.default.decode(r).byteLength===32&&r.match(/^[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]+$/)}catch{return!1}},{message:"String must be a valid solana public key of 32 bytes"}),nx=i.union([i.literal("bip122_p2tr"),i.literal("bip122_p2wpkh"),i.literal("bip122_p2sh"),i.literal("bip122_p2pkh")]),ox=i.object({address:i.string(),publicKey:i.string(),addressType:nx}),ks=ox.and(i.object({purpose:i.union([i.literal("payment"),i.literal("ordinals")])})),sx=i.string().refine(r=>Rz(r),{message:"Invalid Sui address format"}),_z=/^0x[a-fA-F0-9]{64}$/;function Rz(r){return r?_z.test(r):!1}var As=i.object({address:sx,publicKey:i.string()}),kz=$e.refine(Od,{message:"Invalid Hypercore address."}),Az=i.string().refine(r=>{try{return Ud.default.decode(r).byteLength===64}catch{return!1}},{message:"String must be a valid solana address of 64 bytes"}),ue=i.string().regex(/^[123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ]*$/),ve=i.object({url:i.string().url(),icon:i.string().nullish().default(null)}),ix=i.array(i.any()),jc=i.unknown().transform((r,e)=>typeof r=="object"&&r!==null?r:(e.addIssue({code:i.ZodIssueCode.custom,message:"Not an object"}),i.NEVER)),fi=i.union([i.null(),i.string(),i.number(),i.boolean(),ix,jc]),ga=i.literal("2.0"),li=i.union([i.string(),i.number(),i.null()]),Hc=i.object({jsonrpc:i.literal("2.0"),id:li,method:i.string(),params:fi.optional()}),Gd=i.array(Hc),$r=i.object({jsonrpc:i.literal("2.0"),method:i.string(),params:fi}),po=($=>($[$.ParseError=-32700]="ParseError",$[$.InternalError=-32603]="InternalError",$[$.InvalidParams=-32602]="InvalidParams",$[$.MethodNotFound=-32601]="MethodNotFound",$[$.InvalidRequest=-32600]="InvalidRequest",$[$.RequestCancelled=-32800]="RequestCancelled",$[$.TransactionRejected=-32003]="TransactionRejected",$[$.ResourceUnavailable=-32002]="ResourceUnavailable",$[$.InvalidInput=-32e3]="InvalidInput",$[$.UserRejectedRequest=4001]="UserRejectedRequest",$[$.Unauthorized=4100]="Unauthorized",$[$.UnsupportedMethod=4200]="UnsupportedMethod",$[$.RateLimited=4290]="RateLimited",$[$.Disconnected=4900]="Disconnected",$[$.ChainDisconnected=4901]="ChainDisconnected",$[$.ExecutionReverted=3]="ExecutionReverted",$))(po||{});var k=i.object({code:i.nativeEnum(po).or(i.number()),message:i.string()}),ax=i.object({error:k}).or(i.object({result:fi})),Kc=i.object({jsonrpc:i.literal("2.0"),id:li}).and(ax),Zd=i.array(Kc),Is=i.object({domain:i.string().optional(),address:i.string().optional(),statement:i.string().optional(),uri:i.string().optional(),version:i.string().optional(),chainId:i.string().optional(),nonce:i.string().optional(),issuedAt:i.string().optional(),expirationTime:i.string().optional(),notBefore:i.string().optional(),requestId:i.string().optional(),resources:i.array(i.string()).optional()}),cx=i.literal("mainnet"),Iz=i.literal("testnet"),Bz=i.literal("devnet"),Tz=i.literal("localnet"),ux=i.enum([cx.value,Iz.value,Bz.value,Tz.value]),Pz=i.literal("1"),zz=i.literal("11155111"),px=i.enum([Pz.value,zz.value]),Mz=i.literal("0x1"),Lz=i.literal("0xaa36a7"),fx=i.enum([Mz.value,Lz.value]),Nz=i.literal("137"),Cz=i.literal("80002"),lx=i.enum([Nz.value,Cz.value]),Oz=i.literal("0x89"),qz=i.literal("0x13882"),dx=i.enum([Oz.value,qz.value]),Uz=i.literal("8453"),Dz=i.literal("84532"),hx=i.enum([Uz.value,Dz.value]),Fz=i.literal("0x2105"),jz=i.literal("0x14a34"),yx=i.enum([Fz.value,jz.value]),Hz=i.literal("143"),Kz=i.literal("10143"),Wz=i.literal("41454"),mx=i.enum([Hz.value,Kz.value,Wz.value]),Vz=i.literal("0x8f"),Gz=i.literal("0x279f"),Zz=i.literal("0xa1ee"),gx=i.enum([Vz.value,Gz.value,Zz.value]),Yz=i.literal("mainnet-beta"),$z=i.literal("testnet"),Jz=i.literal("devnet"),xa=ue,Wc=ue,di=ue,Yd=ue,wa=ue,Vc=i.string().url(),ba=i.string().url(),Gc=i.enum([Yz.value,$z.value,Jz.value]),Or=i.object({dapp_encryption_public_key:xa,nonce:di,redirect_link:ba,payload:Yd}),xn=i.object({nonce:di,data:wa}),Xz=i.object({name:i.string(),label:i.string().optional(),required:i.boolean().optional()}),Qz=i.object({message:i.string()}),xx=i.object({href:i.string(),label:i.string(),parameters:i.array(Xz).optional()}),wx=i.object({label:i.string(),url:i.string()}),hi=i.object({successMessage:i.string().optional(),failureMessage:i.string().optional(),pendingMessage:i.string().optional(),onSuccessAction:wx.optional()}),$d=i.object({domain:i.string(),name:i.string(),category:i.string(),actionUrl:i.string(),icon:i.string(),title:i.string(),description:i.string(),label:i.string(),disabled:i.boolean().optional(),links:i.object({actions:i.array(xx)}).optional(),error:Qz.optional(),postAction:hi.optional()});l();function I(r,e){return i.object({jsonrpc:ga,id:li,method:r,params:e})}function B(r,e){return i.object({jsonrpc:ga,id:li}).and(i.object({result:r}).or(i.object({error:e})))}function Ar(r,e){return i.object({jsonrpc:ga,method:r,params:e})}var On=i.union([i.literal("bip122:000000000019d6689c085ae165831e93"),i.literal("bip122:000000000933ea01ad0ee984209779ba"),i.literal("solana:101"),i.literal("solana:102"),i.literal("solana:103"),i.literal("solana:localnet"),i.literal("eip155:1"),i.literal("eip155:11155111"),i.literal("eip155:137"),i.literal("eip155:80002"),i.literal("eip155:8453"),i.literal("eip155:84532"),i.literal("eip155:143"),i.literal("eip155:10143"),i.literal("eip155:41454"),i.literal("eip155:42161"),i.literal("eip155:421614"),i.literal("hypercore:mainnet"),i.literal("hypercore:testnet"),i.literal("sui:mainnet"),i.literal("sui:testnet")]);var bx=i.literal("eth_blink_requestAccounts"),Sx=i.object({context:Cr}),vx=i.array(xe),Ex=k,e3=I(bx,Sx),t3=B(vx,Ex);var Xd={};F(Xd,{error:()=>Ax,method:()=>_x,params:()=>Rx,request:()=>r3,response:()=>n3,result:()=>kx});l();var _x=i.literal("eth_blink_sendTransaction"),Rx=i.tuple([Nn,i.object({context:Cr})]),kx=be,Ax=k,r3=I(_x,Rx),n3=B(kx,Ax);var Qd={};F(Qd,{error:()=>Px,method:()=>Ix,params:()=>Bx,request:()=>o3,response:()=>s3,result:()=>Tx});l();var Ix=i.literal("eth_blink_sign"),Bx=i.tuple([xe,uo,i.object({context:Cr})]),Tx=qe,Px=k,o3=I(Ix,Bx),s3=B(Tx,Px);l();var eh={};F(eh,{error:()=>qx,method:()=>Nx,params:()=>Cx,request:()=>u3,response:()=>p3,result:()=>Ox});l();var Sa={};F(Sa,{error:()=>Lx,method:()=>zx,params:()=>Mx,request:()=>a3,response:()=>c3,result:()=>Zc});l();var zx=i.literal("sol_connect"),Mx=i.object({onlyIfTrusted:i.optional(i.boolean()),eager:i.optional(i.boolean())}),Zc=i.object({publicKey:i.string()}),Lx=k,a3=I(zx,Mx),c3=B(Zc,Lx);var Nx=i.literal("sol_blink_connect"),Cx=i.object({context:Cr}),Ox=Zc,qx=k,u3=I(Nx,Cx),p3=B(Ox,qx);var rh={};F(rh,{error:()=>Kx,method:()=>Fx,params:()=>jx,request:()=>d3,response:()=>h3,result:()=>Hx});l();var va={};F(va,{error:()=>Dx,method:()=>Ux,params:()=>$c,request:()=>f3,response:()=>l3,result:()=>Jc});l();var Yc={};F(Yc,{SolanaProviderEvent:()=>th,SolanaSendOptions:()=>qn});l();var qn=i.optional(i.object({skipPreflight:i.optional(i.boolean()),preflightCommitment:i.optional(i.union([i.literal("processed"),i.literal("confirmed"),i.literal("finalized"),i.literal("recent"),i.literal("single"),i.literal("singleGossip"),i.literal("root"),i.literal("max")])),maxRetries:i.optional(i.number()),minContextSlot:i.optional(i.number()),method:i.optional(i.union([i.literal("signAndSendTransaction"),i.literal("signTransaction")]))})),th=(n=>(n.Connect="connect",n.Disconnect="disconnect",n.AccountChanged="accountChanged",n))(th||{}),fj=i.nativeEnum(th);var Ux=i.literal("sol_signAndSendAllTransactions"),$c=i.object({transactions:i.array(ue),options:qn}),Jc=i.object({signatures:i.array(i.union([i.string(),i.null()])),publicKey:i.string()}),Dx=k,f3=I(Ux,$c),l3=B(Jc,Dx);var Fx=i.literal("sol_blink_signAndSendAllTransactions"),jx=$c.merge(i.object({context:Cr})),Hx=Jc,Kx=k,d3=I(Fx,jx),h3=B(Hx,Kx);var nh={};F(nh,{error:()=>Jx,method:()=>Zx,params:()=>Yx,request:()=>g3,response:()=>x3,result:()=>$x});l();var Ea={};F(Ea,{error:()=>Gx,method:()=>Wx,params:()=>Xc,request:()=>y3,response:()=>m3,result:()=>Vx});l();var Wx=i.literal("sol_signMessage"),Xc=i.object({message:ue,display:i.union([i.literal("utf8"),i.literal("hex")])}),Vx=i.object({signature:i.string(),publicKey:i.string()}),Gx=k,y3=I(Wx,Xc),m3=B(Vx,Gx);var Zx=i.literal("sol_blink_signMessage"),Yx=Xc.merge(i.object({context:Cr})),$x=i.object({signature:i.string(),publicKey:i.string()}),Jx=k,g3=I(Zx,Yx),x3=B($x,Jx);var ru={};F(ru,{btc_requestAccounts:()=>Qc,btc_signMessage:()=>tu,btc_signPSBT:()=>eu});l();var Qc={};F(Qc,{error:()=>tw,method:()=>Xx,params:()=>Qx,request:()=>b3,response:()=>S3,result:()=>ew});l();var Xx=i.literal("btc_requestAccounts"),Qx=i.tuple([]),ew=i.array(ks),tw=k,b3=I(Xx,Qx),S3=B(ew,tw);var eu={};F(eu,{error:()=>sw,method:()=>rw,params:()=>nw,request:()=>v3,response:()=>E3,result:()=>ow});l();var rw=i.literal("btc_signPSBT"),nw=i.tuple([i.instanceof(Uint8Array),i.object({inputsToSign:i.array(i.object({address:i.string(),signingIndexes:i.array(i.number()),sigHash:i.number().optional()})),finalize:i.boolean()})]),ow=i.instanceof(Uint8Array),sw=k,v3=I(rw,nw),E3=B(ow,sw);var tu={};F(tu,{error:()=>uw,method:()=>iw,params:()=>aw,request:()=>_3,response:()=>R3,result:()=>cw});l();var iw=i.literal("btc_signMessage"),aw=i.object({address:i.string(),message:i.instanceof(Uint8Array)}),cw=i.object({signature:i.instanceof(Uint8Array),signedMessage:i.instanceof(Uint8Array)}),uw=k,_3=I(iw,aw),R3=B(cw,uw);var yi={};F(yi,{eth_accounts:()=>nu,eth_blockNumber:()=>ou,eth_call:()=>su,eth_cancelPrivateTransaction:()=>iu,eth_chainId:()=>au,eth_estimateGas:()=>cu,eth_feeHistory:()=>uu,eth_gasPrice:()=>pu,eth_getBalance:()=>fu,eth_getBlockByHash:()=>lu,eth_getBlockByNumber:()=>du,eth_getBlockReceipts:()=>hu,eth_getBlockTransactionCountByHash:()=>yu,eth_getBlockTransactionCountByNumber:()=>mu,eth_getCode:()=>gu,eth_getFilterChanges:()=>xu,eth_getFilterLogs:()=>wu,eth_getLogs:()=>bu,eth_getProof:()=>Su,eth_getStorageAt:()=>vu,eth_getTransactionByBlockHashAndIndex:()=>Eu,eth_getTransactionByBlockNumberAndIndex:()=>_u,eth_getTransactionByHash:()=>Ru,eth_getTransactionCount:()=>ku,eth_getTransactionReceipt:()=>Au,eth_getUncleByBlockHashAndIndex:()=>Iu,eth_getUncleByBlockNumberAndIndex:()=>Bu,eth_getUncleCountByBlockHash:()=>Tu,eth_getUncleCountByBlockNumber:()=>Pu,eth_maxPriorityFeePerGas:()=>zu,eth_newBlockFilter:()=>Mu,eth_newFilter:()=>Lu,eth_newPendingTransactionFilter:()=>Nu,eth_protocolVersion:()=>Ou,eth_requestAccounts:()=>qu,eth_sendPrivateTransaction:()=>Uu,eth_sendRawTransaction:()=>Du,eth_sendTransaction:()=>Fu,eth_sign:()=>ju,eth_signTransaction:()=>Hu,eth_signTypedData:()=>Ku,eth_signTypedData_v3:()=>Wu,eth_signTypedData_v4:()=>Vu,eth_subscribe:()=>Gu,eth_syncing:()=>Zu,eth_uninstallFilter:()=>Yu,eth_unsubscribe:()=>$u,net_listening:()=>Ju,net_version:()=>Xu,personal_sign:()=>Cu,wallet_addEthereumChain:()=>Qu,wallet_getPermissions:()=>ip,wallet_requestPermissions:()=>sp,wallet_selectEthereumProvider:()=>ep,wallet_switchEthereumChain:()=>tp,wallet_watchAsset:()=>rp,web3_clientVersion:()=>np,web3_sha3:()=>op});l();var nu={};F(nu,{error:()=>dw,method:()=>pw,params:()=>fw,request:()=>k3,response:()=>A3,result:()=>lw});l();var pw=i.literal("eth_accounts"),fw=i.tuple([]),lw=i.array(xe),dw=k,k3=I(pw,fw),A3=B(lw,dw);var ou={};F(ou,{error:()=>gw,method:()=>hw,params:()=>yw,request:()=>I3,response:()=>B3,result:()=>mw});l();var hw=i.literal("eth_blockNumber"),yw=i.tuple([]),mw=G,gw=k,I3=I(hw,yw),B3=B(mw,gw);var su={};F(su,{error:()=>Sw,method:()=>xw,params:()=>ww,request:()=>T3,response:()=>P3,result:()=>bw});l();var xw=i.literal("eth_call"),ww=i.tuple([ha,G.or(et)]),bw=qe,Sw=k,T3=I(xw,ww),P3=B(bw,Sw);var iu={};F(iu,{error:()=>Rw,method:()=>vw,params:()=>Ew,request:()=>z3,response:()=>M3,result:()=>_w});l();var vw=i.literal("eth_cancelPrivateTransaction"),Ew=i.tuple([i.object({txHash:be})]),_w=i.boolean(),Rw=k,z3=I(vw,Ew),M3=B(_w,Rw);var au={};F(au,{error:()=>Bw,method:()=>kw,params:()=>Aw,request:()=>L3,response:()=>N3,result:()=>Iw});l();var kw=i.literal("eth_chainId"),Aw=i.tuple([]),Iw=$e,Bw=k,L3=I(kw,Aw),N3=B(Iw,Bw);var cu={};F(cu,{error:()=>Mw,method:()=>Tw,params:()=>Pw,request:()=>C3,response:()=>O3,result:()=>zw});l();var Tw=i.literal("eth_estimateGas"),Pw=i.tuple([ha]),zw=G,Mw=k,C3=I(Tw,Pw),O3=B(zw,Mw);var uu={};F(uu,{error:()=>Ow,method:()=>Lw,params:()=>Nw,request:()=>q3,response:()=>U3,result:()=>Cw});l();var Lw=i.literal("eth_feeHistory"),Nw=i.tuple([i.number(),G.or(et),i.array(i.number()).optional()]),Cw=i.object({oldestBlock:i.number(),reward:i.array(i.tuple([G,G])).optional(),baseFeePerGas:i.array(G),gasUsedRatio:i.array(i.number())}),Ow=k,q3=I(Lw,Nw),U3=B(Cw,Ow);var pu={};F(pu,{error:()=>Fw,method:()=>qw,params:()=>Uw,request:()=>D3,response:()=>F3,result:()=>Dw});l();var qw=i.literal("eth_gasPrice"),Uw=i.tuple([]),Dw=G,Fw=k,D3=I(qw,Uw),F3=B(Dw,Fw);var fu={};F(fu,{error:()=>Ww,method:()=>jw,params:()=>Hw,request:()=>j3,response:()=>H3,result:()=>Kw});l();var jw=i.literal("eth_getBalance"),Hw=i.tuple([xe,G.or(et)]),Kw=G,Ww=k,j3=I(jw,Hw),H3=B(Kw,Ww);var lu={};F(lu,{error:()=>Yw,method:()=>Vw,params:()=>Gw,request:()=>K3,response:()=>W3,result:()=>Zw});l();var Vw=i.literal("eth_getBlockByHash"),Gw=i.tuple([be,i.boolean()]),Zw=Cn,Yw=k,K3=I(Vw,Gw),W3=B(Zw,Yw);var du={};F(du,{error:()=>Qw,method:()=>$w,params:()=>Jw,request:()=>V3,response:()=>G3,result:()=>Xw});l();var $w=i.literal("eth_getBlockByNumber"),Jw=i.tuple([G.or(et),i.boolean()]),Xw=Cn,Qw=k,V3=I($w,Jw),G3=B(Xw,Qw);var hu={};F(hu,{error:()=>nb,method:()=>eb,params:()=>tb,request:()=>Z3,response:()=>Y3,result:()=>rb});l();var eb=i.literal("eth_getBlockReceipts"),tb=i.tuple([be.or(G).or(et)]),rb=i.array(da),nb=k,Z3=I(eb,tb),Y3=B(rb,nb);var yu={};F(yu,{error:()=>ab,method:()=>ob,params:()=>sb,request:()=>$3,response:()=>J3,result:()=>ib});l();var ob=i.literal("eth_getBlockTransactionCountByHash"),sb=i.tuple([be]),ib=G,ab=k,$3=I(ob,sb),J3=B(ib,ab);var mu={};F(mu,{error:()=>fb,method:()=>cb,params:()=>ub,request:()=>X3,response:()=>Q3,result:()=>pb});l();var cb=i.literal("eth_getBlockTransactionCountByNumber"),ub=i.tuple([G]),pb=G,fb=k,X3=I(cb,ub),Q3=B(pb,fb);var gu={};F(gu,{error:()=>yb,method:()=>lb,params:()=>db,request:()=>eM,response:()=>tM,result:()=>hb});l();var lb=i.literal("eth_getCode"),db=i.tuple([xe,i.union([G,et])]),hb=qe,yb=k,eM=I(lb,db),tM=B(hb,yb);var xu={};F(xu,{error:()=>wb,method:()=>mb,params:()=>gb,request:()=>rM,response:()=>nM,result:()=>xb});l();var mb=i.literal("eth_getFilterChanges"),gb=i.tuple([G]),xb=i.array(mn),wb=k,rM=I(mb,gb),nM=B(xb,wb);var wu={};F(wu,{error:()=>Eb,method:()=>bb,params:()=>Sb,request:()=>oM,response:()=>sM,result:()=>vb});l();var bb=i.literal("eth_getFilterLogs"),Sb=i.tuple([G]),vb=i.array(mn),Eb=k,oM=I(bb,Sb),sM=B(vb,Eb);var bu={};F(bu,{error:()=>Ab,method:()=>_b,params:()=>Rb,request:()=>iM,response:()=>aM,result:()=>kb});l();var _b=i.literal("eth_getLogs"),Rb=i.tuple([i.object({fromBlock:G.or(et).optional(),toBlock:i.string().optional(),address:xe.optional(),topics:i.array(be).optional(),blockHash:be.optional()})]),kb=i.array(mn),Ab=k,iM=I(_b,Rb),aM=B(kb,Ab);var Su={};F(Su,{error:()=>Pb,method:()=>Ib,params:()=>Bb,request:()=>cM,response:()=>uM,result:()=>Tb});l();var Ib=i.literal("eth_getProof"),Bb=i.tuple([xe,i.array(be),G.or(et)]),Tb=Vd,Pb=k,cM=I(Ib,Bb),uM=B(Tb,Pb);var vu={};F(vu,{error:()=>Nb,method:()=>zb,params:()=>Mb,request:()=>pM,response:()=>fM,result:()=>Lb});l();var zb=i.literal("eth_getStorageAt"),Mb=i.tuple([xe,G,G.or(et)]),Lb=qe,Nb=k,pM=I(zb,Mb),fM=B(Lb,Nb);var Eu={};F(Eu,{error:()=>Ub,method:()=>Cb,params:()=>Ob,request:()=>lM,response:()=>dM,result:()=>qb});l();var Cb=i.literal("eth_getTransactionByBlockHashAndIndex"),Ob=i.tuple([be,G]),qb=gn.nullish().default(null),Ub=k,lM=I(Cb,Ob),dM=B(qb,Ub);var _u={};F(_u,{error:()=>Hb,method:()=>Db,params:()=>Fb,request:()=>hM,response:()=>yM,result:()=>jb});l();var Db=i.literal("eth_getTransactionByBlockNumberAndIndex"),Fb=i.tuple([i.string(),G]),jb=gn,Hb=k,hM=I(Db,Fb),yM=B(jb,Hb);var Ru={};F(Ru,{error:()=>Gb,method:()=>Kb,params:()=>Wb,request:()=>mM,response:()=>gM,result:()=>Vb});l();var Kb=i.literal("eth_getTransactionByHash"),Wb=i.tuple([be]),Vb=gn.nullable(),Gb=k,mM=I(Kb,Wb),gM=B(Vb,Gb);var ku={};F(ku,{error:()=>Jb,method:()=>Zb,params:()=>Yb,request:()=>xM,response:()=>wM,result:()=>$b});l();var Zb=i.literal("eth_getTransactionCount"),Yb=i.tuple([xe,G.or(et)]),$b=G,Jb=k,xM=I(Zb,Yb),wM=B($b,Jb);var Au={};F(Au,{error:()=>t1,method:()=>Xb,params:()=>Qb,request:()=>bM,response:()=>SM,result:()=>e1});l();var Xb=i.literal("eth_getTransactionReceipt"),Qb=i.tuple([be]),e1=da.nullish().default(null),t1=k,bM=I(Xb,Qb),SM=B(e1,t1);var Iu={};F(Iu,{error:()=>s1,method:()=>r1,params:()=>n1,request:()=>vM,response:()=>EM,result:()=>o1});l();var r1=i.literal("eth_getUncleByBlockHashAndIndex"),n1=i.tuple([G.or(et),G]),o1=Cn,s1=k,vM=I(r1,n1),EM=B(o1,s1);var Bu={};F(Bu,{error:()=>u1,method:()=>i1,params:()=>a1,request:()=>_M,response:()=>RM,result:()=>c1});l();var i1=i.literal("eth_getUncleByBlockNumberAndIndex"),a1=i.tuple([G.or(et),G]),c1=Cn,u1=k,_M=I(i1,a1),RM=B(c1,u1);var Tu={};F(Tu,{error:()=>d1,method:()=>p1,params:()=>f1,request:()=>kM,response:()=>AM,result:()=>l1});l();var p1=i.literal("eth_getUncleCountByBlockHash"),f1=i.tuple([be]),l1=G,d1=k,kM=I(p1,f1),AM=B(l1,d1);var Pu={};F(Pu,{error:()=>g1,method:()=>h1,params:()=>y1,request:()=>IM,response:()=>BM,result:()=>m1});l();var h1=i.literal("eth_getUncleCountByBlockNumber"),y1=i.tuple([G.or(et)]),m1=G,g1=k,IM=I(h1,y1),BM=B(m1,g1);var zu={};F(zu,{error:()=>S1,method:()=>x1,params:()=>w1,request:()=>TM,response:()=>PM,result:()=>b1});l();var x1=i.literal("eth_maxPriorityFeePerGas"),w1=i.tuple([]),b1=G,S1=k,TM=I(x1,w1),PM=B(b1,S1);var Mu={};F(Mu,{error:()=>R1,method:()=>v1,params:()=>E1,request:()=>zM,response:()=>MM,result:()=>_1});l();var v1=i.literal("eth_newBlockFilter"),E1=i.tuple([]),_1=G,R1=k,zM=I(v1,E1),MM=B(_1,R1);var Lu={};F(Lu,{error:()=>B1,method:()=>k1,params:()=>A1,request:()=>LM,response:()=>NM,result:()=>I1});l();var k1=i.literal("eth_newFilter"),A1=i.tuple([i.object({fromBlock:G.optional(),toBlock:G.optional(),address:xe.or(i.array(xe)).optional(),topics:i.array(qe.nullish().default(null).or(i.array(qe.nullish().default(null)))).optional()})]),I1=G,B1=k,LM=I(k1,A1),NM=B(I1,B1);var Nu={};F(Nu,{error:()=>M1,method:()=>T1,params:()=>P1,request:()=>CM,response:()=>OM,result:()=>z1});l();var T1=i.literal("eth_newPendingTransactionFilter"),P1=i.tuple([]),z1=G,M1=k,CM=I(T1,P1),OM=B(z1,M1);var Cu={};F(Cu,{error:()=>O1,method:()=>L1,params:()=>N1,request:()=>qM,response:()=>UM,result:()=>C1});l();var L1=i.literal("personal_sign"),N1=i.union([i.tuple([uo,xe]),i.tuple([uo,xe,i.unknown()])]),C1=qe,O1=k,qM=I(L1,N1),UM=B(C1,O1);var Ou={};F(Ou,{error:()=>F1,method:()=>q1,params:()=>U1,request:()=>DM,response:()=>FM,result:()=>D1});l();var q1=i.literal("eth_protocolVersion"),U1=i.tuple([]),D1=i.string(),F1=k,DM=I(q1,U1),FM=B(D1,F1);var qu={};F(qu,{error:()=>W1,method:()=>j1,params:()=>H1,request:()=>jM,response:()=>HM,result:()=>K1});l();var j1=i.literal("eth_requestAccounts"),H1=i.tuple([]),K1=i.array(xe),W1=k,jM=I(j1,H1),HM=B(K1,W1);var Uu={};F(Uu,{error:()=>Y1,method:()=>V1,params:()=>G1,request:()=>KM,response:()=>WM,result:()=>Z1});l();var V1=i.literal("eth_sendPrivateTransaction"),G1=i.tuple([i.object({tx:be,maxBlockNumber:G.optional(),preferences:i.object({fast:i.boolean()}).optional()})]),Z1=be,Y1=k,KM=I(V1,G1),WM=B(Z1,Y1);var Du={};F(Du,{error:()=>Q1,method:()=>$1,params:()=>J1,request:()=>VM,response:()=>GM,result:()=>X1});l();var $1=i.literal("eth_sendRawTransaction"),J1=i.tuple([qe]),X1=be,Q1=k,VM=I($1,J1),GM=B(X1,Q1);var Fu={};F(Fu,{error:()=>nS,method:()=>eS,params:()=>tS,request:()=>ZM,response:()=>YM,result:()=>rS});l();var eS=i.literal("eth_sendTransaction"),tS=i.tuple([Nn]),rS=be,nS=k,ZM=I(eS,tS),YM=B(rS,nS);var ju={};F(ju,{error:()=>aS,method:()=>oS,params:()=>sS,request:()=>$M,response:()=>JM,result:()=>iS});l();var oS=i.literal("eth_sign"),sS=i.tuple([xe,uo]),iS=qe,aS=k,$M=I(oS,sS),JM=B(iS,aS);var Hu={};F(Hu,{error:()=>fS,method:()=>cS,params:()=>uS,request:()=>XM,response:()=>QM,result:()=>pS});l();var cS=i.literal("eth_signTransaction"),uS=i.tuple([Nn]),pS=qe,fS=k,XM=I(cS,uS),QM=B(pS,fS);var Ku={};F(Ku,{error:()=>yS,method:()=>lS,params:()=>dS,request:()=>e8,response:()=>t8,result:()=>hS});l();var lS=i.literal("eth_signTypedData"),dS=i.tuple([Hd,xe]),hS=qe,yS=k,e8=I(lS,dS),t8=B(hS,yS);var Wu={};F(Wu,{error:()=>wS,method:()=>mS,params:()=>gS,request:()=>r8,response:()=>n8,result:()=>xS});l();var mS=i.literal("eth_signTypedData_v3"),gS=i.tuple([xe,i.string().transform((r,e)=>{try{let t=JSON.parse(r);return Dc.parse(t)}catch(t){return e.addIssue({code:i.ZodIssueCode.custom,message:"Invalid typed data:"+t.message,fatal:!0}),i.NEVER}}).or(Dc)]),xS=qe,wS=k,r8=I(mS,gS),n8=B(xS,wS);var Vu={};F(Vu,{error:()=>ES,method:()=>bS,params:()=>SS,request:()=>o8,response:()=>s8,result:()=>vS});l();var bS=i.literal("eth_signTypedData_v4"),SS=i.tuple([xe,i.string().transform((r,e)=>{try{let t=JSON.parse(r);return Fc.parse(t)}catch(t){return e.addIssue({code:i.ZodIssueCode.custom,message:"Invalid typed data:"+t.message,fatal:!0}),i.NEVER}}).or(Fc)]),vS=qe,ES=k,o8=I(bS,SS),s8=B(vS,ES);var Gu={};F(Gu,{error:()=>AS,method:()=>_S,params:()=>RS,request:()=>i8,response:()=>a8,result:()=>kS});l();var _S=i.literal("eth_subscribe"),RS=i.any(),kS=i.union([$e,i.object({result:gn,subscription:$e}),i.object({result:be,subscription:$e}),i.object({result:i.object({difficulty:$e,extraData:$e,gasLimit:$e,gasUsed:$e,logsBloom:$e,miner:xe,nonce:$e,number:$e,parentHash:be,receiptRoot:be,sha3Uncles:be,stateRoot:be,timestamp:$e,transactionsRoot:be}),subscription:$e}),i.object({result:mn,subscription:$e})]),AS=k,i8=I(_S,RS),a8=B(kS,AS);var Zu={};F(Zu,{error:()=>PS,method:()=>IS,params:()=>BS,request:()=>c8,response:()=>u8,result:()=>TS});l();var IS=i.literal("eth_syncing"),BS=i.tuple([]),TS=i.union([i.object({currentBlock:G,highestBlock:G,startingBlock:G}),i.literal(!1)]),PS=k,c8=I(IS,BS),u8=B(TS,PS);var Yu={};F(Yu,{error:()=>NS,method:()=>zS,params:()=>MS,request:()=>p8,response:()=>f8,result:()=>LS});l();var zS=i.literal("eth_uninstallFilter"),MS=i.tuple([G]),LS=i.boolean(),NS=k,p8=I(zS,MS),f8=B(LS,NS);var $u={};F($u,{error:()=>US,method:()=>CS,params:()=>OS,request:()=>l8,response:()=>d8,result:()=>qS});l();var CS=i.literal("eth_unsubscribe"),OS=i.any(),qS=i.boolean(),US=k,l8=I(CS,OS),d8=B(qS,US);var Ju={};F(Ju,{error:()=>HS,method:()=>DS,params:()=>FS,request:()=>h8,response:()=>y8,result:()=>jS});l();var DS=i.literal("net_listening"),FS=i.tuple([]),jS=i.boolean(),HS=k,h8=I(DS,FS),y8=B(jS,HS);var Xu={};F(Xu,{error:()=>GS,method:()=>KS,params:()=>WS,request:()=>m8,response:()=>g8,result:()=>VS});l();var KS=i.literal("net_version"),WS=i.tuple([]),VS=i.string(),GS=k,m8=I(KS,WS),g8=B(VS,GS);var Qu={};F(Qu,{error:()=>JS,method:()=>ZS,params:()=>YS,request:()=>x8,response:()=>w8,result:()=>$S});l();var ZS=i.literal("wallet_addEthereumChain"),YS=i.tuple([i.object({chainId:$e,chainName:i.string(),nativeCurrency:i.object({name:i.string(),symbol:i.string().refine(r=>{let{length:e}=r;return e>=2&&e<=6},{message:"Value is not a valid symbol."}),decimals:i.number()}),rpcUrls:i.array(i.string()),blockExplorerUrls:i.union([i.tuple([i.string()]),i.null()]).optional(),iconUrls:i.array(i.string()).optional()})]),$S=i.null(),JS=k,x8=I(ZS,YS),w8=B($S,JS);var ep={};F(ep,{error:()=>tv,method:()=>XS,params:()=>QS,request:()=>b8,response:()=>S8,result:()=>ev});l();var XS=i.literal("wallet_selectEthereumProvider"),QS=i.tuple([]),ev=ya,tv=k,b8=I(XS,QS),S8=B(ev,tv);var tp={};F(tp,{error:()=>sv,method:()=>rv,params:()=>nv,request:()=>v8,response:()=>E8,result:()=>ov});l();var rv=i.literal("wallet_switchEthereumChain"),nv=i.tuple([i.object({chainId:$e})]),ov=i.null(),sv=k,v8=I(rv,nv),E8=B(ov,sv);var rp={};F(rp,{error:()=>uv,method:()=>iv,params:()=>av,request:()=>_8,response:()=>R8,result:()=>cv});l();var iv=i.literal("wallet_watchAsset"),av=i.object({type:i.literal("ERC20"),options:i.object({address:xe,symbol:i.string(),decimals:i.number(),image:i.string()})}),cv=i.boolean(),uv=k,_8=I(iv,av),R8=B(cv,uv);var np={};F(np,{error:()=>dv,method:()=>pv,params:()=>fv,request:()=>k8,response:()=>A8,result:()=>lv});l();var pv=i.literal("web3_clientVersion"),fv=i.tuple([]),lv=i.string(),dv=k,k8=I(pv,fv),A8=B(lv,dv);var op={};F(op,{error:()=>gv,method:()=>hv,params:()=>yv,request:()=>I8,response:()=>B8,result:()=>mv});l();var hv=i.literal("web3_sha3"),yv=i.tuple([qe]),mv=qe,gv=k,I8=I(hv,yv),B8=B(mv,gv);var sp={};F(sp,{error:()=>Sv,method:()=>xv,params:()=>wv,request:()=>M8,response:()=>L8,result:()=>bv});l();var T8=i.record(i.string(),i.any()),P8=i.record(i.string(),T8),z8=i.object({parentCapability:i.string(),date:i.number().optional()}),xv=i.literal("wallet_requestPermissions"),wv=i.tuple([P8]),bv=i.array(z8),Sv=k,M8=I(xv,wv),L8=B(bv,Sv);var ip={};F(ip,{error:()=>Rv,method:()=>vv,params:()=>Ev,request:()=>O8,response:()=>q8,result:()=>_v});l();var N8=i.object({type:i.string(),value:i.any()}),C8=i.object({invoker:i.string().url(),parentCapability:i.string(),caveats:i.array(N8)}),vv=i.literal("wallet_getPermissions"),Ev=i.tuple([]),_v=i.array(C8),Rv=k,O8=I(vv,Ev),q8=B(_v,Rv);var Jt={};F(Jt,{phantom_accountChanged:()=>ap,phantom_chainChanged:()=>up,phantom_dappIcon:()=>pp,phantom_dappMeta:()=>fp,phantom_metaMaskOverrideSettingsChanged:()=>cp,phantom_trustRevoked:()=>lp});l();var ap={};F(ap,{method:()=>kv,notification:()=>U8,params:()=>Av});l();var kv=i.literal("phantom_accountChanged"),Av=i.object({evm:i.optional(xe),sol:i.optional(ma),btc:i.array(ks).optional(),sui:i.optional(As)}).nullish().default(null),U8=Ar(kv,Av);var cp={};F(cp,{method:()=>Iv,notification:()=>D8,params:()=>Bv});l();var Iv=i.literal("phantom_metaMaskOverrideSettingsChanged"),Bv=i.null(),D8=Ar(Iv,Bv);var up={};F(up,{method:()=>Tv,notification:()=>F8,params:()=>Pv});l();var Tv=i.literal("phantom_chainChanged"),Pv=i.object({evm:G}).nullish().default(null),F8=Ar(Tv,Pv);var pp={};F(pp,{method:()=>zv,notification:()=>j8,params:()=>Mv});l();var zv=i.literal("phantom_dappIcon"),Mv=i.string().nullish().default(null),j8=Ar(zv,Mv);var fp={};F(fp,{method:()=>Lv,notification:()=>H8,params:()=>Nv});l();var Lv=i.literal("phantom_dappMeta"),Nv=i.object({title:i.string(),url:i.string(),icons:i.object({href:i.string(),size:i.object({width:i.number(),height:i.number()})}).array()}),H8=Ar(Lv,Nv);var lp={};F(lp,{method:()=>Cv,notification:()=>K8,params:()=>Ov});l();var Cv=i.literal("phantom_trustRevoked"),Ov=i.object({evm:i.optional(xe),sol:i.optional(ma),btc:i.array(ks).optional(),sui:i.optional(As)}).nullish().default(null),K8=Ar(Cv,Ov);l();var oh={};F(oh,{error:()=>Fv,method:()=>qv,params:()=>Uv,request:()=>W8,response:()=>V8,result:()=>Dv});l();var qv=i.literal("phantom_auto_confirm_enable"),Uv=i.object({chains:i.array(On).optional()}),Dv=i.object({enabled:i.boolean(),chains:i.array(On)}),Fv=k,W8=I(qv,Uv),V8=B(Dv,Fv);var sh={};F(sh,{error:()=>Wv,method:()=>jv,params:()=>Hv,request:()=>G8,response:()=>Z8,result:()=>Kv});l();var jv=i.literal("phantom_auto_confirm_disable"),Hv=i.object({}),Kv=i.object({enabled:i.boolean(),chains:i.array(On)}),Wv=k,G8=I(jv,Hv),Z8=B(Kv,Wv);var ih={};F(ih,{error:()=>Yv,method:()=>Vv,params:()=>Gv,request:()=>Y8,response:()=>$8,result:()=>Zv});l();var Vv=i.literal("phantom_auto_confirm_status"),Gv=i.object({}),Zv=i.object({enabled:i.boolean(),chains:i.array(On)}),Yv=k,Y8=I(Vv,Gv),$8=B(Zv,Yv);var ah={};F(ah,{error:()=>Qv,method:()=>$v,params:()=>Jv,request:()=>J8,response:()=>X8,result:()=>Xv});l();var $v=i.literal("phantom_auto_confirm_supported_chains"),Jv=i.object({}),Xv=i.object({chains:i.array(On)}),Qv=k,J8=I($v,Jv),X8=B(Xv,Qv);l();var ch={};F(ch,{error:()=>oE,method:()=>tE,params:()=>rE,path:()=>rL,request:()=>eL,response:()=>tL,result:()=>nE});l();l();function eE(r){try{let e=new URL(r);return!["javascript:","data:","vbscript:"].includes(e.protocol.toLowerCase())}catch{return!1}}var tE=i.literal("phantom_deep_link_browse"),rE=i.object({url:i.string().refine(r=>{try{let e=decodeURIComponent(r);return eE(e)}catch{return!1}},{message:"The browse URL is improperly encoded, uses an unsafe protocol (must be HTTP/HTTPS), or is otherwise invalid.",path:["url"]}),ref:i.string().optional()}),nE=i.null(),oE=k,eL=I(tE,rE),tL=B(nE,oE),rL="browse/:url";var uh={};F(uh,{error:()=>cE,method:()=>sE,params:()=>iE,request:()=>nL,response:()=>oL,result:()=>aE});l();var sE=i.literal("phantom_deep_link_swap"),iE=i.object({buy:i.string(),sell:i.string().optional(),amount:i.string().optional()}),aE=i.null(),cE=k,nL=I(sE,iE),oL=B(aE,cE);var ph={};F(ph,{error:()=>lE,method:()=>uE,params:()=>pE,request:()=>sL,response:()=>iL,result:()=>fE});l();var uE=i.literal("phantom_deep_link_fungible"),pE=i.object({token:i.string()}),fE=i.null(),lE=k,sL=I(uE,pE),iL=B(fE,lE);var fh={};F(fh,{error:()=>mE,method:()=>dE,params:()=>hE,path:()=>uL,request:()=>aL,response:()=>cL,result:()=>yE});l();var dE=i.literal("phantom_deep_link_user"),hE=i.object({username:i.string(),action:i.enum(["send"]).optional()}),yE=i.null(),mE=k,aL=I(dE,hE),cL=B(yE,mE),uL="user/:username{/:action}";var lh={};F(lh,{error:()=>bE,method:()=>gE,params:()=>xE,path:()=>lL,request:()=>pL,response:()=>fL,result:()=>wE});l();var gE=i.literal("phantom_deep_link_explore"),xE=i.object({route:i.string().optional()}),wE=i.null(),bE=k,pL=I(gE,xE),fL=B(wE,bE),lL="v1/explore{/:route}";var dh={};F(dh,{error:()=>_E,method:()=>SE,params:()=>vE,request:()=>dL,response:()=>hL,result:()=>EE});l();var SE=i.literal("phantom_deep_link_feature_flags"),vE=i.object({action:i.enum(["add"]).optional(),key:i.string().optional(),type:i.enum(["boolean","string","number","json"]).optional(),value:i.string().optional()}),EE=i.null(),_E=k,dL=I(SE,vE),hL=B(EE,_E);var hh={};F(hh,{error:()=>IE,method:()=>RE,params:()=>kE,path:()=>gL,request:()=>yL,response:()=>mL,result:()=>AE});l();var RE=i.literal("phantom_deep_link_notification_center"),kE=i.object({action:i.enum(["story","user","token"]).optional(),id:i.string().optional()}),AE=i.null(),IE=k,yL=I(RE,kE),mL=B(AE,IE),gL="v1/notification_center{/:action}{/:id}";var yh={};F(yh,{error:()=>zE,method:()=>BE,params:()=>TE,path:()=>bL,request:()=>xL,response:()=>wL,result:()=>PE});l();var BE=i.literal("phantom_deep_link_mint_psol_marketing"),TE=i.object({}),PE=i.null(),zE=k,xL=I(BE,TE),wL=B(PE,zE),bL="v1/mint_psol_marketing";var mh={};F(mh,{error:()=>CE,method:()=>ME,params:()=>LE,request:()=>SL,response:()=>vL,responsePayload:()=>EL,result:()=>NE});l();var ME=i.literal("phantom_deep_link_connect"),LE=i.object({app_url:Vc,dapp_encryption_public_key:xa,redirect_link:ba,cluster:Gc.optional()}),NE=i.object({phantom_encryption_public_key:Wc,nonce:di,data:wa}),CE=k,SL=I(ME,LE),vL=B(NE,CE),EL=i.object({public_key:ue,session:ue});var gh={};F(gh,{error:()=>DE,method:()=>OE,params:()=>qE,request:()=>_L,requestPayload:()=>kL,response:()=>RL,result:()=>UE});l();var OE=i.literal("phantom_deep_link_disconnect"),qE=Or,UE=i.null(),DE=k,_L=I(OE,qE),RL=B(UE,DE),kL=i.object({session:ue});var xh={};F(xh,{error:()=>KE,method:()=>FE,params:()=>jE,request:()=>AL,requestPayload:()=>BL,response:()=>IL,responsePayload:()=>TL,result:()=>HE});l();var FE=i.literal("phantom_deep_link_signMessage"),jE=Or,HE=xn,KE=k,AL=I(FE,jE),IL=B(HE,KE),BL=i.object({session:ue,message:ue,display:i.union([i.literal("utf8"),i.literal("hex")]).optional()}),TL=i.object({signature:ue,publicKey:ue});var wh={};F(wh,{error:()=>ZE,method:()=>WE,params:()=>VE,request:()=>PL,requestPayload:()=>ML,response:()=>zL,responsePayload:()=>LL,result:()=>GE});l();var WE=i.literal("phantom_deep_link_signIn"),VE=i.object({app_url:Vc,dapp_encryption_public_key:xa,redirect_link:ba,cluster:Gc.optional(),payload:Yd}),GE=i.object({phantom_encryption_public_key:Wc,nonce:di,data:wa}),ZE=k,PL=I(WE,VE),zL=B(GE,ZE),ML=Is,LL=i.object({address:ue,signedMessage:ue,signature:ue,session:ue});var bh={};F(bh,{error:()=>XE,method:()=>YE,params:()=>$E,request:()=>NL,requestPayload:()=>OL,response:()=>CL,responsePayload:()=>qL,result:()=>JE});l();var YE=i.literal("phantom_deep_link_signTransaction"),$E=Or,JE=xn,XE=k,NL=I(YE,$E),CL=B(JE,XE),OL=i.object({session:ue,transaction:ue}),qL=i.object({transaction:ue});var Sh={};F(Sh,{error:()=>r_,method:()=>QE,params:()=>e_,request:()=>UL,requestPayload:()=>FL,response:()=>DL,responsePayload:()=>jL,result:()=>t_});l();var QE=i.literal("phantom_deep_link_signAllTransactions"),e_=Or,t_=xn,r_=k,UL=I(QE,e_),DL=B(t_,r_),FL=i.object({session:ue,transactions:i.array(ue)}),jL=i.object({transactions:i.array(ue)});var vh={};F(vh,{error:()=>i_,method:()=>n_,params:()=>o_,request:()=>HL,requestPayload:()=>WL,response:()=>KL,responsePayload:()=>VL,result:()=>s_});l();var n_=i.literal("phantom_deep_link_signAndSendTransaction"),o_=Or,s_=xn,i_=k,HL=I(n_,o_),KL=B(s_,i_),WL=i.object({session:ue,transaction:ue,sendOptions:qn.optional()}),VL=i.object({signature:ue});var Eh={};F(Eh,{error:()=>p_,method:()=>a_,params:()=>c_,request:()=>GL,requestPayload:()=>YL,response:()=>ZL,responsePayload:()=>$L,result:()=>u_});l();var a_=i.literal("phantom_deep_link_signAndSendAllTransactions"),c_=Or,u_=xn,p_=k,GL=I(a_,c_),ZL=B(u_,p_),YL=i.object({session:ue,transactions:i.array(ue),sendOptions:qn.optional()}),$L=i.object({signatures:i.array(i.union([ue,i.null()]))});var _h={};F(_h,{error:()=>h_,method:()=>f_,params:()=>l_,path:()=>QL,request:()=>JL,response:()=>XL,result:()=>d_});l();var f_=i.literal("phantom_deep_link_tokens"),l_=i.object({chain:i.string(),address:i.string().optional(),referralId:i.string().optional()}),d_=i.null(),h_=k,JL=I(f_,l_),XL=B(d_,h_),QL="tokens/:chain{/:address}";var Rh={};F(Rh,{error:()=>x_,method:()=>y_,params:()=>m_,request:()=>eN,response:()=>tN,result:()=>g_});l();var y_=i.literal("phantom_deep_link_onboard"),m_=i.object({value:i.string().optional(),accounts:i.string().optional()}),g_=i.null(),x_=k,eN=I(y_,m_),tN=B(g_,x_);var kh={};F(kh,{error:()=>v_,method:()=>w_,params:()=>b_,request:()=>rN,response:()=>nN,result:()=>S_});l();var w_=i.literal("phantom_deep_link_onramp"),b_=i.object({buy:i.string(),amount:i.string().optional(),redirectURL:i.string().url().optional()}),S_=i.null(),v_=k,rN=I(w_,b_),nN=B(S_,v_);var Ah={};F(Ah,{error:()=>k_,method:()=>E_,params:()=>__,request:()=>oN,response:()=>sN,result:()=>R_});l();var E_=i.literal("phantom_deep_link_navigate"),__=i.object({route:i.string(),params:i.any().optional()}),R_=i.null(),k_=k,oN=I(E_,__),sN=B(R_,k_);var Ih={};F(Ih,{error:()=>T_,method:()=>A_,params:()=>I_,path:()=>cN,request:()=>iN,response:()=>aN,result:()=>B_});l();var A_=i.literal("phantom_deep_link_social"),I_=i.object({}),B_=i.null(),T_=k,iN=I(A_,I_),aN=B(B_,T_),cN="social";var Bh={};F(Bh,{error:()=>L_,method:()=>P_,params:()=>z_,path:()=>fN,request:()=>uN,response:()=>pN,result:()=>M_});l();var P_=i.literal("phantom_deep_link_perps"),z_=i.object({marketId:i.string().optional()}),M_=i.null(),L_=k,uN=I(P_,z_),pN=B(M_,L_),fN="v1/perps";var Th={};F(Th,{error:()=>q_,method:()=>N_,params:()=>C_,path:()=>hN,request:()=>lN,response:()=>dN,result:()=>O_});l();var N_=i.literal("phantom_deep_link_cash"),C_=i.object({referralCode:i.string().optional()}),O_=i.null(),q_=k,lN=I(N_,C_),dN=B(O_,q_),hN="v1/cash";var Ph={};F(Ph,{error:()=>j_,method:()=>U_,params:()=>D_,path:()=>gN,request:()=>yN,response:()=>mN,result:()=>F_});l();var U_=i.literal("phantom_deep_link_token_chat"),D_=i.object({caip19:i.string()}),F_=i.null(),j_=k,yN=I(U_,D_),mN=B(F_,j_),gN="v1/token_chat/:caip19";var zh={};F(zh,{error:()=>V_,method:()=>H_,params:()=>K_,path:()=>bN,request:()=>xN,response:()=>wN,result:()=>W_});l();var H_=i.literal("phantom_deep_link_feedback_perps"),K_=i.object({}),W_=i.null(),V_=k,xN=I(H_,K_),wN=B(W_,V_),bN="feedback/perps";var Mh={};F(Mh,{error:()=>$_,method:()=>G_,params:()=>Z_,path:()=>EN,request:()=>SN,response:()=>vN,result:()=>Y_});l();var G_=i.literal("phantom_deep_link_convert_stake_account"),Z_=i.object({stakeAddress:i.string()}),Y_=i.null(),$_=k,SN=I(G_,Z_),vN=B(Y_,$_),EN="v1/convert_stake_account{/:stakeAddress}";l();var Lh={};F(Lh,{error:()=>rR,method:()=>Q_,params:()=>eR,request:()=>RN,response:()=>kN,result:()=>tR});l();l();var J_=(u=>(u.BitcoinTaproot="bip122_p2tr",u.BitcoinNativeSegwit="bip122_p2wpkh",u.BitcoinNestedSegwit="bip122_p2sh",u.BitcoinLegacy="bip122_p2pkh",u.Solana="solana",u.EVM="eip155",u.Sui="sui",u))(J_||{}),X_=i.object({type:i.nativeEnum(J_),address:i.string()});var Q_=i.literal("phantom_getUser"),eR=i.object({}),tR=i.object({addresses:i.array(X_)}).nullish().default(null),rR=k,RN=I(Q_,eR),kN=B(tR,rR);var Nh={};F(Nh,{error:()=>iR,method:()=>nR,params:()=>oR,request:()=>AN,response:()=>IN,result:()=>sR});l();var nR=i.literal("phantom_login"),oR=i.object({}),sR=i.null(),iR=k,AN=I(nR,oR),IN=B(sR,iR);var Ch={};F(Ch,{error:()=>pR,method:()=>aR,params:()=>cR,request:()=>BN,response:()=>TN,result:()=>uR});l();var aR=i.literal("phantom_logout"),cR=i.object({}),uR=i.null(),pR=k,BN=I(aR,cR),TN=B(uR,pR);var qr={};F(qr,{common:()=>Yc,sol_connect:()=>Sa,sol_disconnect:()=>dp,sol_signAllTransactions:()=>hp,sol_signAndSendAllTransactions:()=>va,sol_signAndSendTransaction:()=>yp,sol_signIn:()=>mp,sol_signMessage:()=>Ea,sol_signTransaction:()=>gp});l();var dp={};F(dp,{error:()=>hR,method:()=>fR,params:()=>lR,request:()=>zN,response:()=>MN,result:()=>dR});l();var fR=i.literal("sol_disconnect"),lR=fi.optional(),dR=i.null(),hR=k,zN=I(fR,lR),MN=B(dR,hR);var hp={};F(hp,{error:()=>xR,method:()=>yR,params:()=>mR,request:()=>LN,response:()=>NN,result:()=>gR});l();var yR=i.literal("sol_signAllTransactions"),mR=i.object({transactions:i.array(ue)}),gR=i.array(i.object({signature:i.string(),transaction:ue,version:i.union([i.literal("legacy"),i.number()])})),xR=k,LN=I(yR,mR),NN=B(gR,xR);var yp={};F(yp,{error:()=>vR,method:()=>wR,params:()=>bR,request:()=>CN,response:()=>ON,result:()=>SR});l();var wR=i.literal("sol_signAndSendTransaction"),bR=i.object({transaction:ue,options:qn,showConfirmation:i.boolean().optional(),postAction:hi.optional(),isSharingEligible:i.boolean().optional()}),SR=i.object({signature:i.string(),publicKey:i.string()}),vR=k,CN=I(wR,bR),ON=B(SR,vR);var mp={};F(mp,{error:()=>kR,method:()=>ER,params:()=>_R,request:()=>qN,response:()=>UN,result:()=>RR});l();var ER=i.literal("sol_signIn"),_R=i.object({signInData:Is}),RR=i.object({address:i.string(),signedMessage:i.string(),signature:i.string()}),kR=k,qN=I(ER,_R),UN=B(RR,kR);var gp={};F(gp,{error:()=>TR,method:()=>AR,params:()=>IR,request:()=>DN,response:()=>FN,result:()=>BR});l();var AR=i.literal("sol_signTransaction"),IR=i.object({transaction:ue,isSharingEligible:i.boolean().optional(),transactionSharingDelayMs:i.number().optional()}),BR=i.object({signature:i.string(),transaction:ue,version:i.union([i.literal("legacy"),i.number()])}),TR=k,DN=I(AR,IR),FN=B(BR,TR);l();var Wh={};F(Wh,{error:()=>LR,method:()=>PR,params:()=>zR,request:()=>KN,response:()=>WN,result:()=>MR});l();l();var xp=i.object({identityName:i.string().nullish(),identityUri:i.string().nullish(),iconRelativeUri:i.string().nullish()}),jN=i.object({identity:xp,authorizationScope:i.string()}),wp=i.object({verifiableIdentity:jN,publicKey:i.string(),payloads:i.array(i.string())}),Oh=i.object({identity:xp,cluster:i.string().optional()}),qh=i.object({verifiableIdentity:xp}),Uh=i.object({signPayloads:wp,minContextSlot:i.number()}),Dh=i.object({signPayloads:wp}),Fh=i.object({signPayloads:wp}),CZ=i.union([Oh,qh,Uh,Dh,Fh]),jh=i.union([i.object({type:i.literal("AUTHORIZE_SUCCESS"),publicKey:i.string(),accountLabel:i.string().optional(),walletUriBase:i.string().optional(),scope:i.string().optional()}),i.object({type:i.literal("AUTHORIZE_DECLINE")})]),Hh=i.union([i.object({type:i.literal("REAUTHORIZE_SUCCESS")}),i.object({type:i.literal("REAUTHORIZE_DECLINE")})]),_a=i.union([i.object({type:i.literal("SIGN_PAYLOADS_SUCCESS"),signedPayloads:i.array(i.string())}),i.object({type:i.literal("SIGN_PAYLOADS_DECLINE")}),i.object({type:i.literal("SIGN_PAYLOADS_ERROR_INVALID_PAYLOADS"),valid:i.array(i.boolean())}),i.object({type:i.literal("SIGN_PAYLOADS_ERROR_AUTHORIZATION_NOT_VALID")}),i.object({type:i.literal("SIGN_PAYLOADS_ERROR_TOO_MANY_PAYLOADS")})]),Kh=i.union([i.object({type:i.literal("SIGN_AND_SEND_TRANSACTIONS_SUCCESS"),signedPayloads:i.array(i.string())}),i.object({type:i.literal("SIGN_AND_SEND_TRANSACTIONS_DECLINE")}),i.object({type:i.literal("SIGN_AND_SEND_TRANSACTIONS_ERROR_INVALID_PAYLOADS"),valid:i.array(i.boolean())}),i.object({type:i.literal("SIGN_AND_SEND_TRANSACTIONS_ERROR_NOT_SUBMITTED"),signatures:i.array(i.string())}),i.object({type:i.literal("SIGN_AND_SEND_TRANSACTIONS_ERROR_TOO_MANY_PAYLOADS")}),i.object({type:i.literal("SIGN_AND_SEND_TRANSACTIONS_ERROR_AUTHORIZATION_NOT_VALID")})]),HN=i.union([jh,Hh,_a,Kh]);var PR=i.literal("sol_mwa_authorize"),zR=Oh,MR=jh,LR=k,KN=I(PR,zR),WN=B(MR,LR);var Vh={};F(Vh,{error:()=>qR,method:()=>NR,params:()=>CR,request:()=>VN,response:()=>GN,result:()=>OR});l();var NR=i.literal("sol_mwa_reauthorize"),CR=qh,OR=Hh,qR=k,VN=I(NR,CR),GN=B(OR,qR);var Gh={};F(Gh,{error:()=>jR,method:()=>UR,params:()=>DR,request:()=>ZN,response:()=>YN,result:()=>FR});l();var UR=i.literal("sol_mwa_sign_transactions"),DR=Dh,FR=_a,jR=k,ZN=I(UR,DR),YN=B(FR,jR);var Zh={};F(Zh,{error:()=>VR,method:()=>HR,params:()=>KR,request:()=>$N,response:()=>JN,result:()=>WR});l();var HR=i.literal("sol_mwa_sign_messages"),KR=Fh,WR=_a,VR=k,$N=I(HR,KR),JN=B(WR,VR);var Yh={};F(Yh,{error:()=>$R,method:()=>GR,params:()=>ZR,request:()=>XN,response:()=>QN,result:()=>YR});l();var GR=i.literal("sol_mwa_sign_and_send_transactions"),ZR=Uh,YR=Kh,$R=k,XN=I(GR,ZR),QN=B(YR,$R);l();var Qh={};F(Qh,{error:()=>nk,method:()=>ek,params:()=>tk,request:()=>r4,response:()=>n4,result:()=>rk});l();l();var t4=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,$h=Math.ceil,wn=Math.floor,Sr="[BigNumber Error] ",JR=Sr+"Number primitive has more than 15 significant digits: ",Jr=1e14,Le=14,Jh=9007199254740991,Xh=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],fo=1e7,Zt=1e9;function XR(r){var e,t,n,o=W.prototype={constructor:W,toString:null,valueOf:null},s=new W(1),a=20,u=4,f=-7,g=21,b=-1e7,S=1e7,O=!1,C=1,V=0,J={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},$="0123456789abcdefghijklmnopqrstuvwxyz",pe=!0;function W(_,P){var N,D,z,m,c,p,h,y,x=this;if(!(x instanceof W))return new W(_,P);if(P==null){if(_&&_._isBigNumber===!0){x.s=_.s,!_.c||_.e>S?x.c=x.e=null:_.e<b?x.c=[x.e=0]:(x.e=_.e,x.c=_.c.slice());return}if((p=typeof _=="number")&&_*0==0){if(x.s=1/_<0?(_=-_,-1):1,_===~~_){for(m=0,c=_;c>=10;c/=10,m++);m>S?x.c=x.e=null:(x.e=m,x.c=[_]);return}y=String(_)}else{if(!t4.test(y=String(_)))return n(x,y,p);x.s=y.charCodeAt(0)==45?(y=y.slice(1),-1):1}(m=y.indexOf("."))>-1&&(y=y.replace(".","")),(c=y.search(/e/i))>0?(m<0&&(m=c),m+=+y.slice(c+1),y=y.substring(0,c)):m<0&&(m=y.length)}else{if(Ut(P,2,$.length,"Base"),P==10&&pe)return x=new W(_),Ae(x,a+x.e+1,u);if(y=String(_),p=typeof _=="number"){if(_*0!=0)return n(x,y,p,P);if(x.s=1/_<0?(y=y.slice(1),-1):1,W.DEBUG&&y.replace(/^0\.0*|\./,"").length>15)throw Error(JR+_)}else x.s=y.charCodeAt(0)===45?(y=y.slice(1),-1):1;for(N=$.slice(0,P),m=c=0,h=y.length;c<h;c++)if(N.indexOf(D=y.charAt(c))<0){if(D=="."){if(c>m){m=h;continue}}else if(!z&&(y==y.toUpperCase()&&(y=y.toLowerCase())||y==y.toLowerCase()&&(y=y.toUpperCase()))){z=!0,c=-1,m=0;continue}return n(x,String(_),p,P)}p=!1,y=t(y,P,10,x.s),(m=y.indexOf("."))>-1?y=y.replace(".",""):m=y.length}for(c=0;y.charCodeAt(c)===48;c++);for(h=y.length;y.charCodeAt(--h)===48;);if(y=y.slice(c,++h)){if(h-=c,p&&W.DEBUG&&h>15&&(_>Jh||_!==wn(_)))throw Error(JR+x.s*_);if((m=m-c-1)>S)x.c=x.e=null;else if(m<b)x.c=[x.e=0];else{if(x.e=m,x.c=[],c=(m+1)%Le,m<0&&(c+=Le),c<h){for(c&&x.c.push(+y.slice(0,c)),h-=Le;c<h;)x.c.push(+y.slice(c,c+=Le));c=Le-(y=y.slice(c)).length}else c-=h;for(;c--;y+="0");x.c.push(+y)}}else x.c=[x.e=0]}W.clone=XR,W.ROUND_UP=0,W.ROUND_DOWN=1,W.ROUND_CEIL=2,W.ROUND_FLOOR=3,W.ROUND_HALF_UP=4,W.ROUND_HALF_DOWN=5,W.ROUND_HALF_EVEN=6,W.ROUND_HALF_CEIL=7,W.ROUND_HALF_FLOOR=8,W.EUCLID=9,W.config=W.set=function(_){var P,N;if(_!=null)if(typeof _=="object"){if(_.hasOwnProperty(P="DECIMAL_PLACES")&&(N=_[P],Ut(N,0,Zt,P),a=N),_.hasOwnProperty(P="ROUNDING_MODE")&&(N=_[P],Ut(N,0,8,P),u=N),_.hasOwnProperty(P="EXPONENTIAL_AT")&&(N=_[P],N&&N.pop?(Ut(N[0],-Zt,0,P),Ut(N[1],0,Zt,P),f=N[0],g=N[1]):(Ut(N,-Zt,Zt,P),f=-(g=N<0?-N:N))),_.hasOwnProperty(P="RANGE"))if(N=_[P],N&&N.pop)Ut(N[0],-Zt,-1,P),Ut(N[1],1,Zt,P),b=N[0],S=N[1];else if(Ut(N,-Zt,Zt,P),N)b=-(S=N<0?-N:N);else throw Error(Sr+P+" cannot be zero: "+N);if(_.hasOwnProperty(P="CRYPTO"))if(N=_[P],N===!!N)if(N)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))O=N;else throw O=!N,Error(Sr+"crypto unavailable");else O=N;else throw Error(Sr+P+" not true or false: "+N);if(_.hasOwnProperty(P="MODULO_MODE")&&(N=_[P],Ut(N,0,9,P),C=N),_.hasOwnProperty(P="POW_PRECISION")&&(N=_[P],Ut(N,0,Zt,P),V=N),_.hasOwnProperty(P="FORMAT"))if(N=_[P],typeof N=="object")J=N;else throw Error(Sr+P+" not an object: "+N);if(_.hasOwnProperty(P="ALPHABET"))if(N=_[P],typeof N=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(N))pe=N.slice(0,10)=="0123456789",$=N;else throw Error(Sr+P+" invalid: "+N)}else throw Error(Sr+"Object expected: "+_);return{DECIMAL_PLACES:a,ROUNDING_MODE:u,EXPONENTIAL_AT:[f,g],RANGE:[b,S],CRYPTO:O,MODULO_MODE:C,POW_PRECISION:V,FORMAT:J,ALPHABET:$}},W.isBigNumber=function(_){if(!_||_._isBigNumber!==!0)return!1;if(!W.DEBUG)return!0;var P,N,D=_.c,z=_.e,m=_.s;e:if({}.toString.call(D)=="[object Array]"){if((m===1||m===-1)&&z>=-Zt&&z<=Zt&&z===wn(z)){if(D[0]===0){if(z===0&&D.length===1)return!0;break e}if(P=(z+1)%Le,P<1&&(P+=Le),String(D[0]).length==P){for(P=0;P<D.length;P++)if(N=D[P],N<0||N>=Jr||N!==wn(N))break e;if(N!==0)return!0}}}else if(D===null&&z===null&&(m===null||m===1||m===-1))return!0;throw Error(Sr+"Invalid BigNumber: "+_)},W.maximum=W.max=function(){return Pe(arguments,o.lt)},W.minimum=W.min=function(){return Pe(arguments,o.gt)},W.random=function(){var _=9007199254740992,P=Math.random()*_&2097151?function(){return wn(Math.random()*_)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(N){var D,z,m,c,p,h=0,y=[],x=new W(s);if(N==null?N=a:Ut(N,0,Zt),c=$h(N/Le),O)if(crypto.getRandomValues){for(D=crypto.getRandomValues(new Uint32Array(c*=2));h<c;)p=D[h]*131072+(D[h+1]>>>11),p>=9e15?(z=crypto.getRandomValues(new Uint32Array(2)),D[h]=z[0],D[h+1]=z[1]):(y.push(p%1e14),h+=2);h=c/2}else if(crypto.randomBytes){for(D=crypto.randomBytes(c*=7);h<c;)p=(D[h]&31)*281474976710656+D[h+1]*1099511627776+D[h+2]*4294967296+D[h+3]*16777216+(D[h+4]<<16)+(D[h+5]<<8)+D[h+6],p>=9e15?crypto.randomBytes(7).copy(D,h):(y.push(p%1e14),h+=7);h=c/7}else throw O=!1,Error(Sr+"crypto unavailable");if(!O)for(;h<c;)p=P(),p<9e15&&(y[h++]=p%1e14);for(c=y[--h],N%=Le,c&&N&&(p=Xh[Le-N],y[h]=wn(c/p)*p);y[h]===0;y.pop(),h--);if(h<0)y=[m=0];else{for(m=-1;y[0]===0;y.splice(0,1),m-=Le);for(h=1,p=y[0];p>=10;p/=10,h++);h<Le&&(m-=Le-h)}return x.e=m,x.c=y,x}}(),W.sum=function(){for(var _=1,P=arguments,N=new W(P[0]);_<P.length;)N=N.plus(P[_++]);return N},t=function(){var _="0123456789";function P(N,D,z,m){for(var c,p=[0],h,y=0,x=N.length;y<x;){for(h=p.length;h--;p[h]*=D);for(p[0]+=m.indexOf(N.charAt(y++)),c=0;c<p.length;c++)p[c]>z-1&&(p[c+1]==null&&(p[c+1]=0),p[c+1]+=p[c]/z|0,p[c]%=z)}return p.reverse()}return function(N,D,z,m,c){var p,h,y,x,E,M,v,d,T=N.indexOf("."),ne=a,w=u;for(T>=0&&(x=V,V=0,N=N.replace(".",""),d=new W(D),M=d.pow(N.length-T),V=x,d.c=P(Un(Ur(M.c),M.e,"0"),10,z,_),d.e=d.c.length),v=P(N,D,z,c?(p=$,_):(p=_,$)),y=x=v.length;v[--x]==0;v.pop());if(!v[0])return p.charAt(0);if(T<0?--y:(M.c=v,M.e=y,M.s=m,M=e(M,d,ne,w,z),v=M.c,E=M.r,y=M.e),h=y+ne+1,T=v[h],x=z/2,E=E||h<0||v[h+1]!=null,E=w<4?(T!=null||E)&&(w==0||w==(M.s<0?3:2)):T>x||T==x&&(w==4||E||w==6&&v[h-1]&1||w==(M.s<0?8:7)),h<1||!v[0])N=E?Un(p.charAt(1),-ne,p.charAt(0)):p.charAt(0);else{if(v.length=h,E)for(--z;++v[--h]>z;)v[h]=0,h||(++y,v=[1].concat(v));for(x=v.length;!v[--x];);for(T=0,N="";T<=x;N+=p.charAt(v[T++]));N=Un(N,y,p.charAt(0))}return N}}(),e=function(){function _(D,z,m){var c,p,h,y,x=0,E=D.length,M=z%fo,v=z/fo|0;for(D=D.slice();E--;)h=D[E]%fo,y=D[E]/fo|0,c=v*h+y*M,p=M*h+c%fo*fo+x,x=(p/m|0)+(c/fo|0)+v*y,D[E]=p%m;return x&&(D=[x].concat(D)),D}function P(D,z,m,c){var p,h;if(m!=c)h=m>c?1:-1;else for(p=h=0;p<m;p++)if(D[p]!=z[p]){h=D[p]>z[p]?1:-1;break}return h}function N(D,z,m,c){for(var p=0;m--;)D[m]-=p,p=D[m]<z[m]?1:0,D[m]=p*c+D[m]-z[m];for(;!D[0]&&D.length>1;D.splice(0,1));}return function(D,z,m,c,p){var h,y,x,E,M,v,d,T,ne,w,U,j,X,re,ge,oe,ie,De=D.s==z.s?1:-1,ae=D.c,he=z.c;if(!ae||!ae[0]||!he||!he[0])return new W(!D.s||!z.s||(ae?he&&ae[0]==he[0]:!he)?NaN:ae&&ae[0]==0||!he?De*0:De/0);for(T=new W(De),ne=T.c=[],y=D.e-z.e,De=m+y+1,p||(p=Jr,y=Dr(D.e/Le)-Dr(z.e/Le),De=De/Le|0),x=0;he[x]==(ae[x]||0);x++);if(he[x]>(ae[x]||0)&&y--,De<0)ne.push(1),E=!0;else{for(re=ae.length,oe=he.length,x=0,De+=2,M=wn(p/(he[0]+1)),M>1&&(he=_(he,M,p),ae=_(ae,M,p),oe=he.length,re=ae.length),X=oe,w=ae.slice(0,oe),U=w.length;U<oe;w[U++]=0);ie=he.slice(),ie=[0].concat(ie),ge=he[0],he[1]>=p/2&&ge++;do{if(M=0,h=P(he,w,oe,U),h<0){if(j=w[0],oe!=U&&(j=j*p+(w[1]||0)),M=wn(j/ge),M>1)for(M>=p&&(M=p-1),v=_(he,M,p),d=v.length,U=w.length;P(v,w,d,U)==1;)M--,N(v,oe<d?ie:he,d,p),d=v.length,h=1;else M==0&&(h=M=1),v=he.slice(),d=v.length;if(d<U&&(v=[0].concat(v)),N(w,v,U,p),U=w.length,h==-1)for(;P(he,w,oe,U)<1;)M++,N(w,oe<U?ie:he,U,p),U=w.length}else h===0&&(M++,w=[0]);ne[x++]=M,w[0]?w[U++]=ae[X]||0:(w=[ae[X]],U=1)}while((X++<re||w[0]!=null)&&De--);E=w[0]!=null,ne[0]||ne.splice(0,1)}if(p==Jr){for(x=1,De=ne[0];De>=10;De/=10,x++);Ae(T,m+(T.e=x+y*Le-1)+1,c,E)}else T.e=y,T.r=+E;return T}}();function we(_,P,N,D){var z,m,c,p,h;if(N==null?N=u:Ut(N,0,8),!_.c)return _.toString();if(z=_.c[0],c=_.e,P==null)h=Ur(_.c),h=D==1||D==2&&(c<=f||c>=g)?Sp(h,c):Un(h,c,"0");else if(_=Ae(new W(_),P,N),m=_.e,h=Ur(_.c),p=h.length,D==1||D==2&&(P<=m||m<=f)){for(;p<P;h+="0",p++);h=Sp(h,m)}else if(P-=c,h=Un(h,m,"0"),m+1>p){if(--P>0)for(h+=".";P--;h+="0");}else if(P+=m-p,P>0)for(m+1==p&&(h+=".");P--;h+="0");return _.s<0&&z?"-"+h:h}function Pe(_,P){for(var N,D=1,z=new W(_[0]);D<_.length;D++)if(N=new W(_[D]),N.s)P.call(z,N)&&(z=N);else{z=N;break}return z}function Oe(_,P,N){for(var D=1,z=P.length;!P[--z];P.pop());for(z=P[0];z>=10;z/=10,D++);return(N=D+N*Le-1)>S?_.c=_.e=null:N<b?_.c=[_.e=0]:(_.e=N,_.c=P),_}n=function(){var _=/^(-?)0([xbo])(?=\w[\w.]*$)/i,P=/^([^.]+)\.$/,N=/^\.([^.]+)$/,D=/^-?(Infinity|NaN)$/,z=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(m,c,p,h){var y,x=p?c:c.replace(z,"");if(D.test(x))m.s=isNaN(x)?null:x<0?-1:1;else{if(!p&&(x=x.replace(_,function(E,M,v){return y=(v=v.toLowerCase())=="x"?16:v=="b"?2:8,!h||h==y?M:E}),h&&(y=h,x=x.replace(P,"$1").replace(N,"0.$1")),c!=x))return new W(x,y);if(W.DEBUG)throw Error(Sr+"Not a"+(h?" base "+h:"")+" number: "+c);m.s=null}m.c=m.e=null}}();function Ae(_,P,N,D){var z,m,c,p,h,y,x,E=_.c,M=Xh;if(E){e:{for(z=1,p=E[0];p>=10;p/=10,z++);if(m=P-z,m<0)m+=Le,c=P,h=E[y=0],x=h/M[z-c-1]%10|0;else if(y=$h((m+1)/Le),y>=E.length)if(D){for(;E.length<=y;E.push(0));h=x=0,z=1,m%=Le,c=m-Le+1}else break e;else{for(h=p=E[y],z=1;p>=10;p/=10,z++);m%=Le,c=m-Le+z,x=c<0?0:h/M[z-c-1]%10|0}if(D=D||P<0||E[y+1]!=null||(c<0?h:h%M[z-c-1]),D=N<4?(x||D)&&(N==0||N==(_.s<0?3:2)):x>5||x==5&&(N==4||D||N==6&&(m>0?c>0?h/M[z-c]:0:E[y-1])%10&1||N==(_.s<0?8:7)),P<1||!E[0])return E.length=0,D?(P-=_.e+1,E[0]=M[(Le-P%Le)%Le],_.e=-P||0):E[0]=_.e=0,_;if(m==0?(E.length=y,p=1,y--):(E.length=y+1,p=M[Le-m],E[y]=c>0?wn(h/M[z-c]%M[c])*p:0),D)for(;;)if(y==0){for(m=1,c=E[0];c>=10;c/=10,m++);for(c=E[0]+=p,p=1;c>=10;c/=10,p++);m!=p&&(_.e++,E[0]==Jr&&(E[0]=1));break}else{if(E[y]+=p,E[y]!=Jr)break;E[y--]=0,p=1}for(m=E.length;E[--m]===0;E.pop());}_.e>S?_.c=_.e=null:_.e<b&&(_.c=[_.e=0])}return _}function He(_){var P,N=_.e;return N===null?_.toString():(P=Ur(_.c),P=N<=f||N>=g?Sp(P,N):Un(P,N,"0"),_.s<0?"-"+P:P)}return o.absoluteValue=o.abs=function(){var _=new W(this);return _.s<0&&(_.s=1),_},o.comparedTo=function(_,P){return mi(this,new W(_,P))},o.decimalPlaces=o.dp=function(_,P){var N,D,z,m=this;if(_!=null)return Ut(_,0,Zt),P==null?P=u:Ut(P,0,8),Ae(new W(m),_+m.e+1,P);if(!(N=m.c))return null;if(D=((z=N.length-1)-Dr(this.e/Le))*Le,z=N[z])for(;z%10==0;z/=10,D--);return D<0&&(D=0),D},o.dividedBy=o.div=function(_,P){return e(this,new W(_,P),a,u)},o.dividedToIntegerBy=o.idiv=function(_,P){return e(this,new W(_,P),0,1)},o.exponentiatedBy=o.pow=function(_,P){var N,D,z,m,c,p,h,y,x,E=this;if(_=new W(_),_.c&&!_.isInteger())throw Error(Sr+"Exponent not an integer: "+He(_));if(P!=null&&(P=new W(P)),p=_.e>14,!E.c||!E.c[0]||E.c[0]==1&&!E.e&&E.c.length==1||!_.c||!_.c[0])return x=new W(Math.pow(+He(E),p?_.s*(2-bp(_)):+He(_))),P?x.mod(P):x;if(h=_.s<0,P){if(P.c?!P.c[0]:!P.s)return new W(NaN);D=!h&&E.isInteger()&&P.isInteger(),D&&(E=E.mod(P))}else{if(_.e>9&&(E.e>0||E.e<-1||(E.e==0?E.c[0]>1||p&&E.c[1]>=24e7:E.c[0]<8e13||p&&E.c[0]<=9999975e7)))return m=E.s<0&&bp(_)?-0:0,E.e>-1&&(m=1/m),new W(h?1/m:m);V&&(m=$h(V/Le+2))}for(p?(N=new W(.5),h&&(_.s=1),y=bp(_)):(z=Math.abs(+He(_)),y=z%2),x=new W(s);;){if(y){if(x=x.times(E),!x.c)break;m?x.c.length>m&&(x.c.length=m):D&&(x=x.mod(P))}if(z){if(z=wn(z/2),z===0)break;y=z%2}else if(_=_.times(N),Ae(_,_.e+1,1),_.e>14)y=bp(_);else{if(z=+He(_),z===0)break;y=z%2}E=E.times(E),m?E.c&&E.c.length>m&&(E.c.length=m):D&&(E=E.mod(P))}return D?x:(h&&(x=s.div(x)),P?x.mod(P):m?Ae(x,V,u,c):x)},o.integerValue=function(_){var P=new W(this);return _==null?_=u:Ut(_,0,8),Ae(P,P.e+1,_)},o.isEqualTo=o.eq=function(_,P){return mi(this,new W(_,P))===0},o.isFinite=function(){return!!this.c},o.isGreaterThan=o.gt=function(_,P){return mi(this,new W(_,P))>0},o.isGreaterThanOrEqualTo=o.gte=function(_,P){return(P=mi(this,new W(_,P)))===1||P===0},o.isInteger=function(){return!!this.c&&Dr(this.e/Le)>this.c.length-2},o.isLessThan=o.lt=function(_,P){return mi(this,new W(_,P))<0},o.isLessThanOrEqualTo=o.lte=function(_,P){return(P=mi(this,new W(_,P)))===-1||P===0},o.isNaN=function(){return!this.s},o.isNegative=function(){return this.s<0},o.isPositive=function(){return this.s>0},o.isZero=function(){return!!this.c&&this.c[0]==0},o.minus=function(_,P){var N,D,z,m,c=this,p=c.s;if(_=new W(_,P),P=_.s,!p||!P)return new W(NaN);if(p!=P)return _.s=-P,c.plus(_);var h=c.e/Le,y=_.e/Le,x=c.c,E=_.c;if(!h||!y){if(!x||!E)return x?(_.s=-P,_):new W(E?c:NaN);if(!x[0]||!E[0])return E[0]?(_.s=-P,_):new W(x[0]?c:u==3?-0:0)}if(h=Dr(h),y=Dr(y),x=x.slice(),p=h-y){for((m=p<0)?(p=-p,z=x):(y=h,z=E),z.reverse(),P=p;P--;z.push(0));z.reverse()}else for(D=(m=(p=x.length)<(P=E.length))?p:P,p=P=0;P<D;P++)if(x[P]!=E[P]){m=x[P]<E[P];break}if(m&&(z=x,x=E,E=z,_.s=-_.s),P=(D=E.length)-(N=x.length),P>0)for(;P--;x[N++]=0);for(P=Jr-1;D>p;){if(x[--D]<E[D]){for(N=D;N&&!x[--N];x[N]=P);--x[N],x[D]+=Jr}x[D]-=E[D]}for(;x[0]==0;x.splice(0,1),--y);return x[0]?Oe(_,x,y):(_.s=u==3?-1:1,_.c=[_.e=0],_)},o.modulo=o.mod=function(_,P){var N,D,z=this;return _=new W(_,P),!z.c||!_.s||_.c&&!_.c[0]?new W(NaN):!_.c||z.c&&!z.c[0]?new W(z):(C==9?(D=_.s,_.s=1,N=e(z,_,0,3),_.s=D,N.s*=D):N=e(z,_,0,C),_=z.minus(N.times(_)),!_.c[0]&&C==1&&(_.s=z.s),_)},o.multipliedBy=o.times=function(_,P){var N,D,z,m,c,p,h,y,x,E,M,v,d,T,ne,w=this,U=w.c,j=(_=new W(_,P)).c;if(!U||!j||!U[0]||!j[0])return!w.s||!_.s||U&&!U[0]&&!j||j&&!j[0]&&!U?_.c=_.e=_.s=null:(_.s*=w.s,!U||!j?_.c=_.e=null:(_.c=[0],_.e=0)),_;for(D=Dr(w.e/Le)+Dr(_.e/Le),_.s*=w.s,h=U.length,E=j.length,h<E&&(d=U,U=j,j=d,z=h,h=E,E=z),z=h+E,d=[];z--;d.push(0));for(T=Jr,ne=fo,z=E;--z>=0;){for(N=0,M=j[z]%ne,v=j[z]/ne|0,c=h,m=z+c;m>z;)y=U[--c]%ne,x=U[c]/ne|0,p=v*y+x*M,y=M*y+p%ne*ne+d[m]+N,N=(y/T|0)+(p/ne|0)+v*x,d[m--]=y%T;d[m]=N}return N?++D:d.splice(0,1),Oe(_,d,D)},o.negated=function(){var _=new W(this);return _.s=-_.s||null,_},o.plus=function(_,P){var N,D=this,z=D.s;if(_=new W(_,P),P=_.s,!z||!P)return new W(NaN);if(z!=P)return _.s=-P,D.minus(_);var m=D.e/Le,c=_.e/Le,p=D.c,h=_.c;if(!m||!c){if(!p||!h)return new W(z/0);if(!p[0]||!h[0])return h[0]?_:new W(p[0]?D:z*0)}if(m=Dr(m),c=Dr(c),p=p.slice(),z=m-c){for(z>0?(c=m,N=h):(z=-z,N=p),N.reverse();z--;N.push(0));N.reverse()}for(z=p.length,P=h.length,z-P<0&&(N=h,h=p,p=N,P=z),z=0;P;)z=(p[--P]=p[P]+h[P]+z)/Jr|0,p[P]=Jr===p[P]?0:p[P]%Jr;return z&&(p=[z].concat(p),++c),Oe(_,p,c)},o.precision=o.sd=function(_,P){var N,D,z,m=this;if(_!=null&&_!==!!_)return Ut(_,1,Zt),P==null?P=u:Ut(P,0,8),Ae(new W(m),_,P);if(!(N=m.c))return null;if(z=N.length-1,D=z*Le+1,z=N[z]){for(;z%10==0;z/=10,D--);for(z=N[0];z>=10;z/=10,D++);}return _&&m.e+1>D&&(D=m.e+1),D},o.shiftedBy=function(_){return Ut(_,-Jh,Jh),this.times("1e"+_)},o.squareRoot=o.sqrt=function(){var _,P,N,D,z,m=this,c=m.c,p=m.s,h=m.e,y=a+4,x=new W("0.5");if(p!==1||!c||!c[0])return new W(!p||p<0&&(!c||c[0])?NaN:c?m:1/0);if(p=Math.sqrt(+He(m)),p==0||p==1/0?(P=Ur(c),(P.length+h)%2==0&&(P+="0"),p=Math.sqrt(+P),h=Dr((h+1)/2)-(h<0||h%2),p==1/0?P="5e"+h:(P=p.toExponential(),P=P.slice(0,P.indexOf("e")+1)+h),N=new W(P)):N=new W(p+""),N.c[0]){for(h=N.e,p=h+y,p<3&&(p=0);;)if(z=N,N=x.times(z.plus(e(m,z,y,1))),Ur(z.c).slice(0,p)===(P=Ur(N.c)).slice(0,p))if(N.e<h&&--p,P=P.slice(p-3,p+1),P=="9999"||!D&&P=="4999"){if(!D&&(Ae(z,z.e+a+2,0),z.times(z).eq(m))){N=z;break}y+=4,p+=4,D=1}else{(!+P||!+P.slice(1)&&P.charAt(0)=="5")&&(Ae(N,N.e+a+2,1),_=!N.times(N).eq(m));break}}return Ae(N,N.e+a+1,u,_)},o.toExponential=function(_,P){return _!=null&&(Ut(_,0,Zt),_++),we(this,_,P,1)},o.toFixed=function(_,P){return _!=null&&(Ut(_,0,Zt),_=_+this.e+1),we(this,_,P)},o.toFormat=function(_,P,N){var D,z=this;if(N==null)_!=null&&P&&typeof P=="object"?(N=P,P=null):_&&typeof _=="object"?(N=_,_=P=null):N=J;else if(typeof N!="object")throw Error(Sr+"Argument not an object: "+N);if(D=z.toFixed(_,P),z.c){var m,c=D.split("."),p=+N.groupSize,h=+N.secondaryGroupSize,y=N.groupSeparator||"",x=c[0],E=c[1],M=z.s<0,v=M?x.slice(1):x,d=v.length;if(h&&(m=p,p=h,h=m,d-=m),p>0&&d>0){for(m=d%p||p,x=v.substr(0,m);m<d;m+=p)x+=y+v.substr(m,p);h>0&&(x+=y+v.slice(m)),M&&(x="-"+x)}D=E?x+(N.decimalSeparator||"")+((h=+N.fractionGroupSize)?E.replace(new RegExp("\\d{"+h+"}\\B","g"),"$&"+(N.fractionGroupSeparator||"")):E):x}return(N.prefix||"")+D+(N.suffix||"")},o.toFraction=function(_){var P,N,D,z,m,c,p,h,y,x,E,M,v=this,d=v.c;if(_!=null&&(p=new W(_),!p.isInteger()&&(p.c||p.s!==1)||p.lt(s)))throw Error(Sr+"Argument "+(p.isInteger()?"out of range: ":"not an integer: ")+He(p));if(!d)return new W(v);for(P=new W(s),y=N=new W(s),D=h=new W(s),M=Ur(d),m=P.e=M.length-v.e-1,P.c[0]=Xh[(c=m%Le)<0?Le+c:c],_=!_||p.comparedTo(P)>0?m>0?P:y:p,c=S,S=1/0,p=new W(M),h.c[0]=0;x=e(p,P,0,1),z=N.plus(x.times(D)),z.comparedTo(_)!=1;)N=D,D=z,y=h.plus(x.times(z=y)),h=z,P=p.minus(x.times(z=P)),p=z;return z=e(_.minus(N),D,0,1),h=h.plus(z.times(y)),N=N.plus(z.times(D)),h.s=y.s=v.s,m=m*2,E=e(y,D,m,u).minus(v).abs().comparedTo(e(h,N,m,u).minus(v).abs())<1?[y,D]:[h,N],S=c,E},o.toNumber=function(){return+He(this)},o.toPrecision=function(_,P){return _!=null&&Ut(_,1,Zt),we(this,_,P,2)},o.toString=function(_){var P,N=this,D=N.s,z=N.e;return z===null?D?(P="Infinity",D<0&&(P="-"+P)):P="NaN":(_==null?P=z<=f||z>=g?Sp(Ur(N.c),z):Un(Ur(N.c),z,"0"):_===10&&pe?(N=Ae(new W(N),a+z+1,u),P=Un(Ur(N.c),N.e,"0")):(Ut(_,2,$.length,"Base"),P=t(Un(Ur(N.c),z,"0"),10,_,D,!0)),D<0&&N.c[0]&&(P="-"+P)),P},o.valueOf=o.toJSON=function(){return He(this)},o._isBigNumber=!0,o[Symbol.toStringTag]="BigNumber",o[Symbol.for("nodejs.util.inspect.custom")]=o.valueOf,r!=null&&W.set(r),W}function Dr(r){var e=r|0;return r>0||r===e?e:e-1}function Ur(r){for(var e,t,n=1,o=r.length,s=r[0]+"";n<o;){for(e=r[n++]+"",t=Le-e.length;t--;e="0"+e);s+=e}for(o=s.length;s.charCodeAt(--o)===48;);return s.slice(0,o+1||1)}function mi(r,e){var t,n,o=r.c,s=e.c,a=r.s,u=e.s,f=r.e,g=e.e;if(!a||!u)return null;if(t=o&&!o[0],n=s&&!s[0],t||n)return t?n?0:-u:a;if(a!=u)return a;if(t=a<0,n=f==g,!o||!s)return n?0:!o^t?1:-1;if(!n)return f>g^t?1:-1;for(u=(f=o.length)<(g=s.length)?f:g,a=0;a<u;a++)if(o[a]!=s[a])return o[a]>s[a]^t?1:-1;return f==g?0:f>g^t?1:-1}function Ut(r,e,t,n){if(r<e||r>t||r!==wn(r))throw Error(Sr+(n||"Argument")+(typeof r=="number"?r<e||r>t?" out of range: ":" not an integer: ":" not a primitive number: ")+String(r))}function bp(r){var e=r.c.length-1;return Dr(r.e/Le)==e&&r.c[e]%2!=0}function Sp(r,e){return(r.length>1?r.charAt(0)+"."+r.slice(1):r)+(e<0?"e":"e+")+e}function Un(r,e,t){var n,o;if(e<0){for(o=t+".";++e;o+=t);r=o+r}else if(n=r.length,++e>n){for(o=t,e-=n;--e;o+=t);r+=o}else e<n&&(r=r.slice(0,e)+"."+r.slice(e));return r}var vp=XR(),QR=vp;var ek=i.literal("sol_pay_transfer"),tk=i.object({amount:i.instanceof(QR).optional(),recipient:i.string(),splToken:i.string().optional(),reference:i.array(i.string()).optional(),memo:i.string().optional(),label:i.string().optional(),message:i.string().optional()}),rk=i.null(),nk=k,r4=I(ek,tk),n4=B(rk,nk);var ey={};F(ey,{error:()=>ak,method:()=>ok,params:()=>sk,request:()=>o4,response:()=>s4,result:()=>ik});l();var ok=i.literal("sol_pay_transaction"),sk=i.object({link:i.string().url()}),ik=i.null(),ak=k,o4=I(ok,sk),s4=B(ik,ak);var Ap={};F(Ap,{sui_requestAccounts:()=>Ep,sui_signAndExecuteTransaction:()=>kp,sui_signMessage:()=>Rp,sui_signTransaction:()=>_p});l();var Ep={};F(Ep,{error:()=>fk,method:()=>ck,params:()=>uk,request:()=>a4,response:()=>c4,result:()=>pk});l();var ck=i.literal("sui_requestAccounts"),uk=i.object({onlyIfTrusted:i.optional(i.boolean()),eager:i.optional(i.boolean())}),pk=As,fk=k,a4=I(ck,uk),c4=B(pk,fk);var _p={};F(_p,{error:()=>yk,method:()=>lk,params:()=>dk,request:()=>u4,response:()=>p4,result:()=>hk});l();var lk=i.literal("sui_signTransaction"),dk=i.object({transaction:i.string(),address:i.string(),networkID:i.string()}),hk=i.object({transaction:i.string(),signature:i.string()}),yk=k,u4=I(lk,dk),p4=B(hk,yk);var Rp={};F(Rp,{error:()=>wk,method:()=>mk,params:()=>gk,request:()=>f4,response:()=>l4,result:()=>xk});l();var mk=i.literal("sui_signMessage"),gk=i.object({message:i.instanceof(Uint8Array),address:i.string()}),xk=i.object({message:i.string(),signature:i.string()}),wk=k,f4=I(mk,gk),l4=B(xk,wk);var kp={};F(kp,{error:()=>Ek,method:()=>bk,params:()=>Sk,request:()=>d4,response:()=>h4,result:()=>vk});l();var bk=i.literal("sui_signAndExecuteTransaction"),Sk=i.object({transaction:i.string(),address:i.string(),networkID:i.string()}),vk=i.object({transaction:i.string(),signature:i.string(),digest:i.string(),effects:i.string()}),Ek=k,d4=I(bk,Sk),h4=B(vk,Ek);l();var ty={};F(ty,{error:()=>Ak,method:()=>_k,params:()=>Rk,request:()=>y4,response:()=>m4,result:()=>kk});l();var _k=i.literal("user_approveBtcRequestAccounts"),Rk=i.tuple([ve]),kk=i.null(),Ak=k,y4=I(_k,Rk),m4=B(kk,Ak);var ry={};F(ry,{error:()=>Pk,method:()=>Ik,params:()=>Bk,request:()=>g4,response:()=>x4,result:()=>Tk});l();var Ik=i.literal("user_approveBtcSignPSBT"),Bk=i.tuple([ve,i.object({psbt:i.instanceof(Uint8Array),inputsToSign:i.array(i.object({address:i.string(),signingIndexes:i.array(i.number()),sigHash:i.number().optional()})),finalize:i.boolean()})]),Tk=i.discriminatedUnion("type",[i.object({type:i.literal("signAndSend")}),i.object({type:i.literal("send"),signature:i.instanceof(Uint8Array)})]),Pk=k,g4=I(Ik,Bk),x4=B(Tk,Pk);var ny={};F(ny,{error:()=>Nk,method:()=>zk,params:()=>Mk,request:()=>w4,response:()=>b4,result:()=>Lk});l();var zk=i.literal("user_approveBtcSignMessage"),Mk=i.tuple([ve,i.object({message:i.instanceof(Uint8Array)})]),Lk=i.discriminatedUnion("type",[i.object({type:i.literal("signAndSend")}),i.object({type:i.literal("send"),signature:i.instanceof(Uint8Array),signedMessage:i.instanceof(Uint8Array)})]),Nk=k,w4=I(zk,Mk),b4=B(Lk,Nk);var oy={};F(oy,{error:()=>Uk,method:()=>Ck,params:()=>Ok,request:()=>S4,response:()=>v4,result:()=>qk});l();var Ck=i.literal("user_approveEthRequestAccounts"),Ok=i.tuple([ve]),qk=i.null(),Uk=k,S4=I(Ck,Ok),v4=B(qk,Uk);var sy={};F(sy,{error:()=>Hk,method:()=>Dk,params:()=>Fk,request:()=>E4,response:()=>_4,result:()=>jk});l();var Dk=i.literal("user_approveWalletRequestPermissions"),Fk=i.tuple([ve]),jk=i.null(),Hk=k,E4=I(Dk,Fk),_4=B(jk,Hk);var iy={};F(iy,{error:()=>Gk,method:()=>Kk,params:()=>Wk,request:()=>R4,response:()=>k4,result:()=>Vk});l();l();var nr=(C=>(C.OK="OK",C.FeatureKilled="FEATURE_KILLED",C.WalletLocked="WALLET_LOCKED",C.TabNotFocused="TAB_NOT_FOCUSED",C.Disabled="DISABLED",C.SessionExpired="SESSION_EXPIRED",C.RateLimitExceeded="RATE_LIMIT_EXCEEDED",C.SimulationFailed="SIMULATION_FAILED",C.UnsupportedDapp="UNSUPPORTED_DAPP",C.UnsupportedNetworkId="UNSUPPORTED_NETWORK_ID",C.UnsupportedMethod="UNSUPPORTED_METHOD",C.Unimplemented="UNIMPLEMENTED",C.Unknown="UNKNOWN",C))(nr||{});var Kk=i.literal("user_approveEthSendTransaction"),Wk=i.tuple([ve,i.object({transaction:Nn,autoConfirmStatusCode:i.nativeEnum(nr)})]),Vk=i.discriminatedUnion("type",[i.object({type:i.literal("signAndSend"),maxFeePerGas:G,maxPriorityFeePerGas:G}),i.object({type:i.literal("send"),signature:$e,maxFeePerGas:G,maxPriorityFeePerGas:G})]),Gk=k,R4=I(Kk,Wk),k4=B(Vk,Gk);var ay={};F(ay,{error:()=>Jk,method:()=>Zk,params:()=>Yk,request:()=>A4,response:()=>I4,result:()=>$k});l();var Zk=i.literal("user_approveEthSignMessage"),Yk=i.tuple([ve,i.object({signer:xe,message:qe,originalMethod:i.enum(["eth_sign","personal_sign","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4"]),chainId:i.string(),autoConfirmStatusCode:i.nativeEnum(nr)})]),$k=i.discriminatedUnion("approvalType",[i.object({approvalType:i.literal("user")}),i.object({approvalType:i.literal("hardware"),signature:$e})]),Jk=k,A4=I(Zk,Yk),I4=B($k,Jk);var cy={};F(cy,{error:()=>tA,method:()=>Xk,params:()=>Qk,request:()=>B4,response:()=>T4,result:()=>eA});l();var Xk=i.literal("user_approveSolConnect"),Qk=i.tuple([ve]),eA=i.null(),tA=k,B4=I(Xk,Qk),T4=B(eA,tA);var uy={};F(uy,{error:()=>sA,method:()=>rA,params:()=>nA,request:()=>P4,response:()=>z4,result:()=>oA});l();var rA=i.literal("user_approveSolSignAllTransactions"),nA=i.tuple([ve,i.object({transactions:i.array(ue),autoConfirmStatusCode:i.nativeEnum(nr)})]),oA=i.discriminatedUnion("type",[i.object({type:i.literal("signAndSend"),overwriteTransactions:i.array(ue).optional()}),i.object({type:i.literal("send"),result:i.array(i.object({signedTransaction:ue,signature:ue,version:i.union([i.literal("legacy"),i.number()])}))})]),sA=k,P4=I(rA,nA),z4=B(oA,sA);var py={};F(py,{error:()=>uA,method:()=>iA,params:()=>aA,request:()=>M4,response:()=>L4,result:()=>cA});l();var iA=i.literal("user_approveSolSignAndSendTransaction"),aA=i.tuple([ve,i.object({transaction:i.string(),autoConfirmStatusCode:i.nativeEnum(nr)})]),cA=i.discriminatedUnion("type",[i.object({type:i.literal("signAndSend"),overwriteTransactions:i.array(ue).optional(),isSharingEligible:i.boolean().optional()}),i.object({type:i.literal("send"),signedTransaction:ue,signature:ue,version:i.union([i.literal("legacy"),i.number()])})]),uA=k,M4=I(iA,aA),L4=B(cA,uA);var fy={};F(fy,{error:()=>dA,method:()=>pA,params:()=>fA,request:()=>N4,response:()=>C4,result:()=>lA});l();var pA=i.literal("user_approveSolSignAndSendAllTransactions"),fA=i.tuple([ve,i.object({transactions:i.array(ue),autoConfirmStatusCode:i.nativeEnum(nr)})]),lA=i.discriminatedUnion("type",[i.object({type:i.literal("signAndSend"),overwriteTransactions:i.array(ue).optional()}),i.object({type:i.literal("send"),result:i.array(i.object({signedTransaction:ue,signature:ue,version:i.union([i.literal("legacy"),i.number()])}))})]),dA=k,N4=I(pA,fA),C4=B(lA,dA);var ly={};F(ly,{error:()=>gA,method:()=>hA,params:()=>yA,request:()=>O4,response:()=>q4,result:()=>mA});l();var hA=i.literal("user_approveSolSignIn"),yA=i.tuple([ve,i.object({connect:i.boolean(),signInData:Is,message:ue,errorDetails:i.array(i.object({label:i.string(),message:i.string()})).optional()})]),mA=i.discriminatedUnion("type",[i.object({type:i.literal("signAndSend")}),i.object({type:i.literal("send"),signature:ue})]),gA=k,O4=I(hA,yA),q4=B(mA,gA);var dy={};F(dy,{error:()=>SA,method:()=>xA,params:()=>wA,request:()=>U4,response:()=>D4,result:()=>bA});l();var xA=i.literal("user_approveSolSignMessage"),wA=i.tuple([ve,i.object({message:ue,display:i.union([i.literal("utf8"),i.literal("hex")]),autoConfirmStatusCode:i.nativeEnum(nr)})]),bA=i.discriminatedUnion("type",[i.object({type:i.literal("signAndSend")}),i.object({type:i.literal("send"),signature:ue})]),SA=k,U4=I(xA,wA),D4=B(bA,SA);var hy={};F(hy,{error:()=>RA,method:()=>vA,params:()=>EA,request:()=>F4,response:()=>j4,result:()=>_A});l();var vA=i.literal("user_approveSolSignTransaction"),EA=i.tuple([ve,i.object({transaction:i.string(),autoConfirmStatusCode:i.nativeEnum(nr)})]),_A=i.discriminatedUnion("type",[i.object({type:i.literal("signAndSend"),overwriteTransactions:i.array(ue).optional(),isSharingEligible:i.boolean().optional(),transactionSharingDelayMs:i.number().optional()}),i.object({type:i.literal("send"),signedTransaction:ue,signature:ue,version:i.union([i.literal("legacy"),i.number()])})]),RA=k,F4=I(vA,EA),j4=B(_A,RA);var yy={};F(yy,{error:()=>BA,method:()=>kA,params:()=>AA,request:()=>H4,response:()=>K4,result:()=>IA});l();var kA=i.literal("user_confirmEIP712IncorrectChainId"),AA=i.tuple([ve,i.object({connectedChainId:i.string(),messageChainId:i.string()})]),IA=i.null(),BA=k,H4=I(kA,AA),K4=B(IA,BA);var my={};F(my,{error:()=>MA,method:()=>TA,params:()=>PA,request:()=>W4,response:()=>V4,result:()=>zA});l();var TA=i.literal("user_confirmIncorrectMode"),PA=i.tuple([ve,i.enum(["mainnet","testnet"])]),zA=i.null(),MA=k,W4=I(TA,PA),V4=B(zA,MA);var gy={};F(gy,{error:()=>OA,method:()=>LA,params:()=>NA,request:()=>G4,response:()=>Z4,result:()=>CA});l();var LA=i.literal("user_confirmDisabledNetwork"),NA=i.tuple([ve,i.string()]),CA=i.null(),OA=k,G4=I(LA,NA),Z4=B(CA,OA);var xy={};F(xy,{error:()=>FA,method:()=>qA,params:()=>UA,request:()=>Y4,response:()=>$4,result:()=>DA});l();var qA=i.literal("user_confirmSolPayError"),UA=i.tuple([ve]),DA=i.null(),FA=k,Y4=I(qA,UA),$4=B(DA,FA);var wy={};F(wy,{error:()=>WA,method:()=>jA,params:()=>HA,request:()=>J4,response:()=>X4,result:()=>KA});l();var jA=i.literal("user_confirmUnsupportedAccount"),HA=i.tuple([ve,i.literal("ethereum").or(i.literal("solana"))]),KA=i.null(),WA=k,J4=I(jA,HA),X4=B(KA,WA);var by={};F(by,{error:()=>YA,method:()=>VA,params:()=>GA,request:()=>Q4,response:()=>e6,result:()=>ZA});l();var VA=i.literal("user_confirmUnsupportedNetwork"),GA=i.tuple([ve,i.string()]),ZA=i.null(),YA=k,Q4=I(VA,GA),e6=B(ZA,YA);var Sy={};F(Sy,{error:()=>QA,method:()=>$A,params:()=>JA,request:()=>t6,response:()=>r6,result:()=>XA});l();var $A=i.literal("user_selectEthWallet"),JA=i.tuple([ve]),XA=ya,QA=k,t6=I($A,JA),r6=B(XA,QA);var vy={};F(vy,{error:()=>nI,method:()=>eI,params:()=>tI,request:()=>n6,response:()=>o6,result:()=>rI});l();var eI=i.literal("user_approveSolPayTransaction"),tI=i.tuple([ve,i.object({label:i.string().optional(),transaction:i.string()})]),rI=i.discriminatedUnion("type",[i.object({type:i.literal("signAndSend")}),i.object({type:i.literal("send"),signedTransaction:ue,signature:ue,version:i.union([i.literal("legacy"),i.number()])})]),nI=k,n6=I(eI,tI),o6=B(rI,nI);var Ey={};F(Ey,{error:()=>aI,method:()=>oI,params:()=>sI,request:()=>s6,response:()=>i6,result:()=>iI});l();var oI=i.literal("user_approveSolFeaturedAction"),sI=i.tuple([ve,i.object({featuredTransaction:$d})]),iI=i.object({transaction:i.string().optional(),message:i.string().optional()}),aI=k,s6=I(oI,sI),i6=B(iI,aI);var _y={};F(_y,{error:()=>fI,method:()=>cI,params:()=>uI,request:()=>a6,response:()=>c6,result:()=>pI});l();var cI=i.literal("user_solTransactionConfirmation"),uI=i.tuple([ve,i.object({signature:ue,postAction:hi.optional()})]),pI=i.null(),fI=k,a6=I(cI,uI),c6=B(pI,fI);var Ry={};F(Ry,{error:()=>yI,method:()=>lI,params:()=>dI,request:()=>u6,response:()=>p6,result:()=>hI});l();var lI=i.literal("user_approveSuiRequestAccounts"),dI=i.tuple([ve]),hI=i.null(),yI=k,u6=I(lI,dI),p6=B(hI,yI);var ky={};F(ky,{error:()=>wI,method:()=>mI,params:()=>gI,request:()=>f6,response:()=>l6,result:()=>xI});l();var mI=i.literal("user_approveSuiSignTransaction"),gI=i.tuple([ve,i.object({transaction:i.string()})]),xI=i.object({transaction:i.string()}),wI=k,f6=I(mI,gI),l6=B(xI,wI);var Ay={};F(Ay,{error:()=>EI,method:()=>bI,params:()=>SI,request:()=>d6,response:()=>h6,result:()=>vI});l();var bI=i.literal("user_approveSuiSignMessage"),SI=i.tuple([ve,i.object({message:i.instanceof(Uint8Array)})]),vI=i.object({message:i.string()}),EI=k,d6=I(bI,SI),h6=B(vI,EI);var Iy={};F(Iy,{error:()=>AI,method:()=>_I,params:()=>RI,request:()=>y6,response:()=>m6,result:()=>kI});l();var _I=i.literal("user_approveEnableAutoconfirm"),RI=i.tuple([ve,i.object({origin:i.string(),requestedChains:i.array(i.string())})]),kI=i.null(),AI=k,y6=I(_I,RI),m6=B(kI,AI);l();var II=Object.prototype.hasOwnProperty;function BI(r,e,t){for(t of r.keys())if(Fr(t,e))return t}function Fr(r,e){var t,n,o;if(r===e)return!0;if(r&&e&&(t=r.constructor)===e.constructor){if(t===Date)return r.getTime()===e.getTime();if(t===RegExp)return r.toString()===e.toString();if(t===Array){if((n=r.length)===e.length)for(;n--&&Fr(r[n],e[n]););return n===-1}if(t===Set){if(r.size!==e.size)return!1;for(n of r)if(o=n,o&&typeof o=="object"&&(o=BI(e,o),!o)||!e.has(o))return!1;return!0}if(t===Map){if(r.size!==e.size)return!1;for(n of r)if(o=n[0],o&&typeof o=="object"&&(o=BI(e,o),!o)||!Fr(n[1],e.get(o)))return!1;return!0}if(t===ArrayBuffer)r=new Uint8Array(r),e=new Uint8Array(e);else if(t===DataView){if((n=r.byteLength)===e.byteLength)for(;n--&&r.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(r)){if((n=r.byteLength)===e.byteLength)for(;n--&&r[n]===e[n];);return n===-1}if(!t||typeof r=="object"){n=0;for(t in r)if(II.call(r,t)&&++n&&!II.call(e,t)||!(t in e)||!Fr(r[t],e[t]))return!1;return Object.keys(e).length===n}}return r!==r&&e!==e}var LI=je(lo());l();l();var Xt=[];for(let r=0;r<256;++r)Xt.push((r+256).toString(16).slice(1));function PI(r,e=0){return(Xt[r[e+0]]+Xt[r[e+1]]+Xt[r[e+2]]+Xt[r[e+3]]+"-"+Xt[r[e+4]]+Xt[r[e+5]]+"-"+Xt[r[e+6]]+Xt[r[e+7]]+"-"+Xt[r[e+8]]+Xt[r[e+9]]+"-"+Xt[r[e+10]]+Xt[r[e+11]]+Xt[r[e+12]]+Xt[r[e+13]]+Xt[r[e+14]]+Xt[r[e+15]]).toLowerCase()}l();var Ty,b6=new Uint8Array(16);function Py(){if(!Ty){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ty=crypto.getRandomValues.bind(crypto)}return Ty(b6)}l();l();var S6=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),zy={randomUUID:S6};function v6(r,e,t){var o,s,a;if(zy.randomUUID&&!e&&!r)return zy.randomUUID();r=r||{};let n=(a=(s=r.random)!=null?s:(o=r.rng)==null?void 0:o.call(r))!=null?a:Py();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){if(t=t||0,t<0||t+16>e.length)throw new RangeError(`UUID byte range ${t}:${t+15} is out of buffer bounds`);for(let u=0;u<16;++u)e[t+u]=n[u];return e}return PI(n)}var jr=v6;l();var Ue=class extends Error{constructor({code:t,message:n},o){super(n);_e(this,"message");_e(this,"code");_e(this,"data");this.code=t,this.message=n,typeof o<"u"&&(this.data=o)}toString(){return this.message}};l();l();l();l();l();var E6={canSerialize:r=>typeof r=="number"&&Number.isNaN(r),serialize:r=>({["$NAN"]:1}),deserialize:r=>NaN},_6={canSerialize:r=>r instanceof Date,serialize:r=>({["$DATE"]:r.valueOf()}),deserialize:r=>new Date(r["$DATE"])},R6={canSerialize:r=>r instanceof Uint8Array,serialize:r=>({["$UINT8ARRAY"]:Array.from(r)}),deserialize:r=>Uint8Array.from(r["$UINT8ARRAY"])},k6={canSerialize:r=>typeof r=="bigint",serialize:r=>({["$BIGINT"]:r.toString()}),deserialize:r=>BigInt(r["$BIGINT"])},A6={canSerialize:r=>r instanceof URL,serialize:r=>({["$URL"]:r.href}),deserialize:r=>new URL(r["$URL"])},Bp={NAN:E6,DATE:_6,UINT8ARRAY:R6,BIGINT:k6,URL:A6};var I6=function(r){let e=this[r];for(let t of Object.values(Bp))if(t.canSerialize(e))return t.serialize(e);return e},B6=(r,e)=>{if(e&&typeof e=="object"&&Object.keys(e)[0]){let t=Object.keys(e)[0].slice(1);if(t in Bp)return Bp[t].deserialize(e)}return e},ka=r=>JSON.stringify(r,I6),Tp=r=>JSON.parse(r,B6);l();l();var zI=r=>{try{if(r==null)throw"JSON must be set";if(!isNaN(parseInt(r)))throw"Numbers are not valid JSON";return JSON.parse(r),!0}catch{return!1}};var Xr,Hr,gi,Bs,MI,Ly,My=class{constructor({port:e}){se(this,Bs);se(this,Xr);se(this,Hr,!1);se(this,gi,[]);Me(this,Xr,e),Me(this,Hr,!1)}get status(){return q(this,Hr)?"started":"stopped"}async start(){if(q(this,Hr))return;let e=q(this,Xr).onClose(()=>{Me(this,Hr,!1),e()});await q(this,Xr).start(),Me(this,Hr,!0),await Kt(this,Bs,MI).call(this)}async close(){if(!q(this,Hr))return;let e=q(this,gi).splice(0);for(let{reject:t}of e)t(new Error("Transport closed before message could be processed"));await q(this,Xr).close(),Me(this,Hr,!1)}async send(e){return q(this,Hr)?Kt(this,Bs,Ly).call(this,e):new Promise((t,n)=>{q(this,gi).push({request:e,resolve:t,reject:n})})}addListener(e){let t=async o=>{let s=this.recv()[Symbol.asyncIterator](),a=()=>{},u=()=>new Promise(g=>a=()=>g(null));function f(){var g;(g=s.return)==null||g.call(s),a(),o.signal.removeEventListener("abort",f)}try{for(o.signal.addEventListener("abort",f);;){let g=await Promise.race([s.next(),u()]);if(!g)break;try{e(g.value)}catch(b){console.error(b)}}f()}catch(g){throw f(),g}},n=new AbortController;return t(n),()=>n.abort()}recv(){let e=[],t=()=>{},n=()=>new Promise(g=>t=g),o=!1,s=q(this,Xr).onClose(()=>{o=!0,t(),s()}),a=q(this,Xr).onMessage(g=>{if(zI(g))try{let b=Tp(g);if("method"in b&&"id"in b){t();return}if(Array.isArray(b)){let S=Zd.parse(b);e.push(S),t()}else if("id"in jc.parse(b)){let O=Kc.parse(b);e.push(O),t()}else{let O=$r.parse(b);e.push(O),t()}}catch(b){console.error(b)}}),u=()=>{s(),a()},f={async next(){for(;!o;){let g=e.shift();if(g)return{done:!1,value:g};await n()}return u(),{done:!0,value:void 0}},async throw(){return u(),{done:!0,value:void 0}},async return(){return u(),{done:!0,value:void 0}}};return{[Symbol.asyncIterator](){return f}}}};Xr=new WeakMap,Hr=new WeakMap,gi=new WeakMap,Bs=new WeakSet,MI=async function(){let e=q(this,gi).splice(0);for(let{request:t,resolve:n,reject:o}of e)try{let s=await Kt(this,Bs,Ly).call(this,t);n(s)}catch(s){o(s)}},Ly=async function(e){if(!q(this,Hr))throw new Error("Cannot read stream: RpcTransport has not been started");if(Array.isArray(e)){let t=Gd.parse(e),n=new Set(t.map(s=>s.id)),o=ka(t);q(this,Xr).postMessage(o);for await(let s of this.recv())if(Array.isArray(s)&&s.every(a=>n.has(a.id)))return s;throw new Error("Failed to get response: request ids="+n)}else{let t=Hc.parse(e),{id:n}=t,o=ka(t);q(this,Xr).postMessage(o);for await(let s of this.recv())if("id"in s&&s.id===n&&!("method"in s))return s;throw new Error("Failed to get response: request id="+n)}};var Kr=class r extends My{static createPort(){let e=window.navigator.userAgent.toLowerCase(),t=/iphone|ipod|ipad/.test(e),n=[],o=[];function s(u){let f="data"in u?u.data:null;if(typeof f=="string")for(let g of n)try{g(f)}catch(b){console.error(b)}}function a(){for(let u of o)try{u()}catch(f){console.error(f)}}return{async start(){window.addEventListener("message",s),t||document.addEventListener("message",s)},async close(){window.removeEventListener("message",s),t||document.removeEventListener("message",s),a()},postMessage(u){window.ReactNativeWebView.postMessage(u)},onMessage(u){return n.push(u),()=>{n.splice(n.indexOf(u),1)}},onClose(u){return o.push(u),()=>{o.splice(o.indexOf(u),1)}}}}constructor(){super({port:r.createPort()})}};var xi,Dn,Aa,Cy,wi,Ny=class extends LI.default{constructor(t){super();se(this,Aa);_e(this,"_injectionEndMs",null);_e(this,"_injectionStartMs",null);_e(this,"isPhantom",!0);se(this,xi);se(this,Dn);se(this,wi,async t=>{var o;let n;try{let{method:s}=t,a="params"in t?(o=t.params)!=null?o:[]:[],u=ru[s];if(!u)throw new Error("MethodNotFound");let f=u.request.safeParse({jsonrpc:"2.0",id:jr().toString(),method:s,params:a});if(!f.success)throw f.error;let g=f.data,b=await q(this,xi).send(g);if(n=u.response.parse(b),"error"in n)throw new Ue(n.error);return n.result}catch(s){throw s instanceof Ue?s:s instanceof jt?new Ue({code:-32e3,message:"Missing or invalid parameters."},{method:t.method}):s instanceof Error&&s.message==="MethodNotFound"?new Ue({code:-32601,message:`The method ${t.method} does not exist / is not available.`},{method:t.method}):new Ue({code:-32603,message:"Internal JSON-RPC error."},{method:t.method})}});_e(this,"requestAccounts",async()=>{let n=(await q(this,wi).call(this,{method:"btc_requestAccounts",params:[]})).map(o=>({address:o.address,publicKey:o.publicKey,addressType:o.addressType.replace("bip122_",""),purpose:o.purpose}));return this.emit("accountsChanged",n),n});_e(this,"signPSBT",async(t,n)=>{var s;return n.finalize=(s=n.finalize)!=null?s:!1,await q(this,wi).call(this,{method:"btc_signPSBT",params:[t,n]})});_e(this,"signMessage",async(t,n)=>await q(this,wi).call(this,{method:"btc_signMessage",params:{address:t,message:n}}));_e(this,"handleNotification",async t=>{var n,o,s,a,u,f;switch(t.method){case"phantom_accountChanged":{let g=Jt.phantom_accountChanged.notification.safeParse(t);if(!g.success)return;let b=(s=(o=(n=g.data.params)==null?void 0:n.btc)==null?void 0:o.map(S=>({address:S.address,publicKey:S.publicKey,addressType:S.addressType.replace("bip122_",""),purpose:S.purpose})))!=null?s:[];if(b.length===0&&q(this,Dn).length>0){this.emit("accountsChanged",[]);return}Fr(b,q(this,Dn))||this.emit("accountsChanged",b);break}case"phantom_trustRevoked":{let g=Jt.phantom_trustRevoked.notification.safeParse(t);if(!g.success)return;let b=(f=(u=(a=g.data.params)==null?void 0:a.btc)==null?void 0:u.map(S=>({address:S.address,publicKey:S.publicKey,addressType:S.addressType.replace("bip122_",""),purpose:S.purpose})))!=null?f:[];Fr(b,q(this,Dn))&&this.emit("accountsChanged",[]);break}}});_e(this,"removeAllListeners",t=>{try{return super.removeAllListeners(t)}finally{Kt(this,Aa,Cy).call(this)}});Me(this,xi,t),q(this,xi).start(),Me(this,Dn,[]),t.addListener(n=>{let o=$r.safeParse(n);o.success&&this.handleNotification(o.data)}),Kt(this,Aa,Cy).call(this)}};xi=new WeakMap,Dn=new WeakMap,Aa=new WeakSet,Cy=function(){this.on("accountsChanged",t=>{t.length===0?Me(this,Dn,[]):Me(this,Dn,JSON.parse(JSON.stringify(t)))})},wi=new WeakMap;var Pp=class r extends Ny{static inject(e){let t=window,n=new r;t.phantom||Object.defineProperty(window,"phantom",{value:{},writable:!1}),Object.defineProperty(window.phantom,"bitcoin",{value:n,writable:!1}),n._injectionEndMs=window.performance.now(),n._injectionStartMs=e}constructor(){super(new Kr)}};l();var NI=["bitcoin:connect","bitcoin:signTransaction","bitcoin:signMessage"],P6={ALL:1,NONE:2,SINGLE:3,"ALL|ANYONECANPAY":129,"NONE|ANYONECANPAY":130,"SINGLE|ANYONECANPAY":131},ho,Np,Cp,Op,Fn,Ts,qp,yo,Mp,OI,Up,Dp,Fp,jp,Oy=class Oy{constructor(e){se(this,yo);se(this,ho,{});se(this,Np,"1.0.0");se(this,Cp,"Phantom");se(this,Op,us);se(this,Fn,[]);se(this,Ts);se(this,qp,(e,t)=>{var n;return(n=q(this,ho)[e])!=null&&n.push(t)||(q(this,ho)[e]=[t]),()=>Kt(this,yo,OI).call(this,e,t)});se(this,Up,e=>{if(e.length===0&&q(this,Fn).length>0){Me(this,Fn,[]),Kt(this,yo,Mp).call(this,"change",{accounts:this.accounts});return}let t=e.map(n=>new fn({address:n.address,publicKey:CI(n.publicKey),chains:sa,features:NI}));e.length>0&&!Fr(q(this,Fn),t)&&(Me(this,Fn,t),Kt(this,yo,Mp).call(this,"change",{accounts:this.accounts}))});se(this,Dp,async(...e)=>{let t=[];e.length>0&&(t=[...e[0].purposes]),t.length==0&&(t=["payment","ordinals"]),t.length===1&&t[0]==="payment"&&(t=["payment","ordinals"]),t.length===1&&t[0]==="ordinals"&&(t=["ordinals","payment"]);let n=await q(this,Ts).requestAccounts();return n&&(n.sort((o,s)=>t.indexOf(o.purpose)-t.indexOf(s.purpose)),Me(this,Fn,n.map(o=>new fn({address:o.address,publicKey:CI(o.publicKey),chains:sa,features:NI}))),Kt(this,yo,Mp).call(this,"change",{accounts:this.accounts})),{accounts:this.accounts}});se(this,Fp,async(...e)=>{let[{psbt:t,inputsToSign:n}]=e;return[{signedPsbt:await q(this,Ts).signPSBT(t,{inputsToSign:n.map(s=>({address:s.account.address,signingIndexes:s.signingIndexes,sigHash:s.sigHash?P6[s.sigHash]:void 0})),finalize:!1})}]});se(this,jp,async(...e)=>{let[{message:t,account:{address:n}}]=e;return[await q(this,Ts).signMessage(n,t)]});new.target===Oy&&Object.freeze(this),Me(this,Ts,e),e.on("accountsChanged",q(this,Up),this)}get version(){return q(this,Np)}get name(){return q(this,Cp)}get icon(){return q(this,Op)}get chains(){return sa.slice()}get features(){return{"standard:events":{version:"1.0.0",on:q(this,qp)},"bitcoin:connect":{version:"1.0.0",connect:q(this,Dp)},"bitcoin:signTransaction":{version:"1.0.0",signTransaction:q(this,Fp)},"bitcoin:signMessage":{version:"1.0.0",signMessage:q(this,jp)}}}get accounts(){return q(this,Fn)}};ho=new WeakMap,Np=new WeakMap,Cp=new WeakMap,Op=new WeakMap,Fn=new WeakMap,Ts=new WeakMap,qp=new WeakMap,yo=new WeakSet,Mp=function(e,...t){var n;(n=q(this,ho)[e])==null||n.forEach(o=>o.apply(null,t))},OI=function(e,t){var n;q(this,ho)[e]=(n=q(this,ho)[e])==null?void 0:n.filter(o=>t!==o)},Up=new WeakMap,Dp=new WeakMap,Fp=new WeakMap,jp=new WeakMap;var Lp=Oy;function CI(r){return Uint8Array.from(R.from(r,"hex"))}l();var DI=je(lo());l();var qI=`
data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAKkElEQVR4Ae2dQW8bxxmGv9ldGmikJFQBO4bdWERiA40OkQrIl+QgGkjbS4rYaN2iJ4f9A61/gaV/kPyB0j61hY0qBYoe0oOpg32RgUg9OAGcoEycCk4MWFQsqYBJ7mTeJdehKFLcXc7sDnfmAShSFFei9nvnnW9mvh0yUsBqlRebtFci8hcY8RIjNovnOZF4jhfFfbH39eLnJTIQTrze+704D/XO89RgTDzm/g4Xz+F5j6Y3LlVYgyTDSAKdgD+96BAt+cTLpgZUNSJYdZ9oQzz8R4EKtUuVH9VpTMYSwM3q07LQ6zXxsEyW1BHBuy4c4sblyos1SkgiAdjAa0fNo0IliSPEEgCsvkW7IvD8T2TRELYs3GAl1hFRX7ha/X+pTc3bnUTOoivIE1wqXIjqBk6UF9368+4VEfxPbPD1BzFqiVj9rfrdxSivHymAW9XdP3LmX+8fulm0pigCuypytWujXnikAPALOPkfkGVC4ct/re4cma8NzQFgIVARWSYexp33f/OH6RsDfzboyW7C94m1/dzQEMPEnw1KDAd2Ad1s3wY/PxQR09Xq9qGYHhJAp9+32X7e6IwOvENJ4YEuANYvhhD/JUuOYRd6p44POIAIfpUsOYcfcIHnAujM79u5fQMod2Md8FwAjPErZDGEH1wgyAFs328eHrVnLlVmGoEDNKlZJotR+OQGawWBABxG75HFKMSwcAn3Tve7BbKYRhlfGGaHWuRuk8U4kAc4YnbItn5DaYrZQYcTL5HFSFxyFxxmBWAsvoi9EIBd9TMVXLDjiCnAWbIYi8e5dYC4FI4xcRPW+WNGx8R9odB5rpf9PU57u5yaz4gaTzjpCGdU8sgykuMnGRVnGL0849AJ8fiF6fjX0zx+xIUQfNr62g8e6wDnvOihUEDKBYI5Aq359BlGp37iiuAfbt1JgIiOn3Tp3JxL+8IZ/vfQpwef+sHjrBD9f9E6QA8I0tybnrB2OUEfBhzk3BtucHtwv00PPstOCMYLAIE+94YT3FQGfRhwhNNnHLq/2ab6Fz6ljbECQCuce9Oh0lmXsgbvZfFtT9y3AyGkiccMKwDVKfD9zM279MIU0b276YgA+Z8xDgB7n5t3gn5XZ0JhpiUCIwSA/h2tK4s+PgkQwf4epdId5FoAyOrnF71gwmbSgGAfPxJzBt+oHR1Eujx80kBLnz/v0tIvChMZ/JDzIjHEjKNKcicABPzn73ra9/VRCOcLVJIrAaCvf+fdQqKpWl2BAFS6QC4EAMuH3c+fz19Kg+CrdIGJF0Bo+Uj48ooVwBBKrzui5Xu5svxBwAWOv6Lmf5xYAWCYtBhkyWasZZ46oyZUEymAxbfdQAAmcfpVNaGaqKwJrf2tcr77+2Ggm8NN9rLxxDhAJ9PPNvjNZzwo78J9XBC4pMeGnFCQB0yEA0D55QyTPQRu817rQCkXhHj+rdHvaZxj+1Hx/2vvAFkHHy137ePWoTo+fP/vfzaPLPgcdWxcOzdOAFkHH9REAIfZNip+N9dbiY9dvzP82EFMTRkkgDDhyzL4aN2jWilW6wa5AFp5lGPjuMDUNElHWwEg4ct6Ja+xHS04g17X2I5W3/et4uXeUWgpACzl6rCMG7V1DnodLD7psWminQAwwaPLUq7qtfi4fyP3SWBYuqULU9PRTg+uGuonarDiJHYq3EIbAcDydVvOxQJMlBY6qLuKOnWb9aymFgJAa0HGrxtR1uLhWoNae5Rj4xaqPouYV8RBCwFkPdw7CgRx2FJsUHR6hGshwIO6B4Cl7LjdXVOBADJvdsFJ0rhwEy156ZcFqn/epq2vO3P5aLWl15yRS7Q49p1fHTx2Sgh99jU3kfXv7cnPATIVQHAx5oQs66JWv3SWEjHOsb3kKgmE5WNBxBId7C8gm8wEgOvz8l7KJRtcLSSbTASABEjHizN1RtVWM6kLILg617ByLhmo2mcodQFY609G1MWluKQqAATeWn8yth7mQAAo7rAkQ9XOYqkJAImftf5kbD1Ut2ScmgBs4pecra/UbRSRigBs6x8PlVVDqQjAtv7kwP5VVg0pF4Bt/eNR/zxe5XBclAvAtv7koOWrTACBUgEcT7ixsqVDGruEKRXAuZ/a1p8UzP2nUTKuTABo+aquaTcB7CaeRsm4sgideMVaf1JQOZTWnsHKBHA2B9u0ZUWanyOgRACw/0neoDFLEHgIIC2UCMDaf3Jg/eNsIhEXJQI49apN/pKAD4xI+0MjlETKxD18xgXWn/aHRQDpAkDfb8rWbTLZWG9ncqWwdAHgEy90II2Tub/LpfTXaPmqKn5GocAB9Oj/v32k/oSivx7X7R582s7E+kPkC2Ame/vHSVVRQ9+LjISt/kWbNtezCz6QLoCs+3/YMk6qSiHKSNgQ/Ht3sg0+kF6lmcauGsNAf4yduTrvQ40Awr8R5hjhxaJxgENl3fJDpDvAsQwFsH5HbSaNYK/1BB/E6QZw/N3bLW2CD3JTp92fSXeyc3kuEAa//wod/F3sBnJU3QOOxfQubmnO8kUhFwIYlEnLvJYeLf5urTXw8iys2//r782g9G32dTf43OHwebz+8TdIFrl2gQ+RLgD802lWAQ3LpLe+8qXsNob/B8Ef1bVkMY0rA+kCULGLxTCOyqSxCyeuphlnWrrjLPrZtkykJ4E7T9I5WVGGUet3W4mSQghn7eNm4Cx5Dj6Q7gAoZVoktaC/jzIOR/AxZIu64TQCf/8/LWXX4emIJ/7VusxPEEfyM671Dv/dPBjqxZk3hwjCJO1UN1sPh6rPuonazrbeiZoqRITqSkYB9zdbtHSyQDKBqJJaOpjUJE01SlZukIDJWuBAq0RfjD45642V84iyeYBQAEmvDNJ58iRPeIxYg0jNCYYIYLvYDi5KTtD5UCYx/PqsHVi+DbxaOAtyAN4ghXQ+N6fZrRTGcrFIxHp2yN4X8wa4IRlrPLEBTxsI4EuZc+bDgBD2d9VudmCJB+d8x5bvmk0dAqiTxUiE7zccTqxOFiNxROydAjkbZDESHwIQg686WYzEo9aGc6ky0+A2DzAOTryO2AejAEZ8jSymsYkvgQBEIlgji2Gwj/A1EECB2h+RxSja1K7hPhAA+gJxVyOLEYjx//XfV2bqeNwzE8hWyGIEosu/ET5+LoDLlRdrZF0g/zCqdWMd0LcWYF0g77R4u9L7/QEBQBliSPghWXIKXwn7/pBDq4Eu+cuYJCBLrkBML1deXu5//pAAMCJok38BK0VkyQk8iOmgnwysB4BN+ERXyZILxKJPpd/6Q4YWhPy28tJ1oRwrgomHr/yu8tLQib6RtWA3qzvL4mXXyDKB8Kui3//gqFdEKga8Vf3uoririlXDIlkmAC5W+djVXwcufjSRq0H/Ut0uueTcZsRKZNEWZPtI+Ib1+f3ELge2XYK+iOB/WBDD+O7aTiQS1YPDDTzmVsVfLJMle8T0LnG20jvFG/3QMbhZfVoWg4z3xa+5Qpb0GSPwP/wKCXTyA7fsMHrP53zB5glqQP/uMFbzOa2hhiOO1Q9DySVBq9XtYou8BfGGS2JtoYTRg3jjs+EognNeOvgmWIkMpH/KnTHMvrIG69ZoivP0Zads39koULMuI+D9fA+fpXSL3JH8YAAAAABJRU5ErkJggg==
`;function UI(r,e){window.dispatchEvent(new CustomEvent("eip6963:announceProvider",{detail:Object.freeze({info:r,provider:e})}))}var bi,Ia,qy=class extends DI.EventEmitter{constructor(t){super();_e(this,"_injectionEndMs",null);_e(this,"_injectionStartMs",null);_e(this,"isPhantom",!0);_e(this,"isMetaMask",!0);se(this,bi);se(this,Ia,()=>{this.addListener("accountsChanged",t=>{let[n]=t;n?(this.selectedAddress=n.toLowerCase(),this.request({method:"eth_chainId",params:[]})):this.selectedAddress=null})});_e(this,"request",async t=>{var o,s,a,u;let n;try{let{method:f}=t,g="params"in t?(o=t.params)!=null?o:[]:[],b=yi[f];if(!b)throw new Error("MethodNotFound");let S=b.request.safeParse({jsonrpc:"2.0",id:jr().toString(),method:f,params:g});if(!S.success){if(f==="personal_sign"){let C=yi.eth_sign.params.safeParse(g);if(C.success){let[V,J]=C.data;return this.request({method:"personal_sign",params:[J,V]})}}if(f==="eth_signTypedData"){let C=yi.eth_signTypedData_v4.params.safeParse(g);if(C.success)return this.request({method:"eth_signTypedData_v4",params:C.data})}throw S.error}let O=S.data;if(n=b.response.parse(await q(this,bi).send(O)),"error"in n)throw new Ue(n.error);try{if(f==="eth_requestAccounts"){let C=(s=n.result)==null?void 0:s[0].toLowerCase();C!==this.selectedAddress&&this.emit("accountsChanged",[C])}if(f==="eth_accounts"){let C=(u=(a=n.result)==null?void 0:a[0])==null?void 0:u.toLowerCase();C&&C!==this.selectedAddress&&(this.selectedAddress=C)}if(f==="eth_chainId"){let C=n.result;C!==this.chainId&&(this.chainId=C,this.networkVersion=parseInt(C.substring(2),16).toString(),this.emit("chainChanged",this.chainId))}if(f==="wallet_addEthereumChain"){let C=O.params[0].chainId;C!==this.chainId&&(this.chainId=C,this.networkVersion=parseInt(C.substring(2),16).toString(),this.emit("chainChanged",this.chainId))}if(f==="wallet_switchEthereumChain"){let C=O.params[0].chainId;C!==this.chainId&&(this.chainId=C,this.networkVersion=parseInt(C.substring(2),16).toString(),this.emit("chainChanged",this.chainId))}}catch(C){console.error("event emitter error",C)}return n.result}catch(f){throw f instanceof Ue?f:f instanceof jt?new Ue({code:-32e3,message:"Missing or invalid parameters."},{method:t.method}):f instanceof Error&&f.message==="MethodNotFound"?new Ue({code:-32601,message:`The method ${t.method} does not exist / is not available.`},{method:t.method}):new Ue({code:-32603,message:"Internal JSON-RPC error."},{method:t.method})}});_e(this,"selectedAddress");_e(this,"chainId");_e(this,"networkVersion");_e(this,"_metamask",{isUnlocked:()=>!!this.selectedAddress});_e(this,"handleNotification",async t=>{var n,o,s,a,u,f,g,b;switch(t.method){case"phantom_accountChanged":{let S=Jt.phantom_accountChanged.notification.safeParse(t);if(!S.success)return;let O=(s=(o=(n=S.data.params)==null?void 0:n.evm)==null?void 0:o.toLowerCase())!=null?s:null;O!==this.selectedAddress&&this.emit("accountsChanged",O?[O]:[]);break}case"phantom_trustRevoked":{let S=Jt.phantom_trustRevoked.notification.safeParse(t);if(!S.success)return;((u=(a=S.data.params)==null?void 0:a.evm)==null?void 0:u.toLowerCase())===this.selectedAddress&&this.emit("accountsChanged",[]);break}case"phantom_chainChanged":{let S=Jt.phantom_chainChanged.notification.safeParse(t);if(!S.success)return;let O=(b=(g=(f=S.data.params)==null?void 0:f.evm)==null?void 0:g.toLowerCase())!=null?b:null;O&&O!==this.chainId&&(this.chainId=O,this.networkVersion=parseInt(O.substring(2),16).toString(),this.emit("chainChanged",O));break}}});_e(this,"removeAllListeners",t=>{try{return super.removeAllListeners(t)}finally{q(this,Ia).call(this)}});Me(this,bi,t),q(this,bi).start(),this.selectedAddress=null,this.chainId="0x1",this.networkVersion="1",this.request=this.request.bind(this),t.addListener(n=>{let o=$r.safeParse(n);o.success&&this.handleNotification(o.data)}),q(this,Ia).call(this),this.emit("connect",{chainId:this.chainId})}isConnected(){return navigator.onLine}enable(){return this.request({method:"eth_requestAccounts",params:[]})}sendAsync(t,n){let o="id"in t&&typeof t.id<"u"?t.id:null;this.request(t).then(s=>n(null,{jsonrpc:"2.0",id:o,result:s})).catch(s=>n(s,null))}send(t,n){return typeof t!="string"?this.sendAsync(t,n):this.request({method:t,params:n})}};bi=new WeakMap,Ia=new WeakMap;var Hp=class r extends qy{static inject(e){let t=window;t.isPhantomInstalled=!0;try{delete window.web3}catch{}let n=new r;t.ethereum=n,t.phantom||Object.defineProperty(window,"phantom",{value:{},writable:!1}),Object.defineProperty(window.phantom,"ethereum",{value:n,writable:!1}),window.dispatchEvent(new Event("ethereum#initialized")),window.dispatchEvent(new Event("phantom#initialized")),n._injectionEndMs=window.performance.now(),n._injectionStartMs=e;let o={uuid:jr().toString(),name:"Phantom",icon:qI,rdns:"app.phantom"};try{window.addEventListener("eip6963:requestProvider",()=>{UI(o,n)}),UI(o,n)}catch{console.error("PHANTOM error announcing multi-injection provider")}}constructor(){super(new Kr)}};l();var FI=je(lo());var Si,Dy=class extends FI.EventEmitter{constructor(t){super();se(this,Si);Me(this,Si,t),q(this,Si).start()}async buy({buy:t,amount:n,redirectURL:o}){let s=o||window.location.origin+window.location.pathname;this.request({method:"phantom_deep_link_onramp",params:{buy:t,amount:n,redirectURL:s}})}async swap({buy:t,sell:n,amount:o}){return this.request({method:"phantom_deep_link_swap",params:{buy:t,sell:n,amount:o}})}async navigate({route:t,params:n}){return this.request({method:"phantom_deep_link_navigate",params:{route:t,params:n}})}async login(){return this.request({method:"phantom_login",params:{}})}async logout(){return this.request({method:"phantom_logout",params:{}})}async getUser(){return this.request({method:"phantom_getUser",params:{}})}async request(t){let{method:n,params:o}=t;if(!n.startsWith("phantom_"))throw new Ue({code:-32601,message:`The method ${n} does not exist / is not available.`});try{let s=await q(this,Si).send({jsonrpc:"2.0",id:jr().toString(),method:n,params:o});if("error"in s)throw new Ue(s.error);return s.result}catch(s){throw s instanceof Ue?s:new Ue({code:-32603,message:"Internal JSON-RPC error."})}}};Si=new WeakMap;var Kp=class r extends Dy{static inject(){let e=new r;"phantom"in window||Object.defineProperty(window,"phantom",{value:{},writable:!1}),Object.defineProperty(window.phantom,"app",{value:e,writable:!1})}constructor(){super(new Kr)}};l();l();var _oe=je(Ri());l();var Be=je(Na());l();l();l();function Xy(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function oC(r){if(typeof r!="boolean")throw new Error(`Expected boolean, not ${r}`)}function o2(r,...e){if(!(r instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}function sC(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Xy(r.outputLen),Xy(r.blockLen)}function iC(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function aC(r,e){o2(r);let t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}var cC={number:Xy,bool:oC,bytes:o2,hash:sC,exists:iC,output:aC},ir=cC;l();l();var uC={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var s2=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),df=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),Qr=(r,e)=>r<<32-e|r>>>e,pC=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!pC)throw new Error("Non little-endian hardware is not supported");var XQ=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function fC(r){if(typeof r!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof r}`);return new TextEncoder().encode(r)}function wo(r){if(typeof r=="string"&&(r=fC(r)),!(r instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof r})`);return r}var xo=class{clone(){return this._cloneInto()}};function Sn(r){let e=n=>r().update(wo(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function i2(r){let e=(n,o)=>r(o).update(wo(n)).digest(),t=r({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=n=>r(n),e}function lC(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);let o=BigInt(32),s=BigInt(4294967295),a=Number(t>>o&s),u=Number(t&s),f=n?4:0,g=n?0:4;r.setUint32(e+f,a,n),r.setUint32(e+g,u,n)}var Ti=class extends xo{constructor(e,t,n,o){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=df(this.buffer)}update(e){ir.exists(this);let{view:t,buffer:n,blockLen:o}=this;e=wo(e);let s=e.length;for(let a=0;a<s;){let u=Math.min(o-this.pos,s-a);if(u===o){let f=df(e);for(;o<=s-a;a+=o)this.process(f,a);continue}n.set(e.subarray(a,a+u),this.pos),this.pos+=u,a+=u,this.pos===o&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ir.exists(this),ir.output(e,this),this.finished=!0;let{buffer:t,view:n,blockLen:o,isLE:s}=this,{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(n,0),a=0);for(let S=a;S<o;S++)t[S]=0;lC(n,o-8,BigInt(this.length*8),s),this.process(n,0);let u=df(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let g=f/4,b=this.get();if(g>b.length)throw new Error("_sha2: outputLen bigger than state");for(let S=0;S<g;S++)u.setUint32(4*S,b[S],s)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:n,length:o,finished:s,destroyed:a,pos:u}=this;return e.length=o,e.pos=u,e.finished=s,e.destroyed=a,o%t&&e.buffer.set(n),e}};l();var hf=BigInt(4294967295),Qy=BigInt(32);function a2(r,e=!1){return e?{h:Number(r&hf),l:Number(r>>Qy&hf)}:{h:Number(r>>Qy&hf)|0,l:Number(r&hf)|0}}function dC(r,e=!1){let t=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let o=0;o<r.length;o++){let{h:s,l:a}=a2(r[o],e);[t[o],n[o]]=[s,a]}return[t,n]}var hC=(r,e)=>BigInt(r>>>0)<<Qy|BigInt(e>>>0),yC=(r,e,t)=>r>>>t,mC=(r,e,t)=>r<<32-t|e>>>t,gC=(r,e,t)=>r>>>t|e<<32-t,xC=(r,e,t)=>r<<32-t|e>>>t,wC=(r,e,t)=>r<<64-t|e>>>t-32,bC=(r,e,t)=>r>>>t-32|e<<64-t,SC=(r,e)=>e,vC=(r,e)=>r,EC=(r,e,t)=>r<<t|e>>>32-t,_C=(r,e,t)=>e<<t|r>>>32-t,RC=(r,e,t)=>e<<t-32|r>>>64-t,kC=(r,e,t)=>r<<t-32|e>>>64-t;function AC(r,e,t,n){let o=(e>>>0)+(n>>>0);return{h:r+t+(o/2**32|0)|0,l:o|0}}var IC=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),BC=(r,e,t,n)=>e+t+n+(r/2**32|0)|0,TC=(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0),PC=(r,e,t,n,o)=>e+t+n+o+(r/2**32|0)|0,zC=(r,e,t,n,o)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(o>>>0),MC=(r,e,t,n,o,s)=>e+t+n+o+s+(r/2**32|0)|0,LC={fromBig:a2,split:dC,toBig:hC,shrSH:yC,shrSL:mC,rotrSH:gC,rotrSL:xC,rotrBH:wC,rotrBL:bC,rotr32H:SC,rotr32L:vC,rotlSH:EC,rotlSL:_C,rotlBH:RC,rotlBL:kC,add:AC,add3L:IC,add3H:BC,add4L:TC,add4H:PC,add5H:MC,add5L:zC},ze=LC;var[NC,CC]=ze.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),bo=new Uint32Array(80),So=new Uint32Array(80),Pi=class extends Ti{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:t,Bh:n,Bl:o,Ch:s,Cl:a,Dh:u,Dl:f,Eh:g,El:b,Fh:S,Fl:O,Gh:C,Gl:V,Hh:J,Hl:$}=this;return[e,t,n,o,s,a,u,f,g,b,S,O,C,V,J,$]}set(e,t,n,o,s,a,u,f,g,b,S,O,C,V,J,$){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=o|0,this.Ch=s|0,this.Cl=a|0,this.Dh=u|0,this.Dl=f|0,this.Eh=g|0,this.El=b|0,this.Fh=S|0,this.Fl=O|0,this.Gh=C|0,this.Gl=V|0,this.Hh=J|0,this.Hl=$|0}process(e,t){for(let we=0;we<16;we++,t+=4)bo[we]=e.getUint32(t),So[we]=e.getUint32(t+=4);for(let we=16;we<80;we++){let Pe=bo[we-15]|0,Oe=So[we-15]|0,Ae=ze.rotrSH(Pe,Oe,1)^ze.rotrSH(Pe,Oe,8)^ze.shrSH(Pe,Oe,7),He=ze.rotrSL(Pe,Oe,1)^ze.rotrSL(Pe,Oe,8)^ze.shrSL(Pe,Oe,7),_=bo[we-2]|0,P=So[we-2]|0,N=ze.rotrSH(_,P,19)^ze.rotrBH(_,P,61)^ze.shrSH(_,P,6),D=ze.rotrSL(_,P,19)^ze.rotrBL(_,P,61)^ze.shrSL(_,P,6),z=ze.add4L(He,D,So[we-7],So[we-16]),m=ze.add4H(z,Ae,N,bo[we-7],bo[we-16]);bo[we]=m|0,So[we]=z|0}let{Ah:n,Al:o,Bh:s,Bl:a,Ch:u,Cl:f,Dh:g,Dl:b,Eh:S,El:O,Fh:C,Fl:V,Gh:J,Gl:$,Hh:pe,Hl:W}=this;for(let we=0;we<80;we++){let Pe=ze.rotrSH(S,O,14)^ze.rotrSH(S,O,18)^ze.rotrBH(S,O,41),Oe=ze.rotrSL(S,O,14)^ze.rotrSL(S,O,18)^ze.rotrBL(S,O,41),Ae=S&C^~S&J,He=O&V^~O&$,_=ze.add5L(W,Oe,He,CC[we],So[we]),P=ze.add5H(_,pe,Pe,Ae,NC[we],bo[we]),N=_|0,D=ze.rotrSH(n,o,28)^ze.rotrBH(n,o,34)^ze.rotrBH(n,o,39),z=ze.rotrSL(n,o,28)^ze.rotrBL(n,o,34)^ze.rotrBL(n,o,39),m=n&s^n&u^s&u,c=o&a^o&f^a&f;pe=J|0,W=$|0,J=C|0,$=V|0,C=S|0,V=O|0,{h:S,l:O}=ze.add(g|0,b|0,P|0,N|0),g=u|0,b=f|0,u=s|0,f=a|0,s=n|0,a=o|0;let p=ze.add3L(N,z,c);n=ze.add3H(p,P,D,m),o=p|0}({h:n,l:o}=ze.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:s,l:a}=ze.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:u,l:f}=ze.add(this.Ch|0,this.Cl|0,u|0,f|0),{h:g,l:b}=ze.add(this.Dh|0,this.Dl|0,g|0,b|0),{h:S,l:O}=ze.add(this.Eh|0,this.El|0,S|0,O|0),{h:C,l:V}=ze.add(this.Fh|0,this.Fl|0,C|0,V|0),{h:J,l:$}=ze.add(this.Gh|0,this.Gl|0,J|0,$|0),{h:pe,l:W}=ze.add(this.Hh|0,this.Hl|0,pe|0,W|0),this.set(n,o,s,a,u,f,g,b,S,O,C,V,J,$,pe,W)}roundClean(){bo.fill(0),So.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},em=class extends Pi{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},tm=class extends Pi{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},rm=class extends Pi{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},c2=Sn(()=>new Pi),pee=Sn(()=>new em),fee=Sn(()=>new tm),lee=Sn(()=>new rm);l();var OC=je(nm(),1);var $t=BigInt(0),We=BigInt(1),_o=BigInt(2),qC=BigInt(8),u2=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),Lt=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:u2,n:u2,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});var h2=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),Ca=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),xee=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),UC=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),DC=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),FC=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),jC=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Wt=class r{constructor(e,t,n,o){this.x=e,this.y=t,this.z=n,this.t=o}static fromAffine(e){if(!(e instanceof Dt))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(Dt.ZERO)?r.ZERO:new r(e.x,e.y,We,Q(e.x*e.y))}static toAffineBatch(e){let t=WC(e.map(n=>n.z));return e.map((n,o)=>n.toAffine(t[o]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){f2(e);let{x:t,y:n,z:o}=this,{x:s,y:a,z:u}=e,f=Q(t*u),g=Q(s*o),b=Q(n*u),S=Q(a*o);return f===g&&b===S}negate(){return new r(Q(-this.x),this.y,this.z,Q(-this.t))}double(){let{x:e,y:t,z:n}=this,{a:o}=Lt,s=Q(e*e),a=Q(t*t),u=Q(_o*Q(n*n)),f=Q(o*s),g=e+t,b=Q(Q(g*g)-s-a),S=f+a,O=S-u,C=f-a,V=Q(b*O),J=Q(S*C),$=Q(b*C),pe=Q(O*S);return new r(V,J,pe,$)}add(e){f2(e);let{x:t,y:n,z:o,t:s}=this,{x:a,y:u,z:f,t:g}=e,b=Q((n-t)*(u+a)),S=Q((n+t)*(u-a)),O=Q(S-b);if(O===$t)return this.double();let C=Q(o*_o*g),V=Q(s*_o*f),J=V+C,$=S+b,pe=V-C,W=Q(J*O),we=Q($*pe),Pe=Q(J*pe),Oe=Q(O*$);return new r(W,we,Oe,Pe)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let t=1+256/e,n=[],o=this,s=o;for(let a=0;a<t;a++){s=o,n.push(s);for(let u=1;u<2**(e-1);u++)s=s.add(o),n.push(s);o=s.double()}return n}wNAF(e,t){!t&&this.equals(r.BASE)&&(t=Dt.BASE);let n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let o=t&&am.get(t);o||(o=this.precomputeWindow(n),t&&n!==1&&(o=r.normalizeZ(o),am.set(t,o)));let s=r.ZERO,a=r.BASE,u=1+256/n,f=2**(n-1),g=BigInt(2**n-1),b=2**n,S=BigInt(n);for(let O=0;O<u;O++){let C=O*f,V=Number(e&g);e>>=S,V>f&&(V-=b,e+=We);let J=C,$=C+Math.abs(V)-1,pe=O%2!==0,W=V<0;V===0?a=a.add(p2(pe,o[J])):s=s.add(p2(W,o[$]))}return r.normalizeZ([s,a])[0]}multiply(e,t){return this.wNAF(mf(e,Lt.l),t)}multiplyUnsafe(e){let t=mf(e,Lt.l,!1),n=r.BASE,o=r.ZERO;if(t===$t)return o;if(this.equals(o)||t===We)return this;if(this.equals(n))return this.wNAF(t);let s=o,a=this;for(;t>$t;)t&We&&(s=s.add(a)),a=a.double(),t>>=We;return s}isSmallOrder(){return this.multiplyUnsafe(Lt.h).equals(r.ZERO)}isTorsionFree(){let e=this.multiplyUnsafe(Lt.l/_o).double();return Lt.l%_o&&(e=e.add(this)),e.equals(r.ZERO)}toAffine(e){let{x:t,y:n,z:o}=this,s=this.equals(r.ZERO);e==null&&(e=s?qC:xf(o));let a=Q(t*e),u=Q(n*e),f=Q(o*e);if(s)return Dt.ZERO;if(f!==We)throw new Error("invZ was invalid");return new Dt(a,u)}fromRistrettoBytes(){sm()}toRistrettoBytes(){sm()}fromRistrettoHash(){sm()}};Wt.BASE=new Wt(Lt.Gx,Lt.Gy,We,Q(Lt.Gx*Lt.Gy));Wt.ZERO=new Wt($t,We,We,$t);function p2(r,e){let t=e.negate();return r?t:e}function f2(r){if(!(r instanceof Wt))throw new TypeError("ExtendedPoint expected")}function om(r){if(!(r instanceof zs))throw new TypeError("RistrettoPoint expected")}function sm(){throw new Error("Legacy method: switch to RistrettoPoint")}var zs=class r{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:t}=Lt,n=Q(Ca*e*e),o=Q((n+We)*FC),s=BigInt(-1),a=Q((s-t*n)*Q(n+t)),{isValid:u,value:f}=um(o,a),g=Q(f*e);Eo(g)||(g=Q(-g)),u||(f=g),u||(s=n);let b=Q(s*(n-We)*jC-a),S=f*f,O=Q((f+f)*a),C=Q(b*UC),V=Q(We-S),J=Q(We+S);return new Wt(Q(O*J),Q(V*C),Q(C*J),Q(O*V))}static hashToCurve(e){e=Ro(e,64);let t=im(e.slice(0,32)),n=this.calcElligatorRistrettoMap(t),o=im(e.slice(32,64)),s=this.calcElligatorRistrettoMap(o);return new r(n.add(s))}static fromHex(e){e=Ro(e,32);let{a:t,d:n}=Lt,o="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",s=im(e);if(!GC(Ua(s),e)||Eo(s))throw new Error(o);let a=Q(s*s),u=Q(We+t*a),f=Q(We-t*a),g=Q(u*u),b=Q(f*f),S=Q(t*n*g-b),{isValid:O,value:C}=d2(Q(S*b)),V=Q(C*f),J=Q(C*V*S),$=Q((s+s)*V);Eo($)&&($=Q(-$));let pe=Q(u*J),W=Q($*pe);if(!O||Eo(W)||pe===$t)throw new Error(o);return new r(new Wt($,pe,We,W))}toRawBytes(){let{x:e,y:t,z:n,t:o}=this.ep,s=Q(Q(n+t)*Q(n-t)),a=Q(e*t),u=Q(a*a),{value:f}=d2(Q(s*u)),g=Q(f*s),b=Q(f*a),S=Q(g*b*o),O;if(Eo(o*S)){let V=Q(t*Ca),J=Q(e*Ca);e=V,t=J,O=Q(g*DC)}else O=b;Eo(e*S)&&(t=Q(-t));let C=Q((n-t)*O);return Eo(C)&&(C=Q(-C)),Ua(C)}toHex(){return Da(this.toRawBytes())}toString(){return this.toHex()}equals(e){om(e);let t=this.ep,n=e.ep,o=Q(t.x*n.y)===Q(t.y*n.x),s=Q(t.y*n.y)===Q(t.x*n.x);return o||s}add(e){return om(e),new r(this.ep.add(e.ep))}subtract(e){return om(e),new r(this.ep.subtract(e.ep))}multiply(e){return new r(this.ep.multiply(e))}multiplyUnsafe(e){return new r(this.ep.multiplyUnsafe(e))}};zs.BASE=new zs(Wt.BASE);zs.ZERO=new zs(Wt.ZERO);var am=new WeakMap,Dt=class r{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,am.delete(this)}static fromHex(e,t=!0){let{d:n,P:o}=Lt;e=Ro(e,32);let s=e.slice();s[31]=e[31]&-129;let a=Fa(s);if(t&&a>=o)throw new Error("Expected 0 < hex < P");if(!t&&a>=h2)throw new Error("Expected 0 < hex < 2**256");let u=Q(a*a),f=Q(u-We),g=Q(n*u+We),{isValid:b,value:S}=um(f,g);if(!b)throw new Error("Point.fromHex: invalid y coordinate");let O=(S&We)===We;return(e[31]&128)!==0!==O&&(S=Q(-S)),new r(S,a)}static async fromPrivateKey(e){return(await x2(e)).point}toRawBytes(){let e=Ua(this.y);return e[31]|=this.x&We?128:0,e}toHex(){return Da(this.toRawBytes())}toX25519(){let{y:e}=this,t=Q((We+e)*xf(We-e));return Ua(t)}isTorsionFree(){return Wt.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new r(Q(-this.x),this.y)}add(e){return Wt.fromAffine(this).add(Wt.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Wt.fromAffine(this).multiply(e,this).toAffine()}};Dt.BASE=new Dt(Lt.Gx,Lt.Gy);Dt.ZERO=new Dt($t,We);var qa=class r{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){let t=Ro(e,64),n=Dt.fromHex(t.slice(0,32),!1),o=Fa(t.slice(32,64));return new r(n,o)}assertValidity(){let{r:e,s:t}=this;if(!(e instanceof Dt))throw new Error("Expected Point instance");return mf(t,Lt.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(Ua(this.s),32),e}toHex(){return Da(this.toRawBytes())}};function l2(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(r.length===1)return r[0];let e=r.reduce((n,o)=>n+o.length,0),t=new Uint8Array(e);for(let n=0,o=0;n<r.length;n++){let s=r[n];t.set(s,o),o+=s.length}return t}var HC=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function Da(r){if(!(r instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=HC[r[t]];return e}function cm(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(r.length/2);for(let t=0;t<e.length;t++){let n=t*2,o=r.slice(n,n+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[t]=s}return e}function y2(r){let t=r.toString(16).padStart(64,"0");return cm(t)}function Ua(r){return y2(r).reverse()}function Eo(r){return(Q(r)&We)===We}function Fa(r){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+Da(Uint8Array.from(r).reverse()))}var KC=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function im(r){return Q(Fa(r)&KC)}function Q(r,e=Lt.P){let t=r%e;return t>=$t?t:e+t}function xf(r,e=Lt.P){if(r===$t||e<=$t)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=Q(r,e),n=e,o=$t,s=We,a=We,u=$t;for(;t!==$t;){let g=n/t,b=n%t,S=o-a*g,O=s-u*g;n=t,t=b,o=a,s=u,a=S,u=O}if(n!==We)throw new Error("invert: does not exist");return Q(o,e)}function WC(r,e=Lt.P){let t=new Array(r.length),n=r.reduce((s,a,u)=>a===$t?s:(t[u]=s,Q(s*a,e)),We),o=xf(n,e);return r.reduceRight((s,a,u)=>a===$t?s:(t[u]=Q(s*t[u],e),Q(s*a,e)),o),t}function vn(r,e){let{P:t}=Lt,n=r;for(;e-- >$t;)n*=n,n%=t;return n}function VC(r){let{P:e}=Lt,t=BigInt(5),n=BigInt(10),o=BigInt(20),s=BigInt(40),a=BigInt(80),f=r*r%e*r%e,g=vn(f,_o)*f%e,b=vn(g,We)*r%e,S=vn(b,t)*b%e,O=vn(S,n)*S%e,C=vn(O,o)*O%e,V=vn(C,s)*C%e,J=vn(V,a)*V%e,$=vn(J,a)*V%e,pe=vn($,n)*S%e;return{pow_p_5_8:vn(pe,_o)*r%e,b2:f}}function um(r,e){let t=Q(e*e*e),n=Q(t*t*e),o=VC(r*n).pow_p_5_8,s=Q(r*t*o),a=Q(e*s*s),u=s,f=Q(s*Ca),g=a===r,b=a===Q(-r),S=a===Q(-r*Ca);return g&&(s=u),(b||S)&&(s=f),Eo(s)&&(s=Q(-s)),{isValid:g||b,value:s}}function d2(r){return um(We,r)}function yf(r){return Q(Fa(r),Lt.l)}function GC(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function Ro(r,e){let t=r instanceof Uint8Array?Uint8Array.from(r):cm(r);if(typeof e=="number"&&t.length!==e)throw new Error(`Expected ${e} bytes`);return t}function mf(r,e,t=!0){if(!e)throw new TypeError("Specify max value");if(typeof r=="number"&&Number.isSafeInteger(r)&&(r=BigInt(r)),typeof r=="bigint"&&r<e){if(t){if($t<r)return r}else if($t<=r)return r}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function ZC(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function m2(r){if(r=typeof r=="bigint"||typeof r=="number"?y2(mf(r,h2)):Ro(r),r.length!==32)throw new Error("Expected 32 bytes");return r}function g2(r){let e=ZC(r.slice(0,32)),t=r.slice(32,64),n=yf(e),o=Dt.BASE.multiply(n),s=o.toRawBytes();return{head:e,prefix:t,scalar:n,point:o,pointBytes:s}}var Oa;function gf(...r){if(typeof Oa!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return Oa(...r)}async function x2(r){return g2(await ko.sha512(m2(r)))}function pm(r){return g2(gf(m2(r)))}function YC(r){return pm(r).pointBytes}function $C(r,e){r=Ro(r);let{prefix:t,scalar:n,pointBytes:o}=pm(e),s=yf(gf(t,r)),a=Dt.BASE.multiply(s),u=yf(gf(a.toRawBytes(),o,r)),f=Q(s+u*n,Lt.l);return new qa(a,f).toRawBytes()}function JC(r,e,t){e=Ro(e),t instanceof Dt||(t=Dt.fromHex(t,!1));let{r:n,s:o}=r instanceof qa?r.assertValidity():qa.fromHex(r),s=Wt.BASE.multiplyUnsafe(o);return{r:n,s:o,SB:s,pub:t,msg:e}}function XC(r,e,t,n){let o=yf(n),s=Wt.fromAffine(r).multiplyUnsafe(o);return Wt.fromAffine(e).add(s).subtract(t).multiplyUnsafe(Lt.h).equals(Wt.ZERO)}function QC(r,e,t){let{r:n,SB:o,msg:s,pub:a}=JC(r,e,t),u=gf(n.toRawBytes(),a.toRawBytes(),s);return XC(a,n,o,u)}var wf={getExtendedPublicKey:pm,getPublicKey:YC,sign:$C,verify:QC};Dt.BASE._setWindowSize(8);var vo={node:OC,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},ko={bytesToHex:Da,hexToBytes:cm,concatBytes:l2,getExtendedPublicKey:x2,mod:Q,invert:xf,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:r=>{if(r=Ro(r),r.length<40||r.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return Q(Fa(r),Lt.l-We)+We},randomBytes:(r=32)=>{if(vo.web)return vo.web.getRandomValues(new Uint8Array(r));if(vo.node){let{randomBytes:e}=vo.node;return new Uint8Array(e(r).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>ko.randomBytes(32),sha512:async(...r)=>{let e=l2(...r);if(vo.web){let t=await vo.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(t)}else{if(vo.node)return Uint8Array.from(vo.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(r=8,e=Dt.BASE){let t=e.equals(Dt.BASE)?e:new Dt(e.x,e.y);return t._setWindowSize(r),t.multiply(_o),t},sha512Sync:void 0};Object.defineProperties(ko,{sha512Sync:{configurable:!1,get(){return Oa},set(r){Oa||(Oa=r)}}});var Jm=je(Nc()),fr=je(co());l();var tO=(r,e,t)=>r&e^~r&t,rO=(r,e,t)=>r&e^r&t^e&t,nO=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ao=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Io=new Uint32Array(64),bf=class extends Ti{constructor(){super(64,32,8,!1),this.A=Ao[0]|0,this.B=Ao[1]|0,this.C=Ao[2]|0,this.D=Ao[3]|0,this.E=Ao[4]|0,this.F=Ao[5]|0,this.G=Ao[6]|0,this.H=Ao[7]|0}get(){let{A:e,B:t,C:n,D:o,E:s,F:a,G:u,H:f}=this;return[e,t,n,o,s,a,u,f]}set(e,t,n,o,s,a,u,f){this.A=e|0,this.B=t|0,this.C=n|0,this.D=o|0,this.E=s|0,this.F=a|0,this.G=u|0,this.H=f|0}process(e,t){for(let S=0;S<16;S++,t+=4)Io[S]=e.getUint32(t,!1);for(let S=16;S<64;S++){let O=Io[S-15],C=Io[S-2],V=Qr(O,7)^Qr(O,18)^O>>>3,J=Qr(C,17)^Qr(C,19)^C>>>10;Io[S]=J+Io[S-7]+V+Io[S-16]|0}let{A:n,B:o,C:s,D:a,E:u,F:f,G:g,H:b}=this;for(let S=0;S<64;S++){let O=Qr(u,6)^Qr(u,11)^Qr(u,25),C=b+O+tO(u,f,g)+nO[S]+Io[S]|0,J=(Qr(n,2)^Qr(n,13)^Qr(n,22))+rO(n,o,s)|0;b=g,g=f,f=u,u=a+C|0,a=s,s=o,o=n,n=C+J|0}n=n+this.A|0,o=o+this.B|0,s=s+this.C|0,a=a+this.D|0,u=u+this.E|0,f=f+this.F|0,g=g+this.G|0,b=b+this.H|0,this.set(n,o,s,a,u,f,g,b)}roundClean(){Io.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},fm=class extends bf{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},Sf=Sn(()=>new bf),vee=Sn(()=>new fm);var Vi=je(_2()),L=je(Ri()),VB=je(Ri()),dc=je(gm());l();var xm=class extends TypeError{constructor(e,t){let n,{message:o,...s}=e,{path:a}=e,u=a.length===0?o:"At path: "+a.join(".")+" -- "+o;super(u),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var f;return(f=n)!=null?f:n=[e,...t()]}}};function EO(r){return To(r)&&typeof r[Symbol.iterator]=="function"}function To(r){return typeof r=="object"&&r!=null}function en(r){return typeof r=="string"?JSON.stringify(r):""+r}function _O(r){let{done:e,value:t}=r.next();return e?void 0:t}function RO(r,e,t,n){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});let{path:o,branch:s}=e,{type:a}=t,{refinement:u,message:f="Expected a value of type `"+a+"`"+(u?" with refinement `"+u+"`":"")+", but received: `"+en(n)+"`"}=r;return{value:n,type:a,refinement:u,key:o[o.length-1],path:o,branch:s,...r,message:f}}function*R2(r,e,t,n){EO(r)||(r=[r]);for(let o of r){let s=RO(o,e,t,n);s&&(yield s)}}function*wm(r,e,t={}){let{path:n=[],branch:o=[r],coerce:s=!1,mask:a=!1}=t,u={path:n,branch:o};if(s&&(r=e.coercer(r,u),a&&e.type!=="type"&&To(e.schema)&&To(r)&&!Array.isArray(r)))for(let g in r)e.schema[g]===void 0&&delete r[g];let f=!0;for(let g of e.validator(r,u))f=!1,yield[g,void 0];for(let[g,b,S]of e.entries(r,u)){let O=wm(b,S,{path:g===void 0?n:[...n,g],branch:g===void 0?o:[...o,b],coerce:s,mask:a});for(let C of O)C[0]?(f=!1,yield[C[0],void 0]):s&&(b=C[1],g===void 0?r=b:r instanceof Map?r.set(g,b):r instanceof Set?r.add(b):To(r)&&(r[g]=b))}if(f)for(let g of e.refiner(r,u))f=!1,yield[g,void 0];f&&(yield[void 0,r])}var Wr=class{constructor(e){let{type:t,schema:n,validator:o,refiner:s,coercer:a=f=>f,entries:u=function*(){}}=e;this.type=t,this.schema=n,this.entries=u,this.coercer=a,o?this.validator=(f,g)=>{let b=o(f,g);return R2(b,g,this,f)}:this.validator=()=>[],s?this.refiner=(f,g)=>{let b=s(f,g);return R2(b,g,this,f)}:this.refiner=()=>[]}assert(e){return k2(e,this)}create(e){return Li(e,this)}is(e){return A2(e,this)}mask(e){return kO(e,this)}validate(e,t={}){return ja(e,this,t)}};function k2(r,e){let t=ja(r,e);if(t[0])throw t[0]}function Li(r,e){let t=ja(r,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function kO(r,e){let t=ja(r,e,{coerce:!0,mask:!0});if(t[0])throw t[0];return t[1]}function A2(r,e){return!ja(r,e)[0]}function ja(r,e,t={}){let n=wm(r,e,t),o=_O(n);return o[0]?[new xm(o[0],function*(){for(let a of n)a[0]&&(yield a[0])}),void 0]:[void 0,o[1]]}function Ns(r,e){return new Wr({type:r,schema:null,validator:e})}function I2(){return Ns("any",()=>!0)}function me(r){return new Wr({type:"array",schema:r,*entries(e){if(r&&Array.isArray(e))for(let[t,n]of e.entries())yield[t,n,r]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+en(e)}})}function Rn(){return Ns("boolean",r=>typeof r=="boolean")}function Bf(r){return Ns("instance",e=>e instanceof r||"Expected a `"+r.name+"` instance, but received: "+en(e))}function qt(r){let e=en(r),t=typeof r;return new Wr({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?r:null,validator(n){return n===r||"Expected the literal `"+e+"`, but received: "+en(n)}})}function AO(){return Ns("never",()=>!1)}function de(r){return new Wr({...r,validator:(e,t)=>e===null||r.validator(e,t),refiner:(e,t)=>e===null||r.refiner(e,t)})}function K(){return Ns("number",r=>typeof r=="number"&&!isNaN(r)||"Expected a number, but received: "+en(r))}function Re(r){return new Wr({...r,validator:(e,t)=>e===void 0||r.validator(e,t),refiner:(e,t)=>e===void 0||r.refiner(e,t)})}function bm(r,e){return new Wr({type:"record",schema:null,*entries(t){if(To(t))for(let n in t){let o=t[n];yield[n,n,r],yield[n,o,e]}},validator(t){return To(t)||"Expected an object, but received: "+en(t)}})}function ce(){return Ns("string",r=>typeof r=="string"||"Expected a string, but received: "+en(r))}function Tf(r){let e=AO();return new Wr({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){let n=Math.max(r.length,t.length);for(let o=0;o<n;o++)yield[o,t[o],r[o]||e]}},validator(t){return Array.isArray(t)||"Expected an array, but received: "+en(t)}})}function ee(r){let e=Object.keys(r);return new Wr({type:"type",schema:r,*entries(t){if(To(t))for(let n of e)yield[n,t[n],r[n]]},validator(t){return To(t)||"Expected an object, but received: "+en(t)}})}function gr(r){let e=r.map(t=>t.type).join(" | ");return new Wr({type:"union",schema:null,validator(t,n){let o=[];for(let s of r){let[...a]=wm(t,s,n),[u]=a;if(u[0])for(let[f]of a)f&&o.push(f);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+en(t),...o]}})}function Ni(){return Ns("unknown",()=>!0)}function Ci(r,e,t){return new Wr({...r,coercer:(n,o)=>A2(n,e)?r.coercer(t(n,o),o):r.coercer(n,o)})}var H5=je(J2()),K5=je(fB()),W5=je(dB());l();var[mB,gB,xB]=[[],[],[]],S5=BigInt(0),nc=BigInt(1),v5=BigInt(2),E5=BigInt(7),_5=BigInt(256),R5=BigInt(113);for(let r=0,e=nc,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],mB.push(2*(5*n+t)),gB.push((r+1)*(r+2)/2%64);let o=S5;for(let s=0;s<7;s++)e=(e<<nc^(e>>E5)*R5)%_5,e&v5&&(o^=nc<<(nc<<BigInt(s))-nc);xB.push(o)}var[k5,A5]=ze.split(xB,!0),hB=(r,e,t)=>t>32?ze.rotlBH(r,e,t):ze.rotlSH(r,e,t),yB=(r,e,t)=>t>32?ze.rotlBL(r,e,t):ze.rotlSL(r,e,t);function I5(r,e=24){let t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)t[a]=r[a]^r[a+10]^r[a+20]^r[a+30]^r[a+40];for(let a=0;a<10;a+=2){let u=(a+8)%10,f=(a+2)%10,g=t[f],b=t[f+1],S=hB(g,b,1)^t[u],O=yB(g,b,1)^t[u+1];for(let C=0;C<50;C+=10)r[a+C]^=S,r[a+C+1]^=O}let o=r[2],s=r[3];for(let a=0;a<24;a++){let u=gB[a],f=hB(o,s,u),g=yB(o,s,u),b=mB[a];o=r[b],s=r[b+1],r[b]=f,r[b+1]=g}for(let a=0;a<50;a+=10){for(let u=0;u<10;u++)t[u]=r[a+u];for(let u=0;u<10;u++)r[a+u]^=~t[(u+2)%10]&t[(u+4)%10]}r[0]^=k5[n],r[1]^=A5[n]}t.fill(0)}var Zf=class r extends xo{constructor(e,t,n,o=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=o,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ir.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=s2(this.state)}keccak(){I5(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){ir.exists(this);let{blockLen:t,state:n}=this;e=wo(e);let o=e.length;for(let s=0;s<o;){let a=Math.min(t-this.pos,o-s);for(let u=0;u<a;u++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:n,blockLen:o}=this;e[n]^=t,t&128&&n===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){ir.exists(this,!1),ir.bytes(e),this.finish();let t=this.state,{blockLen:n}=this;for(let o=0,s=e.length;o<s;){this.posOut>=n&&this.keccak();let a=Math.min(n-this.posOut,s-o);e.set(t.subarray(this.posOut,this.posOut+a),o),this.posOut+=a,o+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ir.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(ir.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:n,outputLen:o,rounds:s,enableXOF:a}=this;return e||(e=new r(t,n,o,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=o,e.enableXOF=a,e.destroyed=this.destroyed,e}},Lo=(r,e,t)=>Sn(()=>new Zf(e,r,t)),$te=Lo(6,144,224/8),Jte=Lo(6,136,256/8),Xte=Lo(6,104,384/8),Qte=Lo(6,72,512/8),ere=Lo(1,144,224/8),Dm=Lo(1,136,256/8),tre=Lo(1,104,384/8),rre=Lo(1,72,512/8),wB=(r,e,t)=>i2((n={})=>new Zf(e,r,n.dkLen===void 0?t:n.dkLen,!0)),nre=wB(31,168,128/8),ore=wB(31,136,256/8);l();var Yf=class extends xo{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,ir.hash(e);let n=wo(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,s=new Uint8Array(o);s.set(n.length>o?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return ir.exists(this),this.iHash.update(e),this}digestInto(e){ir.exists(this),ir.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:n,finished:o,destroyed:s,blockLen:a,outputLen:u}=this;return e=e,e.finished=o,e.destroyed=s,e.blockLen=a,e.outputLen=u,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Fm=(r,e,t)=>new Yf(r,e).update(t).digest();Fm.create=(r,e)=>new Yf(r,e);l();var B5=je(nm(),1);var Ve=BigInt(0),Nt=BigInt(1),Co=BigInt(2),sc=BigInt(3),bB=BigInt(8),Ht=Object.freeze({a:Ve,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Nt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),SB=(r,e)=>(r+e/Co)/e,$f={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(r){let{n:e}=Ht,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Nt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=t,a=BigInt("0x100000000000000000000000000000000"),u=SB(s*r,e),f=SB(-n*r,e),g=ye(r-u*t-f*o,e),b=ye(-u*n-f*s,e),S=g>a,O=b>a;if(S&&(g=e-g),O&&(b=e-b),g>a||b>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+r);return{k1neg:S,k1:g,k2neg:O,k2:b}}},rn=32,Fi=32,T5=32,vB=rn+1,EB=2*rn+1;function _B(r){let{a:e,b:t}=Ht,n=ye(r*r),o=ye(n*r);return ye(o+e*r+t)}var Jf=Ht.a===Ve,el=class extends Error{constructor(e){super(e)}};function RB(r){if(!(r instanceof xr))throw new TypeError("JacobianPoint expected")}var xr=class r{constructor(e,t,n){this.x=e,this.y=t,this.z=n}static fromAffine(e){if(!(e instanceof tr))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(tr.ZERO)?r.ZERO:new r(e.x,e.y,Nt)}static toAffineBatch(e){let t=N5(e.map(n=>n.z));return e.map((n,o)=>n.toAffine(t[o]))}static normalizeZ(e){return r.toAffineBatch(e).map(r.fromAffine)}equals(e){RB(e);let{x:t,y:n,z:o}=this,{x:s,y:a,z:u}=e,f=ye(o*o),g=ye(u*u),b=ye(t*g),S=ye(s*f),O=ye(ye(n*u)*g),C=ye(ye(a*o)*f);return b===S&&O===C}negate(){return new r(this.x,ye(-this.y),this.z)}double(){let{x:e,y:t,z:n}=this,o=ye(e*e),s=ye(t*t),a=ye(s*s),u=e+s,f=ye(Co*(ye(u*u)-o-a)),g=ye(sc*o),b=ye(g*g),S=ye(b-Co*f),O=ye(g*(f-S)-bB*a),C=ye(Co*t*n);return new r(S,O,C)}add(e){RB(e);let{x:t,y:n,z:o}=this,{x:s,y:a,z:u}=e;if(s===Ve||a===Ve)return this;if(t===Ve||n===Ve)return e;let f=ye(o*o),g=ye(u*u),b=ye(t*g),S=ye(s*f),O=ye(ye(n*u)*g),C=ye(ye(a*o)*f),V=ye(S-b),J=ye(C-O);if(V===Ve)return J===Ve?this.double():r.ZERO;let $=ye(V*V),pe=ye(V*$),W=ye(b*$),we=ye(J*J-pe-Co*W),Pe=ye(J*(W-we)-O*pe),Oe=ye(o*u*V);return new r(we,Pe,Oe)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let t=r.ZERO;if(typeof e=="bigint"&&e===Ve)return t;let n=IB(e);if(n===Nt)return this;if(!Jf){let S=t,O=this;for(;n>Ve;)n&Nt&&(S=S.add(O)),O=O.double(),n>>=Nt;return S}let{k1neg:o,k1:s,k2neg:a,k2:u}=$f.splitScalar(n),f=t,g=t,b=this;for(;s>Ve||u>Ve;)s&Nt&&(f=f.add(b)),u&Nt&&(g=g.add(b)),b=b.double(),s>>=Nt,u>>=Nt;return o&&(f=f.negate()),a&&(g=g.negate()),g=new r(ye(g.x*$f.beta),g.y,g.z),f.add(g)}precomputeWindow(e){let t=Jf?128/e+1:256/e+1,n=[],o=this,s=o;for(let a=0;a<t;a++){s=o,n.push(s);for(let u=1;u<2**(e-1);u++)s=s.add(o),n.push(s);o=s.double()}return n}wNAF(e,t){!t&&this.equals(r.BASE)&&(t=tr.BASE);let n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let o=t&&Hm.get(t);o||(o=this.precomputeWindow(n),t&&n!==1&&(o=r.normalizeZ(o),Hm.set(t,o)));let s=r.ZERO,a=r.BASE,u=1+(Jf?128/n:256/n),f=2**(n-1),g=BigInt(2**n-1),b=2**n,S=BigInt(n);for(let O=0;O<u;O++){let C=O*f,V=Number(e&g);e>>=S,V>f&&(V-=b,e+=Nt);let J=C,$=C+Math.abs(V)-1,pe=O%2!==0,W=V<0;V===0?a=a.add(Xf(pe,o[J])):s=s.add(Xf(W,o[$]))}return{p:s,f:a}}multiply(e,t){let n=IB(e),o,s;if(Jf){let{k1neg:a,k1:u,k2neg:f,k2:g}=$f.splitScalar(n),{p:b,f:S}=this.wNAF(u,t),{p:O,f:C}=this.wNAF(g,t);b=Xf(a,b),O=Xf(f,O),O=new r(ye(O.x*$f.beta),O.y,O.z),o=b.add(O),s=S.add(C)}else{let{p:a,f:u}=this.wNAF(n,t);o=a,s=u}return r.normalizeZ([o,s])[0]}toAffine(e){let{x:t,y:n,z:o}=this,s=this.equals(r.ZERO);e==null&&(e=s?bB:uc(o));let a=e,u=ye(a*a),f=ye(u*a),g=ye(t*u),b=ye(n*f),S=ye(o*a);if(s)return tr.ZERO;if(S!==Nt)throw new Error("invZ was invalid");return new tr(g,b)}};xr.BASE=new xr(Ht.Gx,Ht.Gy,Nt);xr.ZERO=new xr(Ve,Nt,Ve);function Xf(r,e){let t=e.negate();return r?t:e}var Hm=new WeakMap,tr=class r{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,Hm.delete(this)}hasEvenY(){return this.y%Co===Ve}static fromCompressedHex(e){let t=e.length===32,n=Oo(t?e:e.subarray(1));if(!jm(n))throw new Error("Point is not on curve");let o=_B(n),s=L5(o),a=(s&Nt)===Nt;t?a&&(s=ye(-s)):(e[0]&1)===1!==a&&(s=ye(-s));let u=new r(n,s);return u.assertValidity(),u}static fromUncompressedHex(e){let t=Oo(e.subarray(1,rn+1)),n=Oo(e.subarray(rn+1,rn*2+1)),o=new r(t,n);return o.assertValidity(),o}static fromHex(e){let t=ac(e),n=t.length,o=t[0];if(n===rn)return this.fromCompressedHex(t);if(n===vB&&(o===2||o===3))return this.fromCompressedHex(t);if(n===EB&&o===4)return this.fromUncompressedHex(t);throw new Error(`Point.fromHex: received invalid point. Expected 32-${vB} compressed bytes or ${EB} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return r.BASE.multiply(rl(e))}static fromSignature(e,t,n){let{r:o,s}=q5(t);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");let a=BB(ac(e)),{n:u}=Ht,f=n===2||n===3?o+u:o,g=uc(f,u),b=ye(-a*g,u),S=ye(s*g,u),O=n&1?"03":"02",C=r.fromHex(O+Ui(f)),V=r.BASE.multiplyAndAddUnsafe(C,b,S);if(!V)throw new Error("Cannot recover signature: point at infinify");return V.assertValidity(),V}toRawBytes(e=!1){return Os(this.toHex(e))}toHex(e=!1){let t=Ui(this.x);return e?`${this.hasEvenY()?"02":"03"}${t}`:`04${t}${Ui(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:t,y:n}=this;if(!jm(t)||!jm(n))throw new Error(e);let o=ye(n*n),s=_B(t);if(ye(o-s)!==Ve)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new r(this.x,ye(-this.y))}double(){return xr.fromAffine(this).double().toAffine()}add(e){return xr.fromAffine(this).add(xr.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return xr.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,n){let o=xr.fromAffine(this),s=t===Ve||t===Nt||this!==r.BASE?o.multiplyUnsafe(t):o.multiply(t),a=xr.fromAffine(e).multiplyUnsafe(n),u=s.add(a);return u.equals(xr.ZERO)?void 0:u.toAffine()}};tr.BASE=new tr(Ht.Gx,Ht.Gy);tr.ZERO=new tr(Ve,Ve);function kB(r){return Number.parseInt(r[0],16)>=8?"00"+r:r}function AB(r){if(r.length<2||r[0]!==2)throw new Error(`Invalid signature integer tag: ${ji(r)}`);let e=r[1],t=r.subarray(2,e+2);if(!e||t.length!==e)throw new Error("Invalid signature integer: wrong length");if(t[0]===0&&t[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Oo(t),left:r.subarray(e+2)}}function P5(r){if(r.length<2||r[0]!=48)throw new Error(`Invalid signature tag: ${ji(r)}`);if(r[1]!==r.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:t}=AB(r.subarray(2)),{data:n,left:o}=AB(t);if(o.length)throw new Error(`Invalid signature: left bytes after parsing: ${ji(o)}`);return{r:e,s:n}}var qi=class r{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){let t=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!t)throw new TypeError(`${n}: Expected string or Uint8Array`);let o=t?ji(e):e;if(o.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new r(tl(o.slice(0,64)),tl(o.slice(64,128)))}static fromDER(e){let t=e instanceof Uint8Array;if(typeof e!="string"&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:o}=P5(t?e:Os(e));return new r(n,o)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:t}=this;if(!cc(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!cc(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=Ht.n>>Nt;return this.s>e}normalizeS(){return this.hasHighS()?new r(this.r,ye(-this.s,Ht.n)):this}toDERRawBytes(){return Os(this.toDERHex())}toDERHex(){let e=kB(oc(this.s)),t=kB(oc(this.r)),n=e.length/2,o=t.length/2,s=oc(n),a=oc(o);return`30${oc(o+n+4)}02${a}${t}02${s}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Os(this.toCompactHex())}toCompactHex(){return Ui(this.r)+Ui(this.s)}};function No(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(r.length===1)return r[0];let e=r.reduce((n,o)=>n+o.length,0),t=new Uint8Array(e);for(let n=0,o=0;n<r.length;n++){let s=r[n];t.set(s,o),o+=s.length}return t}var z5=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function ji(r){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let t=0;t<r.length;t++)e+=z5[r[t]];return e}var M5=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Ui(r){if(typeof r!="bigint")throw new Error("Expected bigint");if(!(Ve<=r&&r<M5))throw new Error("Expected number 0 <= n < 2^256");return r.toString(16).padStart(64,"0")}function Km(r){let e=Os(Ui(r));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function oc(r){let e=r.toString(16);return e.length&1?`0${e}`:e}function tl(r){if(typeof r!="string")throw new TypeError("hexToNumber: expected string, got "+typeof r);return BigInt(`0x${r}`)}function Os(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+r.length);let e=new Uint8Array(r.length/2);for(let t=0;t<e.length;t++){let n=t*2,o=r.slice(n,n+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[t]=s}return e}function Oo(r){return tl(ji(r))}function ac(r){return r instanceof Uint8Array?Uint8Array.from(r):Os(r)}function IB(r){if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)return BigInt(r);if(typeof r=="bigint"&&cc(r))return r;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function ye(r,e=Ht.P){let t=r%e;return t>=Ve?t:e+t}function Vr(r,e){let{P:t}=Ht,n=r;for(;e-- >Ve;)n*=n,n%=t;return n}function L5(r){let{P:e}=Ht,t=BigInt(6),n=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),u=BigInt(88),f=r*r*r%e,g=f*f*r%e,b=Vr(g,sc)*g%e,S=Vr(b,sc)*g%e,O=Vr(S,Co)*f%e,C=Vr(O,n)*O%e,V=Vr(C,o)*C%e,J=Vr(V,a)*V%e,$=Vr(J,u)*J%e,pe=Vr($,a)*V%e,W=Vr(pe,sc)*g%e,we=Vr(W,s)*C%e,Pe=Vr(we,t)*f%e,Oe=Vr(Pe,Co);if(Oe*Oe%e!==r)throw new Error("Cannot find square root");return Oe}function uc(r,e=Ht.P){if(r===Ve||e<=Ve)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=ye(r,e),n=e,o=Ve,s=Nt,a=Nt,u=Ve;for(;t!==Ve;){let g=n/t,b=n%t,S=o-a*g,O=s-u*g;n=t,t=b,o=a,s=u,a=S,u=O}if(n!==Nt)throw new Error("invert: does not exist");return ye(o,e)}function N5(r,e=Ht.P){let t=new Array(r.length),n=r.reduce((s,a,u)=>a===Ve?s:(t[u]=s,ye(s*a,e)),Nt),o=uc(n,e);return r.reduceRight((s,a,u)=>a===Ve?s:(t[u]=ye(s*t[u],e),ye(s*a,e)),o),t}function C5(r){let e=r.length*8-Fi*8,t=Oo(r);return e>0?t>>BigInt(e):t}function BB(r,e=!1){let t=C5(r);if(e)return t;let{n}=Ht;return t>=n?t-n:t}var Di,ic,Wm=class{constructor(e,t){if(this.hashLen=e,this.qByteLen=t,typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return kn.hmacSha256(this.k,...e)}hmacSync(...e){return ic(this.k,...e)}checkSync(){if(typeof ic!="function")throw new el("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0,t=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);let n=this.v.slice();t.push(n),e+=this.v.length}return No(...t)}generateSync(){this.checkSync(),this.incr();let e=0,t=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);let n=this.v.slice();t.push(n),e+=this.v.length}return No(...t)}};function cc(r){return Ve<r&&r<Ht.n}function jm(r){return Ve<r&&r<Ht.P}function O5(r,e,t,n=!0){let{n:o}=Ht,s=BB(r,!0);if(!cc(s))return;let a=uc(s,o),u=tr.BASE.multiply(s),f=ye(u.x,o);if(f===Ve)return;let g=ye(a*ye(e+t*f,o),o);if(g===Ve)return;let b=new qi(f,g),S=(u.x===b.r?0:2)|Number(u.y&Nt);return n&&b.hasHighS()&&(b=b.normalizeS(),S^=1),{sig:b,recovery:S}}function rl(r){let e;if(typeof r=="bigint")e=r;else if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)e=BigInt(r);else if(typeof r=="string"){if(r.length!==2*Fi)throw new Error("Expected 32 bytes of private key");e=tl(r)}else if(r instanceof Uint8Array){if(r.length!==Fi)throw new Error("Expected 32 bytes of private key");e=Oo(r)}else throw new TypeError("Expected valid private key");if(!cc(e))throw new Error("Expected private key: 0 < key < n");return e}function q5(r){if(r instanceof qi)return r.assertValidity(),r;try{return qi.fromDER(r)}catch{return qi.fromCompact(r)}}function TB(r,e=!1){return tr.fromPrivateKey(r).toRawBytes(e)}function PB(r){let e=r.length>rn?r.slice(0,rn):r;return Oo(e)}function U5(r){let e=PB(r),t=ye(e,Ht.n);return zB(t<Ve?e:t)}function zB(r){return Km(r)}function D5(r,e,t){if(r==null)throw new Error(`sign: expected valid message hash, not "${r}"`);let n=ac(r),o=rl(e),s=[zB(o),U5(n)];if(t!=null){t===!0&&(t=kn.randomBytes(rn));let f=ac(t);if(f.length!==rn)throw new Error(`sign: Expected ${rn} bytes of extra data`);s.push(f)}let a=No(...s),u=PB(n);return{seed:a,m:u,d:o}}function F5(r,e){let{sig:t,recovery:n}=r,{der:o,recovered:s}=Object.assign({canonical:!0,der:!0},e),a=o?t.toDERRawBytes():t.toCompactRawBytes();return s?[a,n]:a}function MB(r,e,t={}){let{seed:n,m:o,d:s}=D5(r,e,t.extraEntropy),a=new Wm(T5,Fi);a.reseedSync(n);let u;for(;!(u=O5(a.generateSync(),o,s,t.canonical));)a.reseedSync();return F5(u,t)}tr.BASE._setWindowSize(8);var Br={node:B5,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var Qf={},kn={bytesToHex:ji,hexToBytes:Os,concatBytes:No,mod:ye,invert:uc,isValidPrivateKey(r){try{return rl(r),!0}catch{return!1}},_bigintTo32Bytes:Km,_normalizePrivateKey:rl,hashToPrivateKey:r=>{r=ac(r);let e=Fi+8;if(r.length<e||r.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let t=ye(Oo(r),Ht.n-Nt)+Nt;return Km(t)},randomBytes:(r=32)=>{if(Br.web)return Br.web.getRandomValues(new Uint8Array(r));if(Br.node){let{randomBytes:e}=Br.node;return Uint8Array.from(e(r))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>kn.hashToPrivateKey(kn.randomBytes(Fi+8)),precompute(r=8,e=tr.BASE){let t=e===tr.BASE?e:new tr(e.x,e.y);return t._setWindowSize(r),t.multiply(sc),t},sha256:async(...r)=>{if(Br.web){let e=await Br.web.subtle.digest("SHA-256",No(...r));return new Uint8Array(e)}else if(Br.node){let{createHash:e}=Br.node,t=e("sha256");return r.forEach(n=>t.update(n)),Uint8Array.from(t.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(r,...e)=>{if(Br.web){let t=await Br.web.subtle.importKey("raw",r,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=No(...e),o=await Br.web.subtle.sign("HMAC",t,n);return new Uint8Array(o)}else if(Br.node){let{createHmac:t}=Br.node,n=t("sha256",r);return e.forEach(o=>n.update(o)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(r,...e)=>{let t=Qf[r];if(t===void 0){let n=await kn.sha256(Uint8Array.from(r,o=>o.charCodeAt(0)));t=No(n,n),Qf[r]=t}return kn.sha256(t,...e)},taggedHashSync:(r,...e)=>{if(typeof Di!="function")throw new el("sha256Sync is undefined, you need to set it");let t=Qf[r];if(t===void 0){let n=Di(Uint8Array.from(r,o=>o.charCodeAt(0)));t=No(n,n),Qf[r]=t}return Di(t,...e)},_JacobianPoint:xr};Object.defineProperties(kn,{sha256Sync:{configurable:!1,get(){return Di},set(r){Di||(Di=r)}},hmacSha256Sync:{configurable:!1,get(){return ic},set(r){ic||(ic=r)}}});ko.sha512Sync=(...r)=>c2(ko.concatBytes(...r));var gre=ko.randomPrivateKey,LB=()=>{let r=ko.randomPrivateKey(),e=Xm(r),t=new Uint8Array(64);return t.set(r),t.set(e,32),{publicKey:e,secretKey:t}},Xm=wf.getPublicKey;function NB(r){try{return Dt.fromHex(r,!0),!0}catch{return!1}}var p0=(r,e)=>wf.sign(r,e.slice(0,32)),V5=wf.verify,Ye=r=>Be.Buffer.isBuffer(r)?r:r instanceof Uint8Array?Be.Buffer.from(r.buffer,r.byteOffset,r.byteLength):Be.Buffer.from(r),Qm=class{constructor(e){Object.assign(this,e)}encode(){return Be.Buffer.from((0,Vi.serialize)(sl,this))}static decode(e){return(0,Vi.deserialize)(sl,this,e)}static decodeUnchecked(e){return(0,Vi.deserializeUnchecked)(sl,this,e)}};var sl=new Map,GB,G5=32,Uo=32;function Z5(r){return r._bn!==void 0}var CB=1;GB=Symbol.toStringTag;var Te=class r extends Qm{constructor(e){if(super({}),this._bn=void 0,Z5(e))this._bn=e._bn;else{if(typeof e=="string"){let t=fr.default.decode(e);if(t.length!=Uo)throw new Error("Invalid public key input");this._bn=new Jm.default(t)}else this._bn=new Jm.default(e);if(this._bn.byteLength()>Uo)throw new Error("Invalid public key input")}}static unique(){let e=new r(CB);return CB+=1,new r(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return fr.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(Be.Buffer);if(e.length===Uo)return e;let t=Be.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[GB](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,n){let o=Be.Buffer.concat([e.toBuffer(),Be.Buffer.from(t),n.toBuffer()]),s=Sf(o);return new r(s)}static createProgramAddressSync(e,t){let n=Be.Buffer.alloc(0);e.forEach(function(s){if(s.length>G5)throw new TypeError("Max seed length exceeded");n=Be.Buffer.concat([n,Ye(s)])}),n=Be.Buffer.concat([n,t.toBuffer(),Be.Buffer.from("ProgramDerivedAddress")]);let o=Sf(n);if(NB(o))throw new Error("Invalid seeds, address must fall off the curve");return new r(o)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n=255,o;for(;n!=0;){try{let s=e.concat(Be.Buffer.from([n]));o=this.createProgramAddressSync(s,t)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[o,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){let t=new r(e);return NB(t.toBytes())}};Te.default=new Te("11111111111111111111111111111111");sl.set(Te,{kind:"struct",fields:[["_bn","u256"]]});var xre=new Te("BPFLoader1111111111111111111111111111111111"),qs=1232,f0=127,il=64,e0=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(e0.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var t0=class extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(t0.prototype,"name",{value:"TransactionExpiredTimeoutError"});var r0=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(r0.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var Ki=class{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((s,a)=>{n.set(s.toBase58(),a)});let o=s=>{let a=n.get(s.toBase58());if(a===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return a};return e.map(s=>({programIdIndex:o(s.programId),accountKeyIndexes:s.keys.map(a=>o(a.pubkey)),data:s.data}))}},Fe=(r="publicKey")=>L.blob(32,r),Y5=(r="signature")=>L.blob(64,r),Hi=(r="string")=>{let e=L.struct([L.u32("length"),L.u32("lengthPadding"),L.blob(L.offset(L.u32(),-8),"chars")],r),t=e.decode.bind(e),n=e.encode.bind(e),o=e;return o.decode=(s,a)=>t(s,a).chars.toString(),o.encode=(s,a,u)=>{let f={chars:Be.Buffer.from(s,"utf8")};return n(f,a,u)},o.alloc=s=>L.u32().span+L.u32().span+Be.Buffer.from(s,"utf8").length,o},$5=(r="authorized")=>L.struct([Fe("staker"),Fe("withdrawer")],r),J5=(r="lockup")=>L.struct([L.ns64("unixTimestamp"),L.ns64("epoch"),Fe("custodian")],r),X5=(r="voteInit")=>L.struct([Fe("nodePubkey"),Fe("authorizedVoter"),Fe("authorizedWithdrawer"),L.u8("commission")],r),Q5=(r="voteAuthorizeWithSeedArgs")=>L.struct([L.u32("voteAuthorizationType"),Fe("currentAuthorityDerivedKeyOwnerPubkey"),Hi("currentAuthorityDerivedKeySeed"),Fe("newAuthorized")],r);function ZB(r,e){let t=o=>{if(o.span>=0)return o.span;if(typeof o.alloc=="function")return o.alloc(e[o.property]);if("count"in o&&"elementLayout"in o){let s=e[o.property];if(Array.isArray(s))return s.length*t(o.elementLayout)}else if("fields"in o)return ZB({layout:o},e[o.property]);return 0},n=0;return r.layout.fields.forEach(o=>{n+=t(o)}),n}function Tr(r){let e=0,t=0;for(;;){let n=r.shift();if(e|=(n&127)<<t*7,t+=1,!(n&128))break}return e}function Pr(r,e){let t=e;for(;;){let n=t&127;if(t>>=7,t==0){r.push(n);break}else n|=128,r.push(n)}}function Ct(r,e){if(!r)throw new Error(e||"Assertion failed")}var al=class r{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){let n=new Map,o=a=>{let u=a.toBase58(),f=n.get(u);return f===void 0&&(f={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(u,f)),f},s=o(t);s.isSigner=!0,s.isWritable=!0;for(let a of e){o(a.programId).isInvoked=!0;for(let u of a.keys){let f=o(u.pubkey);f.isSigner||(f.isSigner=u.isSigner),f.isWritable||(f.isWritable=u.isWritable)}}return new r(t,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];Ct(e.length<=256,"Max static account keys length exceeded");let t=e.filter(([,f])=>f.isSigner&&f.isWritable),n=e.filter(([,f])=>f.isSigner&&!f.isWritable),o=e.filter(([,f])=>!f.isSigner&&f.isWritable),s=e.filter(([,f])=>!f.isSigner&&!f.isWritable),a={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{Ct(t.length>0,"Expected at least one writable signer key");let[f]=t[0];Ct(f===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let u=[...t.map(([f])=>new Te(f)),...n.map(([f])=>new Te(f)),...o.map(([f])=>new Te(f)),...s.map(([f])=>new Te(f))];return[a,u]}extractTableLookup(e){let[t,n]=this.drainKeysFoundInLookupTable(e.state.addresses,a=>!a.isSigner&&!a.isInvoked&&a.isWritable),[o,s]=this.drainKeysFoundInLookupTable(e.state.addresses,a=>!a.isSigner&&!a.isInvoked&&!a.isWritable);if(!(t.length===0&&o.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:o},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(e,t){let n=new Array,o=new Array;for(let[s,a]of this.keyMetaMap.entries())if(t(a)){let u=new Te(s),f=e.findIndex(g=>g.equals(u));f>=0&&(Ct(f<256,"Max lookup table index exceeded"),n.push(f),o.push(u),this.keyMetaMap.delete(s))}return[n,o]}},YB="Reached end of buffer unexpectedly";function Jn(r){if(r.length===0)throw new Error(YB);return r.shift()}function zr(r,...e){var n;let[t]=e;if(e.length===2?t+((n=e[1])!=null?n:0)>r.length:t>=r.length)throw new Error(YB);return r.splice(...e)}var Us=class r{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new Te(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:fr.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Ki(this.staticAccountKeys)}static compile(e){let t=al.compile(e.instructions,e.payerKey),[n,o]=t.getMessageComponents(),a=new Ki(o).compileInstructions(e.instructions).map(u=>({programIdIndex:u.programIdIndex,accounts:u.accountKeyIndexes,data:fr.default.encode(u.data)}));return new r({header:n,accountKeys:o,recentBlockhash:e.recentBlockhash,instructions:a})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-t,s=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return n<s}else{let n=t-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){let e=this.accountKeys.length,t=[];Pr(t,e);let n=this.instructions.map(S=>{let{accounts:O,programIdIndex:C}=S,V=Array.from(fr.default.decode(S.data)),J=[];Pr(J,O.length);let $=[];return Pr($,V.length),{programIdIndex:C,keyIndicesCount:Be.Buffer.from(J),keyIndices:O,dataLength:Be.Buffer.from($),data:V}}),o=[];Pr(o,n.length);let s=Be.Buffer.alloc(qs);Be.Buffer.from(o).copy(s);let a=o.length;n.forEach(S=>{let C=L.struct([L.u8("programIdIndex"),L.blob(S.keyIndicesCount.length,"keyIndicesCount"),L.seq(L.u8("keyIndex"),S.keyIndices.length,"keyIndices"),L.blob(S.dataLength.length,"dataLength"),L.seq(L.u8("userdatum"),S.data.length,"data")]).encode(S,s,a);a+=C}),s=s.slice(0,a);let u=L.struct([L.blob(1,"numRequiredSignatures"),L.blob(1,"numReadonlySignedAccounts"),L.blob(1,"numReadonlyUnsignedAccounts"),L.blob(t.length,"keyCount"),L.seq(Fe("key"),e,"keys"),Fe("recentBlockhash")]),f={numRequiredSignatures:Be.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Be.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Be.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Be.Buffer.from(t),keys:this.accountKeys.map(S=>Ye(S.toBytes())),recentBlockhash:fr.default.decode(this.recentBlockhash)},g=Be.Buffer.alloc(2048),b=u.encode(f,g);return s.copy(g,b),g.slice(0,b+s.length)}static from(e){let t=[...e],n=Jn(t);if(n!==(n&f0))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let o=Jn(t),s=Jn(t),a=Tr(t),u=[];for(let O=0;O<a;O++){let C=zr(t,0,Uo);u.push(new Te(Be.Buffer.from(C)))}let f=zr(t,0,Uo),g=Tr(t),b=[];for(let O=0;O<g;O++){let C=Jn(t),V=Tr(t),J=zr(t,0,V),$=Tr(t),pe=zr(t,0,$),W=fr.default.encode(Be.Buffer.from(pe));b.push({programIdIndex:C,accounts:J,data:W})}let S={header:{numRequiredSignatures:n,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:s},recentBlockhash:fr.default.encode(Be.Buffer.from(f)),accountKeys:u,instructions:b};return new r(S)}},cl=class r{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Ki(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let o=e-n,s=this.addressTableLookups.reduce((a,u)=>a+u.writableIndexes.length,0);return o<s}else if(e>=this.header.numRequiredSignatures){let o=e-t,a=n-t-this.header.numReadonlyUnsignedAccounts;return o<a}else{let o=t-this.header.numReadonlySignedAccounts;return e<o}}resolveAddressTableLookups(e){let t={writable:[],readonly:[]};for(let n of this.addressTableLookups){let o=e.find(s=>s.key.equals(n.accountKey));if(!o)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let s of n.writableIndexes)if(s<o.state.addresses.length)t.writable.push(o.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(let s of n.readonlyIndexes)if(s<o.state.addresses.length)t.readonly.push(o.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return t}static compile(e){let t=al.compile(e.instructions,e.payerKey),n=new Array,o={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(let b of s){let S=t.extractTableLookup(b);if(S!==void 0){let[O,{writable:C,readonly:V}]=S;n.push(O),o.writable.push(...C),o.readonly.push(...V)}}let[a,u]=t.getMessageComponents(),g=new Ki(u,o).compileInstructions(e.instructions);return new r({header:a,staticAccountKeys:u,recentBlockhash:e.recentBlockhash,compiledInstructions:g,addressTableLookups:n})}serialize(){let e=Array();Pr(e,this.staticAccountKeys.length);let t=this.serializeInstructions(),n=Array();Pr(n,this.compiledInstructions.length);let o=this.serializeAddressTableLookups(),s=Array();Pr(s,this.addressTableLookups.length);let a=L.struct([L.u8("prefix"),L.struct([L.u8("numRequiredSignatures"),L.u8("numReadonlySignedAccounts"),L.u8("numReadonlyUnsignedAccounts")],"header"),L.blob(e.length,"staticAccountKeysLength"),L.seq(Fe(),this.staticAccountKeys.length,"staticAccountKeys"),Fe("recentBlockhash"),L.blob(n.length,"instructionsLength"),L.blob(t.length,"serializedInstructions"),L.blob(s.length,"addressTableLookupsLength"),L.blob(o.length,"serializedAddressTableLookups")]),u=new Uint8Array(qs),g=a.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(b=>b.toBytes()),recentBlockhash:fr.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:o},u);return u.slice(0,g)}serializeInstructions(){let e=0,t=new Uint8Array(qs);for(let n of this.compiledInstructions){let o=Array();Pr(o,n.accountKeyIndexes.length);let s=Array();Pr(s,n.data.length);let a=L.struct([L.u8("programIdIndex"),L.blob(o.length,"encodedAccountKeyIndexesLength"),L.seq(L.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),L.blob(s.length,"encodedDataLength"),L.blob(n.data.length,"data")]);e+=a.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(o),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0,t=new Uint8Array(qs);for(let n of this.addressTableLookups){let o=Array();Pr(o,n.writableIndexes.length);let s=Array();Pr(s,n.readonlyIndexes.length);let a=L.struct([Fe("accountKey"),L.blob(o.length,"encodedWritableIndexesLength"),L.seq(L.u8(),n.writableIndexes.length,"writableIndexes"),L.blob(s.length,"encodedReadonlyIndexesLength"),L.seq(L.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=a.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(o),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e],n=Jn(t),o=n&f0;Ct(n!==o,"Expected versioned message but received legacy message");let s=o;Ct(s===0,`Expected versioned message with version 0 but found version ${s}`);let a={numRequiredSignatures:Jn(t),numReadonlySignedAccounts:Jn(t),numReadonlyUnsignedAccounts:Jn(t)},u=[],f=Tr(t);for(let V=0;V<f;V++)u.push(new Te(zr(t,0,Uo)));let g=fr.default.encode(zr(t,0,Uo)),b=Tr(t),S=[];for(let V=0;V<b;V++){let J=Jn(t),$=Tr(t),pe=zr(t,0,$),W=Tr(t),we=new Uint8Array(zr(t,0,W));S.push({programIdIndex:J,accountKeyIndexes:pe,data:we})}let O=Tr(t),C=[];for(let V=0;V<O;V++){let J=new Te(zr(t,0,Uo)),$=Tr(t),pe=zr(t,0,$),W=Tr(t),we=zr(t,0,W);C.push({accountKey:J,writableIndexes:pe,readonlyIndexes:we})}return new r({header:a,staticAccountKeys:u,recentBlockhash:g,compiledInstructions:S,addressTableLookups:C})}},ll={deserializeMessageVersion(r){let e=r[0],t=e&f0;return t===e?"legacy":t},deserialize:r=>{let e=ll.deserializeMessageVersion(r);if(e==="legacy")return Us.from(r);if(e===0)return cl.deserialize(r);throw new Error(`Transaction message version ${e} deserialization is not supported`)}},OB;(function(r){r[r.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",r[r.PROCESSED=1]="PROCESSED",r[r.TIMED_OUT=2]="TIMED_OUT",r[r.NONCE_INVALID=3]="NONCE_INVALID"})(OB||(OB={}));var eU=Be.Buffer.alloc(il).fill(0),Qe=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Be.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:n})=>({pubkey:e.toJSON(),isSigner:t,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},tt=class r{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:t,nonceInfo:n}=e;this.minNonceContextSlot=t,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:t,lastValidBlockHeight:n}=e;this.recentBlockhash=t,this.lastValidBlockHeight=n}else{let{recentBlockhash:t,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Qe(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let J=0;J<t.length;J++)if(t[J].programId===void 0)throw new Error(`Transaction instruction index ${J} has undefined program id`);let o=[],s=[];t.forEach(J=>{J.keys.forEach(pe=>{s.push({...pe})});let $=J.programId.toString();o.includes($)||o.push($)}),o.forEach(J=>{s.push({pubkey:new Te(J),isSigner:!1,isWritable:!1})});let a=[];s.forEach(J=>{let $=J.pubkey.toString(),pe=a.findIndex(W=>W.pubkey.toString()===$);pe>-1?(a[pe].isWritable=a[pe].isWritable||J.isWritable,a[pe].isSigner=a[pe].isSigner||J.isSigner):a.push(J)}),a.sort(function(J,$){return J.isSigner!==$.isSigner?J.isSigner?-1:1:J.isWritable!==$.isWritable?J.isWritable?-1:1:J.pubkey.toBase58().localeCompare($.pubkey.toBase58())});let u=a.findIndex(J=>J.pubkey.equals(n));if(u>-1){let[J]=a.splice(u,1);J.isSigner=!0,J.isWritable=!0,a.unshift(J)}else a.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let J of this.signatures){let $=a.findIndex(pe=>pe.pubkey.equals(J.publicKey));if($>-1)a[$].isSigner||(a[$].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${J.publicKey.toString()}`)}let f=0,g=0,b=0,S=[],O=[];a.forEach(({pubkey:J,isSigner:$,isWritable:pe})=>{$?(S.push(J.toString()),f+=1,pe||(g+=1)):(O.push(J.toString()),pe||(b+=1))});let C=S.concat(O),V=t.map(J=>{let{data:$,programId:pe}=J;return{programIdIndex:C.indexOf(pe.toString()),accounts:J.keys.map(W=>C.indexOf(W.pubkey.toString())),data:fr.default.encode($)}});return V.forEach(J=>{Ct(J.programIdIndex>=0),J.accounts.forEach($=>Ct($>=0))}),new Us({header:{numRequiredSignatures:f,numReadonlySignedAccounts:g,numReadonlyUnsignedAccounts:b},accountKeys:C,recentBlockhash:e,instructions:V})}_compile(){let e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((o,s)=>t[s].equals(o.publicKey))||(this.signatures=t.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let t=new Set;this.signatures=e.filter(n=>{let o=n.toString();return t.has(o)?!1:(t.add(o),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let t=new Set,n=[];for(let s of e){let a=s.publicKey.toString();t.has(a)||(t.add(a),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));let o=this._compile();this._partialSign(o,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let t=new Set,n=[];for(let s of e){let a=s.publicKey.toString();t.has(a)||(t.add(a),n.push(s))}let o=this._compile();this._partialSign(o,...n)}_partialSign(e,...t){let n=e.serialize();t.forEach(o=>{let s=p0(n,o.secretKey);this._addSignature(o.publicKey,Ye(s))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Ct(t.length===64);let n=this.signatures.findIndex(o=>e.equals(o.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Be.Buffer.from(t)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,t){for(let{signature:n,publicKey:o}of this.signatures)if(n===null){if(t)return!1}else if(!V5(n,e,o.toBytes()))return!1;return!0}serialize(e){let{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),o=this.serializeMessage();if(n&&!this._verifySignatures(o,t))throw new Error("Signature verification failed");return this._serialize(o)}_serialize(e){let{signatures:t}=this,n=[];Pr(n,t.length);let o=n.length+t.length*64+e.length,s=Be.Buffer.alloc(o);return Ct(t.length<256),Be.Buffer.from(n).copy(s,0),t.forEach(({signature:a},u)=>{a!==null&&(Ct(a.length===64,"signature has invalid length"),Be.Buffer.from(a).copy(s,n.length+u*64))}),e.copy(s,n.length+t.length*64),Ct(s.length<=qs,`Transaction too large: ${s.length} > ${qs}`),s}get keys(){return Ct(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Ct(this.instructions.length===1),this.instructions[0].programId}get data(){return Ct(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e],n=Tr(t),o=[];for(let s=0;s<n;s++){let a=zr(t,0,il);o.push(fr.default.encode(Be.Buffer.from(a)))}return r.populate(Us.from(t),o)}static populate(e,t=[]){let n=new r;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach((o,s)=>{let a={signature:o==fr.default.encode(eU)?null:fr.default.decode(o),publicKey:e.accountKeys[s]};n.signatures.push(a)}),e.instructions.forEach(o=>{let s=o.accounts.map(a=>{let u=e.accountKeys[a];return{pubkey:u,isSigner:n.signatures.some(f=>f.publicKey.toString()===u.toString())||e.isAccountSigner(a),isWritable:e.isAccountWritable(a)}});n.instructions.push(new Qe({keys:s,programId:e.accountKeys[o.programIdIndex],data:fr.default.decode(o.data)}))}),n._message=e,n._json=n.toJSON(),n}};var nn=class r{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Ct(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{let n=[];for(let o=0;o<e.header.numRequiredSignatures;o++)n.push(new Uint8Array(il));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),t=Array();Pr(t,this.signatures.length);let n=L.struct([L.blob(t.length,"encodedSignaturesLength"),L.seq(Y5(),this.signatures.length,"signatures"),L.blob(e.length,"serializedMessage")]),o=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},o);return o.slice(0,s)}static deserialize(e){let t=[...e],n=[],o=Tr(t);for(let a=0;a<o;a++)n.push(new Uint8Array(zr(t,0,il)));let s=ll.deserialize(new Uint8Array(t));return new r(s,n)}sign(e){let t=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let o of e){let s=n.findIndex(a=>a.equals(o.publicKey));Ct(s>=0,`Cannot sign with non signer key ${o.publicKey.toBase58()}`),this.signatures[s]=p0(t,o.secretKey)}}addSignature(e,t){Ct(t.byteLength===64,"Signature must be 64 bytes long");let o=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));Ct(o>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[o]=t}},$n=new Te("SysvarC1ock11111111111111111111111111111111"),wre=new Te("SysvarEpochSchedu1e111111111111111111111111"),bre=new Te("Sysvar1nstructions1111111111111111111111111"),Vm=new Te("SysvarRecentB1ockHashes11111111111111111111"),fc=new Te("SysvarRent111111111111111111111111111111111"),Sre=new Te("SysvarRewards111111111111111111111111111111"),vre=new Te("SysvarS1otHashes111111111111111111111111111"),Ere=new Te("SysvarS1otHistory11111111111111111111111111"),Gm=new Te("SysvarStakeHistory1111111111111111111111111");async function Zm(r,e,t,n){let o=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await r.sendTransaction(e,t,o),a;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)a=(await r.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){let{nonceInstruction:u}=e.nonceInfo,f=u.keys[0].pubkey;a=(await r.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:f,nonceValue:e.nonceInfo.nonce,signature:s},n&&n.commitment)).value}else(n==null?void 0:n.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),a=(await r.confirmTransaction(s,n&&n.commitment)).value;if(a.err)throw new Error(`Transaction ${s} failed (${JSON.stringify(a)})`);return s}function tU(r){return new Promise(e=>setTimeout(e,r))}function Ge(r,e){let t=r.layout.span>=0?r.layout.span:ZB(r,e),n=Be.Buffer.alloc(t),o=Object.assign({instruction:r.index},e);return r.layout.encode(o,n),n}var rU=L.nu64("lamportsPerSignature"),nU=L.struct([L.u32("version"),L.u32("state"),Fe("authorizedPubkey"),Fe("nonce"),L.struct([rU],"feeCalculator")]),qB=nU.span;var oU=r=>{let e=r.decode.bind(r),t=r.encode.bind(r);return{decode:e,encode:t}},sU=r=>e=>{let t=(0,VB.blob)(r,e),{encode:n,decode:o}=oU(t),s=t;return s.decode=(a,u)=>{let f=o(a,u);return(0,dc.toBigIntLE)(Be.Buffer.from(f))},s.encode=(a,u,f)=>{let g=(0,dc.toBufferLE)(a,r);return n(g,u,f)},s},Wi=sU(8);var Gr=Object.freeze({Create:{index:0,layout:L.struct([L.u32("instruction"),L.ns64("lamports"),L.ns64("space"),Fe("programId")])},Assign:{index:1,layout:L.struct([L.u32("instruction"),Fe("programId")])},Transfer:{index:2,layout:L.struct([L.u32("instruction"),Wi("lamports")])},CreateWithSeed:{index:3,layout:L.struct([L.u32("instruction"),Fe("base"),Hi("seed"),L.ns64("lamports"),L.ns64("space"),Fe("programId")])},AdvanceNonceAccount:{index:4,layout:L.struct([L.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:L.struct([L.u32("instruction"),L.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:L.struct([L.u32("instruction"),Fe("authorized")])},AuthorizeNonceAccount:{index:7,layout:L.struct([L.u32("instruction"),Fe("authorized")])},Allocate:{index:8,layout:L.struct([L.u32("instruction"),L.ns64("space")])},AllocateWithSeed:{index:9,layout:L.struct([L.u32("instruction"),Fe("base"),Hi("seed"),L.ns64("space"),Fe("programId")])},AssignWithSeed:{index:10,layout:L.struct([L.u32("instruction"),Fe("base"),Hi("seed"),Fe("programId")])},TransferWithSeed:{index:11,layout:L.struct([L.u32("instruction"),Wi("lamports"),Hi("seed"),Fe("programId")])},UpgradeNonceAccount:{index:12,layout:L.struct([L.u32("instruction")])}}),_r=class r{constructor(){}static createAccount(e){let t=Gr.Create,n=Ge(t,{lamports:e.lamports,space:e.space,programId:Ye(e.programId.toBuffer())});return new Qe({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let t,n;if("basePubkey"in e){let o=Gr.TransferWithSeed;t=Ge(o,{lamports:BigInt(e.lamports),seed:e.seed,programId:Ye(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let o=Gr.Transfer;t=Ge(o,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Qe({keys:n,programId:this.programId,data:t})}static assign(e){let t,n;if("basePubkey"in e){let o=Gr.AssignWithSeed;t=Ge(o,{base:Ye(e.basePubkey.toBuffer()),seed:e.seed,programId:Ye(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let o=Gr.Assign;t=Ge(o,{programId:Ye(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Qe({keys:n,programId:this.programId,data:t})}static createAccountWithSeed(e){let t=Gr.CreateWithSeed,n=Ge(t,{base:Ye(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Ye(e.programId.toBuffer())}),o=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&o.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Qe({keys:o,programId:this.programId,data:n})}static createNonceAccount(e){let t=new tt;"basePubkey"in e&&"seed"in e?t.add(r.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:qB,programId:this.programId})):t.add(r.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:qB,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(n)),t}static nonceInitialize(e){let t=Gr.InitializeNonceAccount,n=Ge(t,{authorized:Ye(e.authorizedPubkey.toBuffer())}),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Vm,isSigner:!1,isWritable:!1},{pubkey:fc,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new Qe(o)}static nonceAdvance(e){let t=Gr.AdvanceNonceAccount,n=Ge(t),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Vm,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new Qe(o)}static nonceWithdraw(e){let t=Gr.WithdrawNonceAccount,n=Ge(t,{lamports:e.lamports});return new Qe({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Vm,isSigner:!1,isWritable:!1},{pubkey:fc,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let t=Gr.AuthorizeNonceAccount,n=Ge(t,{authorized:Ye(e.newAuthorizedPubkey.toBuffer())});return new Qe({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let t,n;if("basePubkey"in e){let o=Gr.AllocateWithSeed;t=Ge(o,{base:Ye(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Ye(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let o=Gr.Allocate;t=Ge(o,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Qe({keys:n,programId:this.programId,data:t})}};_r.programId=new Te("11111111111111111111111111111111");var iU=qs-300,n0=class r{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/r.chunkSize)+1+1)}static async load(e,t,n,o,s){{let S=await e.getMinimumBalanceForRentExemption(s.length),O=await e.getAccountInfo(n.publicKey,"confirmed"),C=null;if(O!==null){if(O.executable)return console.error("Program load failed, account is already executable"),!1;O.data.length!==s.length&&(C=C||new tt,C.add(_r.allocate({accountPubkey:n.publicKey,space:s.length}))),O.owner.equals(o)||(C=C||new tt,C.add(_r.assign({accountPubkey:n.publicKey,programId:o}))),O.lamports<S&&(C=C||new tt,C.add(_r.transfer({fromPubkey:t.publicKey,toPubkey:n.publicKey,lamports:S-O.lamports})))}else C=new tt().add(_r.createAccount({fromPubkey:t.publicKey,newAccountPubkey:n.publicKey,lamports:S>0?S:1,space:s.length,programId:o}));C!==null&&await Zm(e,C,[t,n],{commitment:"confirmed"})}let a=L.struct([L.u32("instruction"),L.u32("offset"),L.u32("bytesLength"),L.u32("bytesLengthPadding"),L.seq(L.u8("byte"),L.offset(L.u32(),-8),"bytes")]),u=r.chunkSize,f=0,g=s,b=[];for(;g.length>0;){let S=g.slice(0,u),O=Be.Buffer.alloc(u+16);a.encode({instruction:0,offset:f,bytes:S,bytesLength:0,bytesLengthPadding:0},O);let C=new tt().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:o,data:O});b.push(Zm(e,C,[t,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await tU(1e3/4),f+=u,g=g.slice(u)}await Promise.all(b);{let S=L.struct([L.u32("instruction")]),O=Be.Buffer.alloc(S.span);S.encode({instruction:1},O);let C=new tt().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:fc,isSigner:!1,isWritable:!1}],programId:o,data:O});await Zm(e,C,[t,n],{commitment:"confirmed"})}return!0}};n0.chunkSize=iU;var _re=new Te("BPFLoader2111111111111111111111111111111111");var Rre=globalThis.fetch;var aU=160,cU=64,uU=aU/cU,kre=1e3/uU;var Are={index:1,layout:L.struct([L.u32("typeIndex"),Wi("deactivationSlot"),L.nu64("lastExtendedSlot"),L.u8("lastExtendedStartIndex"),L.u8(),L.seq(Fe(),L.offset(L.u8(),-1),"authority")])};var Vt=Ci(Bf(Te),ce(),r=>new Te(r)),$B=Tf([ce(),qt("base64")]),l0=Ci(Bf(Be.Buffer),$B,r=>Be.Buffer.from(r[0],"base64")),Ire=30*1e3;function JB(r){return gr([ee({jsonrpc:qt("2.0"),id:ce(),result:r}),ee({jsonrpc:qt("2.0"),id:ce(),error:ee({code:Ni(),message:ce(),data:Re(I2())})})])}var pU=JB(Ni());function Ot(r){return Ci(JB(r),pU,e=>"error"in e?e:{...e,result:Li(e.result,r)})}function on(r){return Ot(ee({context:ee({slot:K()}),value:r}))}function dl(r){return ee({context:ee({slot:K()}),value:r})}var fU=ee({foundation:K(),foundationTerm:K(),initial:K(),taper:K(),terminal:K()}),Bre=Ot(me(de(ee({epoch:K(),effectiveSlot:K(),amount:K(),postBalance:K(),commission:Re(de(K()))})))),lU=ee({total:K(),validator:K(),foundation:K(),epoch:K()}),dU=ee({epoch:K(),slotIndex:K(),slotsInEpoch:K(),absoluteSlot:K(),blockHeight:Re(K()),transactionCount:Re(K())}),hU=ee({slotsPerEpoch:K(),leaderScheduleSlotOffset:K(),warmup:Rn(),firstNormalEpoch:K(),firstNormalSlot:K()}),yU=bm(ce(),me(K())),Ds=de(gr([ee({}),ce()])),mU=ee({err:Ds}),gU=qt("receivedSignature"),Tre=ee({"solana-core":ce(),"feature-set":Re(K())}),Pre=on(ee({err:de(gr([ee({}),ce()])),logs:de(me(ce())),accounts:Re(de(me(de(ee({executable:Rn(),owner:ce(),lamports:K(),data:me(ce()),rentEpoch:Re(K())}))))),unitsConsumed:Re(K()),returnData:Re(de(ee({programId:ce(),data:Tf([ce(),qt("base64")])})))})),zre=on(ee({byIdentity:bm(ce(),me(K())),range:ee({firstSlot:K(),lastSlot:K()})}));var Mre=Ot(fU),Lre=Ot(lU),Nre=Ot(dU),Cre=Ot(hU),Ore=Ot(yU),qre=Ot(K()),Ure=on(ee({total:K(),circulating:K(),nonCirculating:K(),nonCirculatingAccounts:me(Vt)})),xU=ee({amount:ce(),uiAmount:de(K()),decimals:K(),uiAmountString:Re(ce())}),Dre=on(me(ee({address:Vt,amount:ce(),uiAmount:de(K()),decimals:K(),uiAmountString:Re(ce())}))),Fre=on(me(ee({pubkey:Vt,account:ee({executable:Rn(),owner:Vt,lamports:K(),data:l0,rentEpoch:K()})}))),o0=ee({program:ce(),parsed:Ni(),space:K()}),jre=on(me(ee({pubkey:Vt,account:ee({executable:Rn(),owner:Vt,lamports:K(),data:o0,rentEpoch:K()})}))),Hre=on(me(ee({lamports:K(),address:Vt}))),d0=ee({executable:Rn(),owner:Vt,lamports:K(),data:l0,rentEpoch:K()}),Kre=ee({pubkey:Vt,account:d0}),wU=Ci(gr([Bf(Be.Buffer),o0]),gr([$B,o0]),r=>Array.isArray(r)?Li(r,l0):r),bU=ee({executable:Rn(),owner:Vt,lamports:K(),data:wU,rentEpoch:K()}),Wre=ee({pubkey:Vt,account:bU}),Vre=ee({state:gr([qt("active"),qt("inactive"),qt("activating"),qt("deactivating")]),active:K(),inactive:K()}),Gre=Ot(me(ee({signature:ce(),slot:K(),err:Ds,memo:de(ce()),blockTime:Re(de(K()))}))),Zre=Ot(me(ee({signature:ce(),slot:K(),err:Ds,memo:de(ce()),blockTime:Re(de(K()))}))),Yre=ee({subscription:K(),result:dl(d0)}),SU=ee({pubkey:Vt,account:d0}),$re=ee({subscription:K(),result:dl(SU)}),vU=ee({parent:K(),slot:K(),root:K()}),Jre=ee({subscription:K(),result:vU}),EU=gr([ee({type:gr([qt("firstShredReceived"),qt("completed"),qt("optimisticConfirmation"),qt("root")]),slot:K(),timestamp:K()}),ee({type:qt("createdBank"),parent:K(),slot:K(),timestamp:K()}),ee({type:qt("frozen"),slot:K(),timestamp:K(),stats:ee({numTransactionEntries:K(),numSuccessfulTransactions:K(),numFailedTransactions:K(),maxTransactionsPerEntry:K()})}),ee({type:qt("dead"),slot:K(),timestamp:K(),err:ce()})]),Xre=ee({subscription:K(),result:EU}),Qre=ee({subscription:K(),result:dl(gr([mU,gU]))}),ene=ee({subscription:K(),result:K()}),tne=ee({pubkey:ce(),gossip:de(ce()),tpu:de(ce()),rpc:de(ce()),version:de(ce())}),UB=ee({votePubkey:ce(),nodePubkey:ce(),activatedStake:K(),epochVoteAccount:Rn(),epochCredits:me(Tf([K(),K(),K()])),commission:K(),lastVote:K(),rootSlot:de(K())}),rne=Ot(ee({current:me(UB),delinquent:me(UB)})),_U=gr([qt("processed"),qt("confirmed"),qt("finalized")]),RU=ee({slot:K(),confirmations:de(K()),err:Ds,confirmationStatus:Re(_U)}),nne=on(me(de(RU))),one=Ot(K()),XB=ee({accountKey:Vt,writableIndexes:me(K()),readonlyIndexes:me(K())}),h0=ee({signatures:me(ce()),message:ee({accountKeys:me(ce()),header:ee({numRequiredSignatures:K(),numReadonlySignedAccounts:K(),numReadonlyUnsignedAccounts:K()}),instructions:me(ee({accounts:me(K()),data:ce(),programIdIndex:K()})),recentBlockhash:ce(),addressTableLookups:Re(me(XB))})}),QB=ee({pubkey:Vt,signer:Rn(),writable:Rn(),source:Re(gr([qt("transaction"),qt("lookupTable")]))}),eT=ee({accountKeys:me(QB),signatures:me(ce())}),tT=ee({parsed:Ni(),program:ce(),programId:Vt}),rT=ee({accounts:me(Vt),data:ce(),programId:Vt}),kU=gr([rT,tT]),AU=gr([ee({parsed:Ni(),program:ce(),programId:ce()}),ee({accounts:me(ce()),data:ce(),programId:ce()})]),nT=Ci(kU,AU,r=>"accounts"in r?Li(r,rT):Li(r,tT)),oT=ee({signatures:me(ce()),message:ee({accountKeys:me(QB),instructions:me(nT),recentBlockhash:ce(),addressTableLookups:Re(de(me(XB)))})}),ul=ee({accountIndex:K(),mint:ce(),owner:Re(ce()),uiTokenAmount:xU}),sT=ee({writable:me(Vt),readonly:me(Vt)}),hl=ee({err:Ds,fee:K(),innerInstructions:Re(de(me(ee({index:K(),instructions:me(ee({accounts:me(K()),data:ce(),programIdIndex:K()}))})))),preBalances:me(K()),postBalances:me(K()),logMessages:Re(de(me(ce()))),preTokenBalances:Re(de(me(ul))),postTokenBalances:Re(de(me(ul))),loadedAddresses:Re(sT),computeUnitsConsumed:Re(K())}),y0=ee({err:Ds,fee:K(),innerInstructions:Re(de(me(ee({index:K(),instructions:me(nT)})))),preBalances:me(K()),postBalances:me(K()),logMessages:Re(de(me(ce()))),preTokenBalances:Re(de(me(ul))),postTokenBalances:Re(de(me(ul))),loadedAddresses:Re(sT),computeUnitsConsumed:Re(K())}),Gi=gr([qt(0),qt("legacy")]),Fs=ee({pubkey:ce(),lamports:K(),postBalance:de(K()),rewardType:de(ce()),commission:Re(de(K()))}),sne=Ot(de(ee({blockhash:ce(),previousBlockhash:ce(),parentSlot:K(),transactions:me(ee({transaction:h0,meta:de(hl),version:Re(Gi)})),rewards:Re(me(Fs)),blockTime:de(K()),blockHeight:de(K())}))),ine=Ot(de(ee({blockhash:ce(),previousBlockhash:ce(),parentSlot:K(),rewards:Re(me(Fs)),blockTime:de(K()),blockHeight:de(K())}))),ane=Ot(de(ee({blockhash:ce(),previousBlockhash:ce(),parentSlot:K(),transactions:me(ee({transaction:eT,meta:de(hl),version:Re(Gi)})),rewards:Re(me(Fs)),blockTime:de(K()),blockHeight:de(K())}))),cne=Ot(de(ee({blockhash:ce(),previousBlockhash:ce(),parentSlot:K(),transactions:me(ee({transaction:oT,meta:de(y0),version:Re(Gi)})),rewards:Re(me(Fs)),blockTime:de(K()),blockHeight:de(K())}))),une=Ot(de(ee({blockhash:ce(),previousBlockhash:ce(),parentSlot:K(),transactions:me(ee({transaction:eT,meta:de(y0),version:Re(Gi)})),rewards:Re(me(Fs)),blockTime:de(K()),blockHeight:de(K())}))),pne=Ot(de(ee({blockhash:ce(),previousBlockhash:ce(),parentSlot:K(),rewards:Re(me(Fs)),blockTime:de(K()),blockHeight:de(K())}))),fne=Ot(de(ee({blockhash:ce(),previousBlockhash:ce(),parentSlot:K(),transactions:me(ee({transaction:h0,meta:de(hl)})),rewards:Re(me(Fs)),blockTime:de(K())}))),lne=Ot(de(ee({blockhash:ce(),previousBlockhash:ce(),parentSlot:K(),signatures:me(ce()),blockTime:de(K())}))),dne=Ot(de(ee({slot:K(),meta:hl,blockTime:Re(de(K())),transaction:h0,version:Re(Gi)}))),hne=Ot(de(ee({slot:K(),transaction:oT,meta:de(y0),blockTime:Re(de(K())),version:Re(Gi)}))),yne=on(ee({blockhash:ce(),feeCalculator:ee({lamportsPerSignature:K()})})),mne=on(ee({blockhash:ce(),lastValidBlockHeight:K()})),IU=ee({slot:K(),numTransactions:K(),numSlots:K(),samplePeriodSecs:K()}),gne=Ot(me(IU)),xne=on(de(ee({feeCalculator:ee({lamportsPerSignature:K()})}))),wne=Ot(ce()),bne=Ot(ce()),BU=ee({err:Ds,logs:me(ce()),signature:ce()}),Sne=ee({result:dl(BU),subscription:K()});var s0=class r{constructor(e){this._keypair=void 0,this._keypair=e!=null?e:LB()}static generate(){return new r(LB())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");let n=e.slice(32,64);if(!t||!t.skipValidation){let o=e.slice(0,32),s=Xm(o);for(let a=0;a<32;a++)if(n[a]!==s[a])throw new Error("provided secretKey is invalid")}return new r({publicKey:n,secretKey:e})}static fromSeed(e){let t=Xm(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),new r({publicKey:t,secretKey:n})}get publicKey(){return new Te(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},pc=Object.freeze({CreateLookupTable:{index:0,layout:L.struct([L.u32("instruction"),Wi("recentSlot"),L.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:L.struct([L.u32("instruction")])},ExtendLookupTable:{index:2,layout:L.struct([L.u32("instruction"),Wi(),L.seq(Fe(),L.offset(L.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:L.struct([L.u32("instruction")])},CloseLookupTable:{index:4,layout:L.struct([L.u32("instruction")])}});var i0=class{constructor(){}static createLookupTable(e){let[t,n]=Te.findProgramAddressSync([e.authority.toBuffer(),(0,dc.toBufferLE)(BigInt(e.recentSlot),8)],this.programId),o=pc.CreateLookupTable,s=Ge(o,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:_r.programId,isSigner:!1,isWritable:!1}];return[new Qe({programId:this.programId,keys:a,data:s}),t]}static freezeLookupTable(e){let t=pc.FreezeLookupTable,n=Ge(t),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Qe({programId:this.programId,keys:o,data:n})}static extendLookupTable(e){let t=pc.ExtendLookupTable,n=Ge(t,{addresses:e.addresses.map(s=>s.toBytes())}),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&o.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:_r.programId,isSigner:!1,isWritable:!1}),new Qe({programId:this.programId,keys:o,data:n})}static deactivateLookupTable(e){let t=pc.DeactivateLookupTable,n=Ge(t),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Qe({programId:this.programId,keys:o,data:n})}static closeLookupTable(e){let t=pc.CloseLookupTable,n=Ge(t),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Qe({programId:this.programId,keys:o,data:n})}};i0.programId=new Te("AddressLookupTab1e1111111111111111111111111");var nl=Object.freeze({RequestUnits:{index:0,layout:L.struct([L.u8("instruction"),L.u32("units"),L.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:L.struct([L.u8("instruction"),L.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:L.struct([L.u8("instruction"),L.u32("units")])},SetComputeUnitPrice:{index:3,layout:L.struct([L.u8("instruction"),Wi("microLamports")])}}),a0=class{constructor(){}static requestUnits(e){let t=nl.RequestUnits,n=Ge(t,e);return new Qe({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let t=nl.RequestHeapFrame,n=Ge(t,e);return new Qe({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let t=nl.SetComputeUnitLimit,n=Ge(t,e);return new Qe({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let t=nl.SetComputeUnitPrice,n=Ge(t,{microLamports:BigInt(e.microLamports)});return new Qe({keys:[],programId:this.programId,data:n})}};a0.programId=new Te("ComputeBudget111111111111111111111111111111");var DB=64,FB=32,jB=64,HB=L.struct([L.u8("numSignatures"),L.u8("padding"),L.u16("signatureOffset"),L.u16("signatureInstructionIndex"),L.u16("publicKeyOffset"),L.u16("publicKeyInstructionIndex"),L.u16("messageDataOffset"),L.u16("messageDataSize"),L.u16("messageInstructionIndex")]),c0=class r{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:t,message:n,signature:o,instructionIndex:s}=e;Ct(t.length===FB,`Public Key must be ${FB} bytes but received ${t.length} bytes`),Ct(o.length===jB,`Signature must be ${jB} bytes but received ${o.length} bytes`);let a=HB.span,u=a+t.length,f=u+o.length,g=1,b=Be.Buffer.alloc(f+n.length),S=s==null?65535:s;return HB.encode({numSignatures:g,padding:0,signatureOffset:u,signatureInstructionIndex:S,publicKeyOffset:a,publicKeyInstructionIndex:S,messageDataOffset:f,messageDataSize:n.length,messageInstructionIndex:S},b),b.fill(t,a),b.fill(o,u),b.fill(n,f),new Qe({keys:[],programId:r.programId,data:b})}static createInstructionWithPrivateKey(e){let{privateKey:t,message:n,instructionIndex:o}=e;Ct(t.length===DB,`Private key must be ${DB} bytes but received ${t.length} bytes`);try{let s=s0.fromSecretKey(t),a=s.publicKey.toBytes(),u=p0(n,s.secretKey);return this.createInstructionWithPublicKey({publicKey:a,message:n,signature:u,instructionIndex:o})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};c0.programId=new Te("Ed25519SigVerify111111111111111111111111111");kn.hmacSha256Sync=(r,...e)=>{let t=Fm.create(Sf,r);return e.forEach(n=>t.update(n)),t.digest()};var TU=(r,e)=>MB(r,e,{der:!1,recovered:!0});kn.isValidPrivateKey;var PU=TB,KB=32,Ym=20,WB=64,zU=11,$m=L.struct([L.u8("numSignatures"),L.u16("signatureOffset"),L.u8("signatureInstructionIndex"),L.u16("ethAddressOffset"),L.u8("ethAddressInstructionIndex"),L.u16("messageDataOffset"),L.u16("messageDataSize"),L.u8("messageInstructionIndex"),L.blob(20,"ethAddress"),L.blob(64,"signature"),L.u8("recoveryId")]),u0=class r{constructor(){}static publicKeyToEthAddress(e){Ct(e.length===WB,`Public key must be ${WB} bytes but received ${e.length} bytes`);try{return Be.Buffer.from(Dm(Ye(e))).slice(-Ym)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){let{publicKey:t,message:n,signature:o,recoveryId:s,instructionIndex:a}=e;return r.createInstructionWithEthAddress({ethAddress:r.publicKeyToEthAddress(t),message:n,signature:o,recoveryId:s,instructionIndex:a})}static createInstructionWithEthAddress(e){let{ethAddress:t,message:n,signature:o,recoveryId:s,instructionIndex:a=0}=e,u;typeof t=="string"?t.startsWith("0x")?u=Be.Buffer.from(t.substr(2),"hex"):u=Be.Buffer.from(t,"hex"):u=t,Ct(u.length===Ym,`Address must be ${Ym} bytes but received ${u.length} bytes`);let f=1+zU,g=f,b=f+u.length,S=b+o.length+1,O=1,C=Be.Buffer.alloc($m.span+n.length);return $m.encode({numSignatures:O,signatureOffset:b,signatureInstructionIndex:a,ethAddressOffset:g,ethAddressInstructionIndex:a,messageDataOffset:S,messageDataSize:n.length,messageInstructionIndex:a,signature:Ye(o),ethAddress:Ye(u),recoveryId:s},C),C.fill(Ye(n),$m.span),new Qe({keys:[],programId:r.programId,data:C})}static createInstructionWithPrivateKey(e){let{privateKey:t,message:n,instructionIndex:o}=e;Ct(t.length===KB,`Private key must be ${KB} bytes but received ${t.length} bytes`);try{let s=Ye(t),a=PU(s,!1).slice(1),u=Be.Buffer.from(Dm(Ye(n))),[f,g]=TU(u,s);return this.createInstructionWithPublicKey({publicKey:a,message:n,signature:f,recoveryId:g,instructionIndex:o})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};u0.programId=new Te("KeccakSecp256k11111111111111111111111111111");var MU=new Te("StakeConfig11111111111111111111111111111111");var lc=class{constructor(e,t,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=n}};lc.default=new lc(0,0,Te.default);var qo=Object.freeze({Initialize:{index:0,layout:L.struct([L.u32("instruction"),$5(),J5()])},Authorize:{index:1,layout:L.struct([L.u32("instruction"),Fe("newAuthorized"),L.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:L.struct([L.u32("instruction")])},Split:{index:3,layout:L.struct([L.u32("instruction"),L.ns64("lamports")])},Withdraw:{index:4,layout:L.struct([L.u32("instruction"),L.ns64("lamports")])},Deactivate:{index:5,layout:L.struct([L.u32("instruction")])},Merge:{index:7,layout:L.struct([L.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:L.struct([L.u32("instruction"),Fe("newAuthorized"),L.u32("stakeAuthorizationType"),Hi("authoritySeed"),Fe("authorityOwner")])}}),vne=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),pl=class{constructor(){}static initialize(e){let{stakePubkey:t,authorized:n,lockup:o}=e,s=o||lc.default,a=qo.Initialize,u=Ge(a,{authorized:{staker:Ye(n.staker.toBuffer()),withdrawer:Ye(n.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:Ye(s.custodian.toBuffer())}}),f={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:fc,isSigner:!1,isWritable:!1}],programId:this.programId,data:u};return new Qe(f)}static createAccountWithSeed(e){let t=new tt;t.add(_r.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:o,lockup:s}=e;return t.add(this.initialize({stakePubkey:n,authorized:o,lockup:s}))}static createAccount(e){let t=new tt;t.add(_r.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:o,lockup:s}=e;return t.add(this.initialize({stakePubkey:n,authorized:o,lockup:s}))}static delegate(e){let{stakePubkey:t,authorizedPubkey:n,votePubkey:o}=e,s=qo.Delegate,a=Ge(s);return new tt().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:$n,isSigner:!1,isWritable:!1},{pubkey:Gm,isSigner:!1,isWritable:!1},{pubkey:MU,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static authorize(e){let{stakePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:o,stakeAuthorizationType:s,custodianPubkey:a}=e,u=qo.Authorize,f=Ge(u,{newAuthorized:Ye(o.toBuffer()),stakeAuthorizationType:s.index}),g=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:$n,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return a&&g.push({pubkey:a,isSigner:!1,isWritable:!1}),new tt().add({keys:g,programId:this.programId,data:f})}static authorizeWithSeed(e){let{stakePubkey:t,authorityBase:n,authoritySeed:o,authorityOwner:s,newAuthorizedPubkey:a,stakeAuthorizationType:u,custodianPubkey:f}=e,g=qo.AuthorizeWithSeed,b=Ge(g,{newAuthorized:Ye(a.toBuffer()),stakeAuthorizationType:u.index,authoritySeed:o,authorityOwner:Ye(s.toBuffer())}),S=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:$n,isSigner:!1,isWritable:!1}];return f&&S.push({pubkey:f,isSigner:!1,isWritable:!1}),new tt().add({keys:S,programId:this.programId,data:b})}static splitInstruction(e){let{stakePubkey:t,authorizedPubkey:n,splitStakePubkey:o,lamports:s}=e,a=qo.Split,u=Ge(a,{lamports:s});return new Qe({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:u})}static split(e){let t=new tt;return t.add(_r.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}static splitWithSeed(e){let{stakePubkey:t,authorizedPubkey:n,splitStakePubkey:o,basePubkey:s,seed:a,lamports:u}=e,f=new tt;return f.add(_r.allocate({accountPubkey:o,basePubkey:s,seed:a,space:this.space,programId:this.programId})),f.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:n,splitStakePubkey:o,lamports:u}))}static merge(e){let{stakePubkey:t,sourceStakePubKey:n,authorizedPubkey:o}=e,s=qo.Merge,a=Ge(s);return new tt().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:$n,isSigner:!1,isWritable:!1},{pubkey:Gm,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static withdraw(e){let{stakePubkey:t,authorizedPubkey:n,toPubkey:o,lamports:s,custodianPubkey:a}=e,u=qo.Withdraw,f=Ge(u,{lamports:s}),g=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:$n,isSigner:!1,isWritable:!1},{pubkey:Gm,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return a&&g.push({pubkey:a,isSigner:!1,isWritable:!1}),new tt().add({keys:g,programId:this.programId,data:f})}static deactivate(e){let{stakePubkey:t,authorizedPubkey:n}=e,o=qo.Deactivate,s=Ge(o);return new tt().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:$n,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}};pl.programId=new Te("Stake11111111111111111111111111111111111111");pl.space=200;var ol=Object.freeze({InitializeAccount:{index:0,layout:L.struct([L.u32("instruction"),X5()])},Authorize:{index:1,layout:L.struct([L.u32("instruction"),Fe("newAuthorized"),L.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:L.struct([L.u32("instruction"),L.ns64("lamports")])},AuthorizeWithSeed:{index:10,layout:L.struct([L.u32("instruction"),Q5()])}}),Ene=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),fl=class r{constructor(){}static initializeAccount(e){let{votePubkey:t,nodePubkey:n,voteInit:o}=e,s=ol.InitializeAccount,a=Ge(s,{voteInit:{nodePubkey:Ye(o.nodePubkey.toBuffer()),authorizedVoter:Ye(o.authorizedVoter.toBuffer()),authorizedWithdrawer:Ye(o.authorizedWithdrawer.toBuffer()),commission:o.commission}}),u={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:fc,isSigner:!1,isWritable:!1},{pubkey:$n,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a};return new Qe(u)}static createAccount(e){let t=new tt;return t.add(_r.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:o,voteAuthorizationType:s}=e,a=ol.Authorize,u=Ge(a,{newAuthorized:Ye(o.toBuffer()),voteAuthorizationType:s.index}),f=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:$n,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new tt().add({keys:f,programId:this.programId,data:u})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:o,newAuthorizedPubkey:s,voteAuthorizationType:a,votePubkey:u}=e,f=ol.AuthorizeWithSeed,g=Ge(f,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Ye(n.toBuffer()),currentAuthorityDerivedKeySeed:o,newAuthorized:Ye(s.toBuffer()),voteAuthorizationType:a.index}}),b=[{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:$n,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new tt().add({keys:b,programId:this.programId,data:g})}static withdraw(e){let{votePubkey:t,authorizedWithdrawerPubkey:n,lamports:o,toPubkey:s}=e,a=ol.Withdraw,u=Ge(a,{lamports:o}),f=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new tt().add({keys:f,programId:this.programId,data:u})}static safeWithdraw(e,t,n){if(e.lamports>t-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return r.withdraw(e)}};fl.programId=new Te("Vote111111111111111111111111111111111111111");fl.space=3731;var _ne=new Te("Va1idator1nfo111111111111111111111111111111"),Rne=ee({name:ce(),website:Re(ce()),details:Re(ce()),keybaseUsername:Re(ce())});var kne=new Te("Vote111111111111111111111111111111111111111"),Ane=L.struct([Fe("nodePubkey"),Fe("authorizedWithdrawer"),L.u8("commission"),L.nu64(),L.seq(L.struct([L.nu64("slot"),L.u32("confirmationCount")]),L.offset(L.u32(),-8),"votes"),L.u8("rootSlotValid"),L.nu64("rootSlot"),L.nu64(),L.seq(L.struct([L.nu64("epoch"),Fe("authorizedVoter")]),L.offset(L.u32(),-8),"authorizedVoters"),L.struct([L.seq(L.struct([Fe("authorizedPubkey"),L.nu64("epochOfLastAuthorizedSwitch"),L.nu64("targetEpoch")]),32,"buf"),L.nu64("idx"),L.u8("isEmpty")],"priorVoters"),L.nu64(),L.seq(L.struct([L.nu64("epoch"),L.nu64("credits"),L.nu64("prevCredits")]),L.offset(L.u32(),-8),"epochCredits"),L.struct([L.nu64("slot"),L.nu64("timestamp")],"lastTimestamp")]);l();var iT=je(Na()),aT=je(Ri()),yl=je(gm()),LU=r=>{let e=r.decode.bind(r),t=r.encode.bind(r);return{decode:e,encode:t}},ml=r=>e=>{let t=(0,aT.blob)(r,e),{encode:n,decode:o}=LU(t),s=t;return s.decode=(a,u)=>{let f=o(a,u);return(0,yl.toBigIntLE)(iT.Buffer.from(f))},s.encode=(a,u,f)=>{let g=(0,yl.toBufferLE)(a,r);return n(g,u,f)},s},NU=ml(8),Pne=ml(16),zne=ml(24),Mne=ml(32);l();var qU=je(Na());l();var CU=je(Na()),Zi=je(Ri());l();var gl=je(Js());var m0=je(co());l();vp.config({EXPONENTIAL_AT:1e3,DECIMAL_PLACES:78});l();var $ne=gl.Buffer.alloc(64).fill(0);var xl=r=>r&&"version"in r,cT=(r,e)=>xl(r)?gl.Buffer.from(r.serialize()):r.serialize(e!=null?e:{requireAllSignatures:!1,verifySignatures:!1}),Yi=(r,e)=>m0.default.encode(cT(r,e));var hc=(r,e)=>{let t;if(e==="base64")t=gl.Buffer.from(r,"base64");else if(e==="bs58")t=m0.default.decode(r);else throw new Error("Unsupported encoding");return nn.deserialize(t)};var yc=je(co()),lT=je(lo());l();var g0=je(co());l();function uT(){let r=[];try{let e=document.querySelectorAll("head link[rel^=apple-touch-icon]");(!e||e.length===0&&!e[0])&&(e=document.querySelectorAll("head link[rel='icon']")),r=Array.from(e).map(t=>{let n=t.getAttribute("sizes"),[o,s]=(n!=null?n:"0x0").split("x"),a=parseInt(o,10)||0,u=parseInt(s,10)||0;return{href:t.href,size:{width:a,height:u}}}),r=r.sort((t,n)=>t.size.width>n.size.width?-1:1)}catch(e){console.error(new Error(`[Provider: getTabMeta] failed to get dapp icons: ${e.message}`))}return r}var pT=r=>{document.addEventListener("readystatechange",function e(t){var n;((n=t.target)==null?void 0:n.readyState)==="interactive"&&(document.removeEventListener("readystatechange",e),r())})},x0=()=>{let r=uT()[0],e=Jt.phantom_dappIcon.notification.parse({jsonrpc:"2.0",method:"phantom_dappIcon",params:r?r.href:null});window.ReactNativeWebView.postMessage(JSON.stringify(e))};function w0(r){return xl(r)?"versioned":"legacy"}function UU(r){let e=g0.default.decode(r),t=nn.deserialize(e);return{transaction:t,metadata:{numInstructions:t.message.compiledInstructions.length,type:0}}}function b0(r){let{transaction:e,type:t}=r,n=g0.default.decode(e);if(t==="legacy"){let o=tt.from(n);return{transaction:o,metadata:{numInstructions:o.instructions.length,type:t}}}else{if(t===0)return UU(e);throw new Error(`Unknown transaction type => ${t}`)}}function $i(r){return Uint8Array.from(R.from(r,"base64"))}var DU=new Error("Unsupported path."),FU=(r,e=DU)=>{throw e},fT=r=>qr.common.SolanaSendOptions.safeParse(r).success,js,mc,sn,S0=class extends lT.EventEmitter{constructor(t){super();_e(this,"_injectionEndMs",null);_e(this,"_injectionStartMs",null);_e(this,"isPhantom",!0);_e(this,"_publicKey",null);se(this,js);se(this,mc,()=>{this.addListener(qr.common.SolanaProviderEvent.AccountChanged,t=>{t?this._publicKey=t:(this._publicKey=null,this.emit(qr.common.SolanaProviderEvent.Disconnect))})});se(this,sn,async t=>{var o;let n;try{let{method:s}=t,a="params"in t?(o=t.params)!=null?o:[]:[],u=qr[s];if(!u)throw new Error("MethodNotFound");let f=u.request.safeParse({jsonrpc:"2.0",id:jr().toString(),method:s,params:a});if(!f.success)throw f.error;let g=f.data;if(await q(this,js).start(),n=u.response.parse(await q(this,js).send(g)),"error"in n)throw new Ue(n.error);try{s==="sol_connect"?(this._publicKey=new Te(n.result.publicKey),this.emit(qr.common.SolanaProviderEvent.Connect,this._publicKey)):s==="sol_signIn"&&!this.isConnected&&(this._publicKey=new Te(n.result.address),this.emit(qr.common.SolanaProviderEvent.Connect,this._publicKey)),s==="sol_disconnect"&&(this._publicKey=null,this.emit(qr.common.SolanaProviderEvent.Disconnect))}catch(b){console.error("event emitter error",b)}return n.result}catch(s){throw s instanceof Ue?s:s instanceof jt?new Ue({code:-32e3,message:"Missing or invalid parameters."},{method:t.method}):s instanceof Error&&s.message==="MethodNotFound"?new Ue({code:-32601,message:`The method ${t.method} does not exist / is not available.`},{method:t.method}):new Ue({code:-32603,message:"Internal JSON-RPC error."},{method:t.method})}});_e(this,"connect",async t=>{let n={};(t==null?void 0:t.onlyIfTrusted)!==void 0&&(n.onlyIfTrusted=t.onlyIfTrusted),(t==null?void 0:t.eager)!==void 0&&(n.eager=t.eager);let o=await q(this,sn).call(this,{method:"sol_connect",params:n});return{publicKey:new Te(o.publicKey)}});_e(this,"disconnect",async()=>{this.isConnected&&await q(this,sn).call(this,{method:"sol_disconnect",params:void 0})});_e(this,"signTransaction",async t=>{if(!t)throw new Ue({code:-32e3,message:"Missing or invalid parameters."});let n=w0(t),o=await q(this,sn).call(this,{method:"sol_signTransaction",params:{transaction:Yi(t)}});return b0({transaction:o.transaction,type:n==="versioned"?0:"legacy"}).transaction});_e(this,"signAllTransactions",async(t=[])=>{if(!t||t.length===0)throw new Ue({code:-32e3,message:"Missing or invalid parameters."});let n=t.map(s=>w0(s)),o=await q(this,sn).call(this,{method:"sol_signAllTransactions",params:{transactions:t.map(s=>Yi(s))}});if(o.length!==t.length)throw new Error("Invalid number of transactions returned");return o.map((s,a)=>{let u=n[a];return b0({transaction:s.transaction,type:u==="versioned"?0:"legacy"}).transaction})});_e(this,"signAndSendTransaction",async(t,n={})=>{if(!t)throw new Ue({code:-32e3,message:"Missing or invalid parameters."});let o={};if(n)if(fT(n))o.skipPreflight=n.skipPreflight,o.preflightCommitment=n.preflightCommitment;else throw new Ue({code:-32e3,message:"Missing or invalid parameters."});return await q(this,sn).call(this,{method:"sol_signAndSendTransaction",params:{transaction:Yi(t),options:o}})});_e(this,"signAndSendAllTransactions",async(t,n={})=>{if(!t)throw new Ue({code:-32e3,message:"Missing or invalid parameters."});let o={};if(n)if(fT(n))o.skipPreflight=n.skipPreflight,o.preflightCommitment=n.preflightCommitment;else throw new Ue({code:-32e3,message:"Missing or invalid parameters."});return await q(this,sn).call(this,{method:"sol_signAndSendAllTransactions",params:{transactions:t.map(a=>Yi(a)),options:o}})});_e(this,"signMessage",async(t,n="utf8")=>{let o=await q(this,sn).call(this,{method:"sol_signMessage",params:{message:yc.default.encode(t),display:n}}),s=yc.default.decode(o.signature),a=new Te(o.publicKey);return{signature:s,publicKey:a}});_e(this,"signIn",async t=>{let n=await q(this,sn).call(this,{method:"sol_signIn",params:{signInData:t}}),o=new Te(n.address),s=yc.default.decode(n.signedMessage),a=yc.default.decode(n.signature);return{address:o,signedMessage:s,signature:a}});_e(this,"handleNotification",async t=>{var n,o,s,a;switch(t.method){case"phantom_accountChanged":{let u=Jt.phantom_accountChanged.notification.safeParse(t);if(!u.success)return;let f=(n=u.data.params)==null?void 0:n.sol;f!==((o=this.publicKey)==null?void 0:o.toBase58())&&this.emit(qr.common.SolanaProviderEvent.AccountChanged,f?new Te(f):null);break}case"phantom_trustRevoked":{let u=Jt.phantom_trustRevoked.notification.safeParse(t);if(!u.success)return;((s=u.data.params)==null?void 0:s.sol)===((a=this.publicKey)==null?void 0:a.toBase58())&&this.emit(qr.common.SolanaProviderEvent.AccountChanged,null);break}}});_e(this,"request",async({method:t,params:n})=>{switch(t){case"connect":return await this.connect(n);case"disconnect":return await this.disconnect();case"signMessage":return await this.signMessage(n==null?void 0:n.message,n==null?void 0:n.display);case"signTransaction":{let o=hc(n==null?void 0:n.message,"bs58");return await this.signTransaction(o)}case"signAllTransactions":{let o=[];n!=null&&n.message&&typeof(n==null?void 0:n.message)=="string"?o=[n==null?void 0:n.message]:n!=null&&n.message&&Array.isArray(n==null?void 0:n.message)?o=n==null?void 0:n.message:n!=null&&n.messages&&(o=n==null?void 0:n.messages);let s=o.map(a=>hc(a,"bs58"));return await this.signAllTransactions(s)}case"signAndSendTransaction":{let o=hc(n==null?void 0:n.message,"bs58");return await this.signAndSendTransaction(o)}default:throw FU(t),new Error("unsupported method: "+t)}});_e(this,"removeAllListeners",t=>{try{return super.removeAllListeners(t)}finally{q(this,mc).call(this)}});Me(this,js,t),q(this,js).start(),t.addListener(n=>{let o=$r.safeParse(n);o.success&&this.handleNotification(o.data)}),q(this,mc).call(this)}get publicKey(){return this._publicKey}get isConnected(){return this._publicKey!==null}};js=new WeakMap,mc=new WeakMap,sn=new WeakMap;var wl=class r extends S0{static inject(e){let t=window;t.isPhantomInstalled=!0;let n=new r;t.solana=n,t.phantom||Object.defineProperty(window,"phantom",{value:{},writable:!1}),Object.defineProperty(window.phantom,"solana",{value:n,writable:!1}),window.dispatchEvent(new Event("phantom#initialized")),n._injectionEndMs=window.performance.now(),n._injectionStartMs=e}constructor(){super(new Kr)}};l();var dT=je(co());var jU=["solana:signAndSendTransaction","solana:signMessage","solana:signTransaction","solana:signIn"],Do,Sl,vl,El,lr,dr,_l,Ks,v0,hT,Hs,gc,Rl,kl,Al,Il,Bl,Tl,Pl,E0=class E0{constructor(e){se(this,Ks);se(this,Do,{});se(this,Sl,"1.0.0");se(this,vl,"Phantom");se(this,El,us);se(this,lr,null);se(this,dr);se(this,_l,(e,t)=>{var n;return(n=q(this,Do)[e])!=null&&n.push(t)||(q(this,Do)[e]=[t]),()=>Kt(this,Ks,hT).call(this,e,t)});se(this,Hs,()=>{var t;let e=(t=q(this,dr).publicKey)==null?void 0:t.toBase58();if(e){let n=q(this,dr).publicKey.toBytes(),o=q(this,lr);(!o||o.address!==e||!Ed(o.publicKey,n))&&(Me(this,lr,new fn({address:e,publicKey:n,chains:oa,features:jU})),Kt(this,Ks,v0).call(this,"change",{accounts:this.accounts}))}});se(this,gc,()=>{q(this,lr)&&(Me(this,lr,null),Kt(this,Ks,v0).call(this,"change",{accounts:this.accounts}))});se(this,Rl,()=>{q(this,dr).publicKey?q(this,Hs).call(this):q(this,gc).call(this)});se(this,kl,async({silent:e}={})=>(q(this,lr)||await q(this,dr).connect(e?{onlyIfTrusted:!0}:void 0),q(this,Hs).call(this),{accounts:this.accounts}));se(this,Al,async()=>{await q(this,dr).disconnect()});se(this,Il,async(...e)=>{if(!q(this,lr))throw new Error("not connected");let t=[];for(let n of e){let{transaction:o,account:s,chain:a,options:u}=n,{preflightCommitment:f,skipPreflight:g,maxRetries:b}=u||{};if(!q(this,lr).equals(s))throw new Error("invalid account");if(!vd(a))throw new Error("invalid chain");let{signature:S}=await q(this,dr).signAndSendTransaction(nn.deserialize(o),{preflightCommitment:f,maxRetries:b,skipPreflight:g});t.push({signature:dT.default.decode(S)})}return t});se(this,Bl,async(...e)=>{if(!q(this,lr))throw new Error("not connected");let t=[];if(e.length===1){let n=e[0],o=nn.deserialize(n.transaction),s=await q(this,dr).signTransaction(o);if(!s)return[];t.push({signedTransaction:s.serialize()})}else if(e.length>1){let n=new Map;for(let[o,s]of e.entries()){let a=n.get(s.account);a||(a=[],n.set(s.account,a)),a.push([o,nn.deserialize(s.transaction)])}for(let[o,s]of n.entries()){let[a,u]=s.reduce(([g,b],[S,O])=>(g.push(S),b.push(O),[g,b]),[[],[]]),f=await q(this,dr).signAllTransactions(u);for(let[g,b]of a.entries())t[b]={signedTransaction:f[g].serialize()}}}return t});se(this,Tl,async(...e)=>{if(!q(this,lr))throw new Error("not connected");let t=[];for(let n of e){let{message:o,account:s}=n;if(!q(this,lr).equals(s))throw new Error("invalid account");let{signature:a}=await q(this,dr).signMessage(o);t.push({signedMessage:o,signature:a})}return t});se(this,Pl,async(...e)=>{let t=[];for(let n of e){let o={...n,resources:n.resources?Array.from(n.resources):void 0},{signedMessage:s,signature:a}=await q(this,dr).signIn(o);t.push({account:q(this,lr),signedMessage:s,signature:a})}return t});new.target===E0&&Object.freeze(this),Me(this,dr,e),e.on("connect",q(this,Hs),this),e.on("disconnect",q(this,gc),this),e.on("accountChanged",q(this,Rl),this),q(this,dr).request({method:"connect",params:{onlyIfTrusted:!0,eager:!0}}).then(()=>{q(this,Hs).call(this)}).catch(()=>{})}get version(){return q(this,Sl)}get name(){return q(this,vl)}get icon(){return q(this,El)}get chains(){return oa.slice()}get features(){return{"standard:connect":{version:"1.0.0",connect:q(this,kl)},"standard:disconnect":{version:"1.0.0",disconnect:q(this,Al)},"standard:events":{version:"1.0.0",on:q(this,_l)},"solana:signAndSendTransaction":{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:q(this,Il)},"solana:signTransaction":{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:q(this,Bl)},"solana:signMessage":{version:"1.0.0",signMessage:q(this,Tl)},"solana:signIn":{version:"1.0.0",signIn:q(this,Pl)},"phantom:":{phantom:q(this,dr)}}}get accounts(){return q(this,lr)?[q(this,lr)]:[]}};Do=new WeakMap,Sl=new WeakMap,vl=new WeakMap,El=new WeakMap,lr=new WeakMap,dr=new WeakMap,_l=new WeakMap,Ks=new WeakSet,v0=function(e,...t){var n;(n=q(this,Do)[e])==null||n.forEach(o=>o.apply(null,t))},hT=function(e,t){var n;q(this,Do)[e]=(n=q(this,Do)[e])==null?void 0:n.filter(o=>t!==o)},Hs=new WeakMap,gc=new WeakMap,Rl=new WeakMap,kl=new WeakMap,Al=new WeakMap,Il=new WeakMap,Bl=new WeakMap,Tl=new WeakMap,Pl=new WeakMap;var bl=E0;l();var yT=je(lo());var Ji,Fo,jo,_0=class extends yT.default{constructor(t){super();_e(this,"_injectionEndMs",null);_e(this,"_injectionStartMs",null);_e(this,"isPhantom",!0);se(this,Ji);se(this,Fo);_e(this,"requestAccount",async()=>{let t=await q(this,jo).call(this,{method:"sui_requestAccounts",params:{}}),n={address:t.address,publicKey:$i(t.publicKey)};return this.emit("accountChanged",n),n});_e(this,"signMessage",async(t,n)=>await q(this,jo).call(this,{method:"sui_signMessage",params:{message:t,address:n}}));_e(this,"signTransaction",async t=>{let{networkID:n,transaction:o,address:s}=t;return await q(this,jo).call(this,{method:"sui_signTransaction",params:{transaction:o,address:s,networkID:n}})});_e(this,"signAndExecuteTransaction",async t=>{let{networkID:n,transaction:o,address:s}=t;return await q(this,jo).call(this,{method:"sui_signAndExecuteTransaction",params:{transaction:o,address:s,networkID:n}})});_e(this,"handleNotification",async t=>{var n,o;switch(t.method){case"phantom_accountChanged":{let s=Jt.phantom_accountChanged.notification.safeParse(t);if(!s.success)return;let a=(n=s.data.params)==null?void 0:n.sui;if(!a){this.emit("accountChanged",null);return}let u={address:a.address,publicKey:$i(a.publicKey)};Fr(u,q(this,Fo))||this.emit("accountChanged",u);break}case"phantom_trustRevoked":{let s=Jt.phantom_trustRevoked.notification.safeParse(t);if(!s.success)return;let a=(o=s.data.params)==null?void 0:o.sui;if(!a){this.emit("accountChanged",null);return}let u={address:a.address,publicKey:$i(a.publicKey)};Fr(u,q(this,Fo))&&this.emit("accountChanged",null);break}}});se(this,jo,async t=>{var o;let n;try{let{method:s}=t,a="params"in t?(o=t.params)!=null?o:[]:[],u=Ap[s];if(!u)throw new Error("MethodNotFound");let f=u.request.safeParse({jsonrpc:"2.0",id:jr().toString(),method:s,params:a});if(!f.success)throw f.error;let g=f.data,b=await q(this,Ji).send(g);if(n=u.response.parse(b),"error"in n)throw new Ue(n.error);return n.result}catch(s){throw s instanceof Ue?s:s instanceof jt?new Ue({code:-32e3,message:"Missing or invalid parameters."},{method:t.method}):s instanceof Error&&s.message==="MethodNotFound"?new Ue({code:-32601,message:`The method ${t.method} does not exist / is not available.`},{method:t.method}):new Ue({code:-32603,message:"Internal JSON-RPC error."},{method:t.method})}});_e(this,"request",async t=>q(this,jo).call(this,t));Me(this,Ji,t),q(this,Ji).start(),Me(this,Fo,null),t.addListener(n=>{let o=$r.safeParse(n);o.success&&this.handleNotification(o.data)}),this.on("accountChanged",n=>{n?Me(this,Fo,n):(Me(this,Fo,null),this.emit("disconnect"))})}};Ji=new WeakMap,Fo=new WeakMap,jo=new WeakMap;var zl=class r extends _0{static inject(e){let t=window,n=new r;t.phantom||Object.defineProperty(window,"phantom",{value:{},writable:!1}),Object.defineProperty(window.phantom,"sui",{value:n,writable:!1}),n._injectionEndMs=window.performance.now(),n._injectionStartMs=e}constructor(){super(new Kr)}};l();var mT=(g=>(g.STANDARD__CONNECT="standard:connect",g.STANDARD__DISCONNECT="standard:disconnect",g.STANDARD__EVENTS="standard:events",g.SUI__SIGN_AND_EXECUTE_TRANSACTION="sui:signAndExecuteTransaction",g.SUI__SIGN_TRANSACTION="sui:signTransaction",g.SUI__SIGN_PERSONAL_MESSAGE="sui:signPersonalMessage",g.SUI__REPORT_TRANSACTION_EFFECTS="sui:reportTransactionEffects",g.SUI__SIGN_AND_EXECUTE_TRANSACTION_BLOCK="sui:signAndExecuteTransactionBlock",g.SUI__SIGN_TRANSACTION_BLOCK="sui:signTransactionBlock",g))(mT||{}),Ho,Ll,Nl,Cl,Rr,An,xc,wc,Ol,ql,Ul,Dl,Fl,jl,Hl,Vs,R0,gT,Xi,Ws,Kl,bc,k0=class k0{constructor(e){se(this,Vs);se(this,Ho,{});se(this,Ll,"1.0.0");se(this,Nl,"Phantom");se(this,Cl,us);se(this,Rr);se(this,An,null);se(this,xc,async e=>{let t=await q(this,Rr).requestAccount();return q(this,Xi).call(this,t)});se(this,wc,async()=>{q(this,An)&&(Me(this,An,null),Kt(this,Vs,R0).call(this,"change",{accounts:this.accounts}))});se(this,Ol,async e=>{let{account:t,message:n}=e;if(!t||!n)throw new Error("Invalid input");await q(this,bc).call(this);let{signature:o,message:s}=await q(this,Rr).signMessage(n,t.address);return{signature:o,bytes:s}});se(this,ql,async e=>{let t=await q(this,Ws).call(this,e),{signature:n,transaction:o}=await q(this,Rr).signTransaction(t);return{signature:n,bytes:o}});se(this,Ul,async e=>{let t=await q(this,Ws).call(this,e),{signature:n,transaction:o,digest:s,effects:a}=await q(this,Rr).signAndExecuteTransaction(t);return{signature:n,bytes:o,digest:s,effects:a}});se(this,Dl,async e=>{});se(this,Fl,async e=>{let{account:t,transactionBlock:n,chain:o}=e,s=await q(this,Ws).call(this,{account:t,transaction:n,chain:o}),{signature:a,transaction:u}=await q(this,Rr).signTransaction(s);return{signature:a,transactionBlockBytes:u}});se(this,jl,async e=>{let{account:t,transactionBlock:n,chain:o}=e,s=await q(this,Ws).call(this,{account:t,transaction:n,chain:o}),{digest:a}=await q(this,Rr).signAndExecuteTransaction(s);return{digest:a}});se(this,Hl,(e,t)=>{var n;return(n=q(this,Ho)[e])!=null&&n.push(t)||(q(this,Ho)[e]=[t]),()=>Kt(this,Vs,gT).call(this,e,t)});se(this,Xi,e=>(e&&(Me(this,An,new fn({address:e.address,publicKey:e.publicKey,chains:this.chains,features:Object.values(mT)})),Kt(this,Vs,R0).call(this,"change",{accounts:this.accounts})),{accounts:this.accounts}));se(this,Ws,async e=>{let{account:t,transaction:n,chain:o}=e;if(!t||!n||!o)throw new Error("Missing required fields: account, transaction, or chain");let s=await q(this,Kl).call(this,n);return await q(this,bc).call(this),{transaction:s,address:t.address,networkID:o}});se(this,Kl,async e=>{if(!e||typeof e!="object")throw new Error("Invalid transaction object");if("toJSON"in e&&typeof e.toJSON=="function"){let t=await e.toJSON();if(!t)throw new Error("Transaction serialization failed");return t}if("serialize"in e&&typeof e.serialize=="function"){let t=e.serialize();if(!t)throw new Error("Transaction serialization failed");return t}throw new Error("Transaction must implement toJSON() or serialize()")});se(this,bc,async()=>{if((!q(this,Rr)||!q(this,An))&&(await q(this,xc).call(this),!q(this,Rr)||!q(this,An)))throw new Error("Failed to establish wallet connection")});new.target===k0&&Object.freeze(this),Me(this,Rr,e),e.on("accountChanged",q(this,Xi),this),e.on("disconnect",q(this,wc),this),this.silentConnect().catch(()=>{})}get version(){return q(this,Ll)}get name(){return q(this,Nl)}get icon(){return q(this,Cl)}get chains(){return _d}get accounts(){return q(this,An)?[q(this,An)]:[]}get features(){return{"standard:connect":{version:"1.0.0",connect:q(this,xc)},"standard:disconnect":{version:"1.0.0",disconnect:q(this,wc)},"standard:events":{version:"1.0.0",on:q(this,Hl)},"sui:signPersonalMessage":{version:"1.0.0",signPersonalMessage:q(this,Ol)},"sui:signTransaction":{version:"2.0.0",signTransaction:q(this,ql)},"sui:signAndExecuteTransaction":{version:"2.0.0",signAndExecuteTransaction:q(this,Ul)},"sui:reportTransactionEffects":{version:"1.0.0",reportTransactionEffects:q(this,Dl)},"sui:signAndExecuteTransactionBlock":{version:"1.0.0",signAndExecuteTransactionBlock:q(this,jl)},"sui:signTransactionBlock":{version:"1.0.0",signTransactionBlock:q(this,Fl)}}}async silentConnect(){let e=await q(this,Rr).request({method:"sui_requestAccounts",params:{onlyIfTrusted:!0,eager:!0}}),t={address:e.address,publicKey:$i(e.publicKey)};if(!t.address||!t.publicKey)throw new Error("No account found");setTimeout(()=>{q(this,Rr).emit("accountChanged",t),q(this,Xi).call(this,t)},500)}};Ho=new WeakMap,Ll=new WeakMap,Nl=new WeakMap,Cl=new WeakMap,Rr=new WeakMap,An=new WeakMap,xc=new WeakMap,wc=new WeakMap,Ol=new WeakMap,ql=new WeakMap,Ul=new WeakMap,Dl=new WeakMap,Fl=new WeakMap,jl=new WeakMap,Hl=new WeakMap,Vs=new WeakSet,R0=function(e,...t){var n;(n=q(this,Ho)[e])==null||n.forEach(o=>o.apply(null,t))},gT=function(e,t){var n;q(this,Ho)[e]=(n=q(this,Ho)[e])==null?void 0:n.filter(o=>t!==o)},Xi=new WeakMap,Ws=new WeakMap,Kl=new WeakMap,bc=new WeakMap;var Ml=k0;var xT=()=>{let r=window.performance.now();Hp.inject(r),wl.inject(r),Pp.inject(r),zl.inject(r),Kp.inject(),na(new bl(window.phantom.solana)),na(new Lp(window.phantom.bitcoin)),na(new Ml(window.phantom.sui)),x0(),pT(()=>{x0()})};try{xT()}catch(r){console.error(r)}})();
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

js-sha3/src/sha3.js:
  (**
   * [js-sha3]{@link https://github.com/emn178/js-sha3}
   *
   * @version 0.8.0
   * @author Chen, Yi-Cyuan [emn178@gmail.com]
   * @copyright Chen, Yi-Cyuan 2015-2018
   * @license MIT
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@solana/buffer-layout/lib/Layout.js:
  (**
   * Support for translating between Uint8Array instances and JavaScript
   * native types.
   *
   * {@link module:Layout~Layout|Layout} is the basis of a class
   * hierarchy that associates property names with sequences of encoded
   * bytes.
   *
   * Layouts are supported for these scalar (numeric) types:
   * * {@link module:Layout~UInt|Unsigned integers in little-endian
   *   format} with {@link module:Layout.u8|8-bit}, {@link
   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
   *   {@link module:Layout.u32|32-bit}, {@link
   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
   *   format} with {@link module:Layout.u16be|16-bit}, {@link
   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
   *   {@link module:Layout.u40be|40-bit}, and {@link
   *   module:Layout.u48be|48-bit} representation ranges;
   * * {@link module:Layout~Int|Signed integers in little-endian
   *   format} with {@link module:Layout.s8|8-bit}, {@link
   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
   *   {@link module:Layout.s32|32-bit}, {@link
   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~IntBE|Signed integers in big-endian format}
   *   with {@link module:Layout.s16be|16-bit}, {@link
   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
   *   {@link module:Layout.s40be|40-bit}, and {@link
   *   module:Layout.s48be|48-bit} representation ranges;
   * * 64-bit integral values that decode to an exact (if magnitude is
   *   less than 2^53) or nearby integral Number in {@link
   *   module:Layout.nu64|unsigned little-endian}, {@link
   *   module:Layout.nu64be|unsigned big-endian}, {@link
   *   module:Layout.ns64|signed little-endian}, and {@link
   *   module:Layout.ns64be|unsigned big-endian} encodings;
   * * 32-bit floating point values with {@link
   *   module:Layout.f32|little-endian} and {@link
   *   module:Layout.f32be|big-endian} representations;
   * * 64-bit floating point values with {@link
   *   module:Layout.f64|little-endian} and {@link
   *   module:Layout.f64be|big-endian} representations;
   * * {@link module:Layout.const|Constants} that take no space in the
   *   encoded expression.
   *
   * and for these aggregate types:
   * * {@link module:Layout.seq|Sequence}s of instances of a {@link
   *   module:Layout~Layout|Layout}, with JavaScript representation as
   *   an Array and constant or data-dependent {@link
   *   module:Layout~Sequence#count|length};
   * * {@link module:Layout.struct|Structure}s that aggregate a
   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
   *   instances, with JavaScript representation as an Object;
   * * {@link module:Layout.union|Union}s that support multiple {@link
   *   module:Layout~VariantLayout|variant layouts} over a fixed
   *   (padded) or variable (not padded) span of bytes, using an
   *   unsigned integer at the start of the data or a separate {@link
   *   module:Layout.unionLayoutDiscriminator|layout element} to
   *   determine which layout to use when interpreting the buffer
   *   contents;
   * * {@link module:Layout.bits|BitStructure}s that contain a sequence
   *   of individual {@link
   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
   *   16, 24, or 32-bit unsigned integer starting at the least- or
   *   most-significant bit;
   * * {@link module:Layout.cstr|C strings} of varying length;
   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
   *   module:Layout~Blob#length|length} raw data.
   *
   * All {@link module:Layout~Layout|Layout} instances are immutable
   * after construction, to prevent internal state from becoming
   * inconsistent.
   *
   * @local Layout
   * @local ExternalLayout
   * @local GreedyCount
   * @local OffsetLayout
   * @local UInt
   * @local UIntBE
   * @local Int
   * @local IntBE
   * @local NearUInt64
   * @local NearUInt64BE
   * @local NearInt64
   * @local NearInt64BE
   * @local Float
   * @local FloatBE
   * @local Double
   * @local DoubleBE
   * @local Sequence
   * @local Structure
   * @local UnionDiscriminator
   * @local UnionLayoutDiscriminator
   * @local Union
   * @local VariantLayout
   * @local BitStructure
   * @local BitField
   * @local Boolean
   * @local Blob
   * @local CString
   * @local Constant
   * @local bindConstructorLayout
   * @module Layout
   * @license MIT
   * @author Peter A. Bigot
   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
   *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

@babel/runtime/helpers/regeneratorRuntime.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/ed25519/lib/esm/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/secp256k1/lib/esm/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)
*/
